!function(e){function a(e){var a=document.createElement("input"),t="on"+e,i=t in a;return i||(a.setAttribute(t,"return;"),i="function"==typeof a[t]),a=null,i}function t(e){var a="text"==e||"tel"==e||"password"==e;if(!a){var t=document.createElement("input");t.setAttribute("type",e),a="text"===t.type,t=null}return a}function i(a,t,r){var n=r.aliases[a];return n?(n.alias&&i(n.alias,void 0,r),e.extend(!0,r,n),e.extend(!0,r,t),!0):!1}function r(a,t){function i(t){function i(e,a,t,i){this.matches=[],this.isGroup=e||!1,this.isOptional=a||!1,this.isQuantifier=t||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function r(t,i,r){var n=a.definitions[i],o=0==t.matches.length;if(r=void 0!=r?r:t.matches.length,n&&!p){n.placeholder=e.isFunction(n.placeholder)?n.placeholder.call(this,a):n.placeholder;for(var s=n.prevalidator,l=s?s.length:0,u=1;u<n.cardinality;u++){var d=l>=u?s[u-1]:[],c=d.validator,f=d.cardinality;t.matches.splice(r++,0,{fn:c?"string"==typeof c?new RegExp(c):new function(){this.test=c}:new RegExp("."),cardinality:f?f:1,optionality:t.isOptional,newBlockMarker:o,casing:n.casing,def:n.definitionSymbol||i,placeholder:n.placeholder,mask:i})}t.matches.splice(r++,0,{fn:n.validator?"string"==typeof n.validator?new RegExp(n.validator):new function(){this.test=n.validator}:new RegExp("."),cardinality:n.cardinality,optionality:t.isOptional,newBlockMarker:o,casing:n.casing,def:n.definitionSymbol||i,placeholder:n.placeholder,mask:i})}else t.matches.splice(r++,0,{fn:null,cardinality:0,optionality:t.isOptional,newBlockMarker:o,casing:null,def:i,placeholder:void 0,mask:i}),p=!1}for(var n,o,s,l,u,d,c=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,p=!1,f=new i,m=[],v=[];n=c.exec(t);)switch(o=n[0],o.charAt(0)){case a.optionalmarker.end:case a.groupmarker.end:if(s=m.pop(),m.length>0){if(l=m[m.length-1],l.matches.push(s),l.isAlternator){u=m.pop();for(var h=0;h<u.matches.length;h++)u.matches[h].isGroup=!1;m.length>0?(l=m[m.length-1],l.matches.push(u)):f.matches.push(u)}}else f.matches.push(s);break;case a.optionalmarker.start:m.push(new i(!1,!0));break;case a.groupmarker.start:m.push(new i(!0));break;case a.quantifiermarker.start:var g=new i(!1,!1,!0);o=o.replace(/[{}]/g,"");var y=o.split(","),k=isNaN(y[0])?y[0]:parseInt(y[0]),b=1==y.length?k:isNaN(y[1])?y[1]:parseInt(y[1]);if(("*"==b||"+"==b)&&(k="*"==b?0:1),g.quantifier={min:k,max:b},m.length>0){var x=m[m.length-1].matches;if(n=x.pop(),!n.isGroup){var S=new i(!0);S.matches.push(n),n=S}x.push(n),x.push(g)}else{if(n=f.matches.pop(),!n.isGroup){var S=new i(!0);S.matches.push(n),n=S}f.matches.push(n),f.matches.push(g)}break;case a.escapeChar:p=!0;break;case a.alternatormarker:m.length>0?(l=m[m.length-1],d=l.matches.pop()):d=f.matches.pop(),d.isAlternator?m.push(d):(u=new i(!1,!1,!1,!0),u.matches.push(d),m.push(u));break;default:if(m.length>0){if(l=m[m.length-1],l.matches.length>0&&!l.isAlternator&&(d=l.matches[l.matches.length-1],d.isGroup&&(d.isGroup=!1,r(d,a.groupmarker.start,0),r(d,a.groupmarker.end))),r(l,o),l.isAlternator){u=m.pop();for(var h=0;h<u.matches.length;h++)u.matches[h].isGroup=!1;m.length>0?(l=m[m.length-1],l.matches.push(u)):f.matches.push(u)}}else f.matches.length>0&&(d=f.matches[f.matches.length-1],d.isGroup&&(d.isGroup=!1,r(d,a.groupmarker.start,0),r(d,a.groupmarker.end))),r(f,o)}return f.matches.length>0&&(d=f.matches[f.matches.length-1],d.isGroup&&(d.isGroup=!1,r(d,a.groupmarker.start,0),r(d,a.groupmarker.end)),v.push(f)),v}function r(r,n){if(void 0==r||""==r)return void 0;if(1==r.length&&0==a.greedy&&0!=a.repeat&&(a.placeholder=""),a.repeat>0||"*"==a.repeat||"+"==a.repeat){var o="*"==a.repeat?0:"+"==a.repeat?1:a.repeat;r=a.groupmarker.start+r+a.groupmarker.end+a.quantifiermarker.start+o+","+a.repeat+a.quantifiermarker.end}var s;return void 0==e.inputmask.masksCache[r]||t===!0?(s={mask:r,maskToken:i(r),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:n},t!==!0&&(e.inputmask.masksCache[r]=s)):s=e.extend(!0,{},e.inputmask.masksCache[r]),s}function n(e){if(e=e.toString(),a.numericInput){e=e.split("").reverse();for(var t=0;t<e.length;t++)e[t]==a.optionalmarker.start?e[t]=a.optionalmarker.end:e[t]==a.optionalmarker.end?e[t]=a.optionalmarker.start:e[t]==a.groupmarker.start?e[t]=a.groupmarker.end:e[t]==a.groupmarker.end&&(e[t]=a.groupmarker.start);e=e.join("")}return e}var o=void 0;if(e.isFunction(a.mask)&&(a.mask=a.mask.call(this,a)),e.isArray(a.mask)){if(a.mask.length>1){a.keepStatic=void 0==a.keepStatic?!0:a.keepStatic;var s="(";return e.each(a.mask,function(a,t){s.length>1&&(s+=")|("),s+=n(void 0==t.mask||e.isFunction(t.mask)?t:t.mask)}),s+=")",r(s,a.mask)}a.mask=a.mask.pop()}return a.mask&&(o=void 0==a.mask.mask||e.isFunction(a.mask.mask)?r(n(a.mask),a.mask):r(n(a.mask.mask),a.mask)),o}function n(i,r,n){function o(e,a,t){a=a||0;var i,r,n,o=[],s=0;do{if(e===!0&&c().validPositions[s]){var l=c().validPositions[s];r=l.match,i=l.locator.slice(),o.push(t===!0?l.input:O(s,r))}else n=h(s,i,s-1),r=n.match,i=n.locator.slice(),o.push(O(s,r));s++}while((void 0==ie||ie>s-1)&&null!=r.fn||null==r.fn&&""!=r.def||a>=s);return o.pop(),o}function c(){return r}function p(e){var a=c();a.buffer=void 0,a.tests={},e!==!0&&(a._buffer=void 0,a.validPositions={},a.p=0)}function f(e,a){var t=c(),i=-1,r=t.validPositions;void 0==e&&(e=-1);var n=i,o=i;for(var s in r){var l=parseInt(s);r[l]&&(a||null!=r[l].match.fn)&&(e>=l&&(n=l),l>=e&&(o=l))}return i=-1!=n&&e-n>1||e>o?n:o}function m(a,t,i){if(n.insertMode&&void 0!=c().validPositions[a]&&void 0==i){var r,o=e.extend(!0,{},c().validPositions),s=f();for(r=a;s>=r;r++)delete c().validPositions[r];c().validPositions[a]=t;var l,u=!0,d=c().validPositions;for(r=l=a;s>=r;r++){var p=o[r];if(void 0!=p)for(var m=l,v=-1;m<E()&&(null==p.match.fn&&d[r]&&(d[r].match.optionalQuantifier===!0||d[r].match.optionality===!0)||null!=p.match.fn);){if(null==p.match.fn||!n.keepStatic&&d[r]&&(void 0!=d[r+1]&&k(r+1,d[r].locator.slice(),r).length>1||void 0!=d[r].alternation)?m++:m=C(l),y(m,p.match.def)){u=_(m,p.input,!0,!0)!==!1,l=m;break}if(u=null==p.match.fn,v==m)break;v=m}if(!u)break}if(!u)return c().validPositions=e.extend(!0,{},o),!1}else c().validPositions[a]=t;return!0}function v(e,a,t,i){var r,o=e;for(c().p=e,void 0!=c().validPositions[e]&&c().validPositions[e].input==n.radixPoint&&(a++,o++),r=o;a>r;r++)void 0!=c().validPositions[r]&&(t===!0||0!=n.canClearPosition(c(),r,f(),i,n))&&delete c().validPositions[r];for(p(!0),r=o+1;r<=f();){for(;void 0!=c().validPositions[o];)o++;var s=c().validPositions[o];o>r&&(r=o+1);var l=c().validPositions[r];void 0!=l&&void 0==s?(y(o,l.match.def)&&_(o,l.input,!0)!==!1&&(delete c().validPositions[r],r++),o++):r++}var u=f(),d=E();for(u>=e&&void 0!=c().validPositions[u]&&c().validPositions[u].input==n.radixPoint&&delete c().validPositions[u],r=u+1;d>=r;r++)c().validPositions[r]&&delete c().validPositions[r];p(!0)}function h(e,a,t){var i=c().validPositions[e];if(void 0==i)for(var r=k(e,a,t),o=f(),s=c().validPositions[o]||k(0)[0],l=void 0!=s.alternation?s.locator[s.alternation].toString().split(","):[],u=0;u<r.length&&(i=r[u],!(i.match&&(n.greedy&&i.match.optionalQuantifier!==!0||(i.match.optionality===!1||i.match.newBlockMarker===!1)&&i.match.optionalQuantifier!==!0)&&(void 0==s.alternation||s.alternation!=i.alternation||void 0!=i.locator[s.alternation]&&A(i.locator[s.alternation].toString().split(","),l))));u++);return i}function g(e){return c().validPositions[e]?c().validPositions[e].match:k(e)[0].match}function y(e,a){for(var t=!1,i=k(e),r=0;r<i.length;r++)if(i[r].match&&i[r].match.def==a){t=!0;break}return t}function k(a,t,i,r){function n(t,i,r,o){function l(r,o,f){if(s>1e4)return alert("jquery.inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+c().mask),!0;if(s==a&&void 0==r.matches)return u.push({match:r,locator:o.reverse()}),!0;if(void 0!=r.matches){if(r.isGroup&&f!==!0){if(r=l(t.matches[p+1],o))return!0}else if(r.isOptional){var m=r;if(r=n(r,i,o,f)){var v=u[u.length-1].match,h=0==e.inArray(v,m.matches);if(!h)return!0;d=!0,s=a}}else if(r.isAlternator){var g,y=r,k=[],b=u.slice(),x=o.length,S=i.length>0?i.shift():-1;if(-1==S||"string"==typeof S){var P=s,A=i.slice(),_=[];"string"==typeof S&&(_=S.split(","));for(var w=0;w<y.matches.length;w++){if(u=[],r=l(y.matches[w],[w].concat(o),f)||r,r!==!0&&void 0!=r&&_[_.length-1]<y.matches.length){var E=t.matches.indexOf(r)+1;t.matches.length>E&&(r=l(t.matches[E],[E].concat(o.slice(1,o.length)),f),r&&(_.push(E.toString()),e.each(u,function(e,a){a.alternation=o.length-1})))}g=u.slice(),s=P,u=[];for(var C=0;C<A.length;C++)i[C]=A[C];for(var I=0;I<g.length;I++){var M=g[I];M.alternation=M.alternation||x;for(var R=0;R<k.length;R++){var O=k[R];if(M.match.mask==O.match.mask&&("string"!=typeof S||-1!=e.inArray(M.locator[M.alternation].toString(),_))){g.splice(I,1),I--,O.locator[M.alternation]=O.locator[M.alternation]+","+M.locator[M.alternation],O.alternation=M.alternation;break}}}k=k.concat(g)}"string"==typeof S&&(k=e.map(k,function(a,t){if(isFinite(t)){var i,r=a.alternation,n=a.locator[r].toString().split(",");a.locator[r]=void 0,a.alternation=void 0;for(var o=0;o<n.length;o++)i=-1!=e.inArray(n[o],_),i&&(void 0!=a.locator[r]?(a.locator[r]+=",",a.locator[r]+=n[o]):a.locator[r]=parseInt(n[o]),a.alternation=r);if(void 0!=a.locator[r])return a}})),u=b.concat(k),s=a,d=u.length>0}else r=y.matches[S]?l(y.matches[S],[S].concat(o),f):!1;if(r)return!0}else if(r.isQuantifier&&f!==!0)for(var T=r,N=i.length>0&&f!==!0?i.shift():0;N<(isNaN(T.quantifier.max)?N+1:T.quantifier.max)&&a>=s;N++){var D=t.matches[e.inArray(T,t.matches)-1];if(r=l(D,[N].concat(o),!0)){var v=u[u.length-1].match;v.optionalQuantifier=N>T.quantifier.min-1;var h=0==e.inArray(v,D.matches);if(h){if(N>T.quantifier.min-1){d=!0,s=a;break}return!0}return!0}}else if(r=n(r,i,o,f))return!0}else s++}for(var p=i.length>0?i.shift():0;p<t.matches.length;p++)if(t.matches[p].isQuantifier!==!0){var f=l(t.matches[p],[p].concat(r),o);if(f&&s==a)return f;if(s>a)break}}var o=c().maskToken,s=t?i:0,l=t||[0],u=[],d=!1;if(r===!0&&c().tests[a])return c().tests[a];if(void 0==t){for(var p,f=a-1;void 0==(p=c().validPositions[f])&&f>-1&&(!c().tests[f]||void 0==(p=c().tests[f][0]));)f--;void 0!=p&&f>-1&&(s=f,l=p.locator.slice())}for(var m=l.shift();m<o.length;m++){var v=n(o[m],l,[m]);if(v&&s==a||s>a)break}return(0==u.length||d)&&u.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),c().tests[a]=e.extend(!0,[],u),c().tests[a]}function b(){return void 0==c()._buffer&&(c()._buffer=o(!1,1)),c()._buffer}function x(){return void 0==c().buffer&&(c().buffer=o(!0,f(),!0)),c().buffer}function S(e,a,t){if(t=t||x().slice(),e===!0)p(),e=0,a=t.length;else for(var i=e;a>i;i++)delete c().validPositions[i],delete c().tests[i];for(var i=e;a>i;i++)t[i]!=n.skipOptionalPartCharacter&&_(i,t[i],!0,!0)}function P(e,a){switch(a.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e}function A(a,t){for(var i=n.greedy?t:t.slice(0,1),r=!1,o=0;o<a.length;o++)if(-1!=e.inArray(a[o],i)){r=!0;break}return r}function _(a,t,i,r){function o(a,t,i,r){var o=!1;return e.each(k(a),function(s,l){for(var u=l.match,d=t?1:0,h="",g=(x(),u.cardinality);g>d;g--)h+=M(a-(g-1));if(t&&(h+=t),o=null!=u.fn?u.fn.test(h,c(),a,i,n):t!=u.def&&t!=n.skipOptionalPartCharacter||""==u.def?!1:{c:u.def,pos:a},o!==!1){var y=void 0!=o.c?o.c:t;y=y==n.skipOptionalPartCharacter&&null===u.fn?u.def:y;var k=a,b=x();if(void 0!=o.remove&&(e.isArray(o.remove)||(o.remove=[o.remove]),e.each(o.remove.sort(function(e,a){return a-e}),function(e,a){v(a,a+1,!0)})),void 0!=o.insert&&(e.isArray(o.insert)||(o.insert=[o.insert]),e.each(o.insert.sort(function(e,a){return e-a}),function(e,a){_(a.pos,a.c,!0)})),o.refreshFromBuffer){var A=o.refreshFromBuffer;if(i=!0,S(A===!0?A:A.start,A.end,b),void 0==o.pos&&void 0==o.c)return o.pos=f(),!1;if(k=void 0!=o.pos?o.pos:a,k!=a)return o=e.extend(o,_(k,y,!0)),!1}else if(o!==!0&&void 0!=o.pos&&o.pos!=a&&(k=o.pos,S(a,k),k!=a))return o=e.extend(o,_(k,y,!0)),!1;return 1!=o&&void 0==o.pos&&void 0==o.c?!1:(s>0&&p(!0),m(k,e.extend({},l,{input:P(y,u)}),r)||(o=!1),!1)}}),o}function s(a,t,i,r){for(var o,s,l,u,d=e.extend(!0,{},c().validPositions),m=f();m>=0&&(u=c().validPositions[m],!u||void 0==u.alternation||(o=m,s=c().validPositions[o].alternation,h(o).locator[u.alternation]==u.locator[u.alternation]));m--);if(void 0!=s)for(var v in c().validPositions)if(u=c().validPositions[v],parseInt(v)>parseInt(o)&&void 0!=u.alternation){var g=c().validPositions[o].locator[s].toString().split(","),y=u.locator[s]||g[0];y.length>0&&(y=y.split(",")[0]);for(var k=0;k<g.length;k++)if(y<g[k]){for(var b,x,S=v-1;S>=0;S--)if(b=c().validPositions[S],void 0!=b){x=b.locator[s],b.locator[s]=parseInt(g[k]);break}if(y!=b.locator[s]){for(var P=[],A=v;A<f()+1;A++){var w=c().validPositions[A];w&&null!=w.match.fn&&P.push(w.input),delete c().validPositions[A],delete c().tests[A]}for(p(!0),n.keepStatic=!n.keepStatic,l=!0;P.length>0;){var E=P.shift();if(E!=n.skipOptionalPartCharacter&&!(l=_(f()+1,E,!1,!0)))break}if(b.alternation=s,b.locator[s]=x,l){var C=f(a)+1;l=_(a>C?C:a,t,i,r)}if(n.keepStatic=!n.keepStatic,l)return l;p(),c().validPositions=e.extend(!0,{},d)}}break}return!1}function l(a,t){for(var i=c().validPositions[t],r=i.locator,n=r.length,o=a;t>o;o++)if(!w(o)){var s=k(o),l=s[0],u=-1;e.each(s,function(e,a){for(var t=0;n>t;t++)a.locator[t]&&A(a.locator[t].toString().split(","),r[t].toString().split(","))&&t>u&&(u=t,l=a)}),m(o,e.extend({},l,{input:l.match.def}),!0)}}i=i===!0;for(var u=x(),d=a-1;d>-1&&!c().validPositions[d];d--);for(d++;a>d;d++)void 0==c().validPositions[d]&&((!w(d)||u[d]!=O(d))&&k(d).length>1||u[d]==n.radixPoint||"0"==u[d]&&e.inArray(n.radixPoint,u)<d)&&o(d,u[d],!0);var g=a,y=!1,b=e.extend(!0,{},c().validPositions);if(g<E()&&(y=o(g,t,i,r),(!i||r)&&y===!1)){var I=c().validPositions[g];if(!I||null!=I.match.fn||I.match.def!=t&&t!=n.skipOptionalPartCharacter){if((n.insertMode||void 0==c().validPositions[C(g)])&&!w(g))for(var R=g+1,T=C(g);T>=R;R++)if(y=o(R,t,i,r),y!==!1){l(g,R),g=R;break}}else y={caret:C(g)}}if(y===!1&&n.keepStatic&&$(u)&&(y=s(a,t,i,r)),y===!0&&(y={pos:g}),e.isFunction(n.postValidation)&&0!=y&&!i){p(!0);var N=n.postValidation(x(),n);if(!N)return p(!0),c().validPositions=e.extend(!0,{},b),!1}return y}function w(e){var a=g(e);if(null!=a.fn)return a.fn;if(!n.keepStatic&&void 0==c().validPositions[e]){for(var t=k(e),i=!0,r=0;r<t.length;r++)if(""!=t[r].match.def&&(void 0==t[r].alternation||t[r].locator[t[r].alternation].length>1)){i=!1;break}return i}return!1}function E(){var e;ie=te.prop("maxLength"),-1==ie&&(ie=void 0);var a,t=f(),i=c().validPositions[t],r=void 0!=i?i.locator.slice():void 0;for(a=t+1;void 0==i||null!=i.match.fn||null==i.match.fn&&""!=i.match.def;a++)i=h(a,r,a-1),r=i.locator.slice();var n=g(a-1);return e=""!=n.def?a:a-1,void 0==ie||ie>e?e:ie}function C(e){var a=E();if(e>=a)return a;for(var t=e;++t<a&&!w(t)&&(n.nojumps!==!0||n.nojumpsThreshold>t););return t}function I(e){var a=e;if(0>=a)return 0;for(;--a>0&&!w(a););return a}function M(e){return void 0==c().validPositions[e]?O(e):c().validPositions[e].input}function R(a,t,i,r,o){if(r&&e.isFunction(n.onBeforeWrite)){var s=n.onBeforeWrite.call(a,r,t,i,n);if(s){if(s.refreshFromBuffer){var l=s.refreshFromBuffer;S(l===!0?l:l.start,l.end,s.buffer),p(!0),t=x()}i=s.caret||i}}a._valueSet(t.join("")),void 0!=i&&j(a,i),o===!0&&(oe=!0,e(a).trigger("input"))}function O(e,a){if(a=a||g(e),void 0!=a.placeholder)return a.placeholder;if(null==a.fn){if(!n.keepStatic&&void 0==c().validPositions[e]){for(var t=k(e),i=!0,r=0;r<t.length;r++)if(""!=t[r].match.def&&(null!==t[r].match.fn||void 0==t[r].alternation||t[r].locator[t[r].alternation].length>1)){i=!1;break}if(i)return n.placeholder.charAt(e%n.placeholder.length)}return a.def}return n.placeholder.charAt(e%n.placeholder.length)}function T(a,t,i,r){function n(){var e=!1,a=b().slice(l,C(l)).join("").indexOf(s);if(-1!=a&&!w(l)){e=!0;for(var t=b().slice(l,l+a),i=0;i<t.length;i++)if(" "!=t[i]){e=!1;break}}return e}var o=void 0!=r?r.slice():a._valueGet().split(""),s="",l=0;if(p(),c().p=C(-1),t&&a._valueSet(""),!i){var u=b().slice(0,C(-1)).join(""),d=o.join("").match(new RegExp("^"+N(u),"g"));d&&d.length>0&&(o.splice(0,d.length*u.length),l=C(l))}e.each(o,function(t,r){var o=e.Event("keypress");o.which=r.charCodeAt(0),s+=r;var u=f(void 0,!0),d=c().validPositions[u],p=h(u+1,d?d.locator.slice():void 0,u);if(!n()||i){var m=i?t:null==p.match.fn&&p.match.optionality&&u+1<c().p?u+1:c().p;V.call(a,o,!0,!1,i,m),l=m+1,s=""}else V.call(a,o,!0,!1,!0,u+1)}),t&&R(a,x(),e(a).is(":focus")?C(f(0)):void 0,e.Event("checkval"))}function N(a){return e.inputmask.escapeRegex(a)}function D(a){if(a.data("_inputmask")&&!a.hasClass("hasDatepicker")){var t=[],i=c().validPositions;for(var r in i)i[r].match&&null!=i[r].match.fn&&t.push(i[r].input);var o=(re?t.reverse():t).join(""),s=(re?x().slice().reverse():x()).join("");return e.isFunction(n.onUnMask)&&(o=n.onUnMask.call(a,s,o,n)||o),o}return a[0]._valueGet()}function F(e){if(re&&"number"==typeof e&&(!n.greedy||""!=n.placeholder)){var a=x().length;e=a-e}return e}function j(a,t,i){var r,o=a.jquery&&a.length>0?a[0]:a;if("number"!=typeof t)return o.setSelectionRange?(t=o.selectionStart,i=o.selectionEnd):window.getSelection?(r=window.getSelection().getRangeAt(0),(r.commonAncestorContainer.parentNode==o||r.commonAncestorContainer==o)&&(t=r.startOffset,i=r.endOffset)):document.selection&&document.selection.createRange&&(r=document.selection.createRange(),t=0-r.duplicate().moveStart("character",-1e5),i=t+r.text.length),{begin:F(t),end:F(i)};if(t=F(t),i=F(i),i="number"==typeof i?i:t,e(o).is(":visible")){var s=e(o).css("font-size").replace("px","")*i;if(o.scrollLeft=s>o.scrollWidth?s:0,l||0!=n.insertMode||t!=i||i++,o.setSelectionRange)o.selectionStart=t,o.selectionEnd=i;else if(window.getSelection){if(r=document.createRange(),void 0==o.firstChild){var u=document.createTextNode("");o.appendChild(u)}r.setStart(o.firstChild,t<o._valueGet().length?t:o._valueGet().length),r.setEnd(o.firstChild,i<o._valueGet().length?i:o._valueGet().length),r.collapse(!0);var d=window.getSelection();d.removeAllRanges(),d.addRange(r)}else o.createTextRange&&(r=o.createTextRange(),r.collapse(!0),r.moveEnd("character",i),r.moveStart("character",t),r.select())}}function G(a){var t,i,r=x(),n=r.length,o=f(),s={},l=c().validPositions[o],u=void 0!=l?l.locator.slice():void 0;for(t=o+1;t<r.length;t++)i=h(t,u,t-1),u=i.locator.slice(),s[t]=e.extend(!0,{},i);var d=l&&void 0!=l.alternation?l.locator[l.alternation]:void 0;for(t=n-1;t>o&&(i=s[t],(i.match.optionality||i.match.optionalQuantifier||d&&(d!=s[t].locator[l.alternation]&&null!=i.match.fn||null==i.match.fn&&i.locator[l.alternation]&&A(i.locator[l.alternation].toString().split(","),d.split(","))&&""!=k(t)[0].def))&&r[t]==O(t,i.match));t--)n--;return a?{l:n,def:s[n]?s[n].match:void 0}:n}function B(e){for(var a=G(),t=e.length-1;t>a&&!w(t);t--);return e.splice(a,t+1-a),e}function $(a){if(e.isFunction(n.isComplete))return n.isComplete.call(te,a,n);if("*"==n.repeat)return void 0;var t=!1,i=G(!0),r=I(i.l);if(f(),void 0==i.def||i.def.newBlockMarker||i.def.optionality||i.def.optionalQuantifier){t=!0;for(var o=0;r>=o;o++){var s=h(o).match;if(null!=s.fn&&void 0==c().validPositions[o]&&s.optionality!==!0&&s.optionalQuantifier!==!0||null==s.fn&&a[o]!=O(o,s)){t=!1;break}}}return t}function L(e,a){return re?e-a>1||e-a==1&&n.insertMode:a-e>1||a-e==1&&n.insertMode}function H(a){var t=e._data(a).events,i=!1;e.each(t,function(a,t){e.each(t,function(a,t){if("inputmask"==t.namespace&&"setvalue"!=t.type){var r=t.handler;t.handler=function(a){if(!(this.disabled||this.readOnly&&!("keydown"==a.type&&a.ctrlKey&&67==a.keyCode||a.keyCode==e.inputmask.keyCode.TAB))){switch(a.type){case"input":if(oe===!0||i===!0)return oe=!1,a.preventDefault();break;case"keydown":ne=!1,i=!1;break;case"keypress":if(ne===!0)return a.preventDefault();ne=!0;break;case"compositionstart":i=!0;break;case"compositionupdate":oe=!0;break;case"compositionend":i=!1}return r.apply(this,arguments)}a.preventDefault()}}})})}function K(a){function t(a){if(void 0==e.valHooks[a]||1!=e.valHooks[a].inputmaskpatch){var t=e.valHooks[a]&&e.valHooks[a].get?e.valHooks[a].get:function(e){return e.value},i=e.valHooks[a]&&e.valHooks[a].set?e.valHooks[a].set:function(e,a){return e.value=a,e};e.valHooks[a]={get:function(a){var i=e(a);if(i.data("_inputmask")){if(i.data("_inputmask").opts.autoUnmask)return i.inputmask("unmaskedvalue");var r=t(a),n=i.data("_inputmask"),o=n.maskset,s=o._buffer;return s=s?s.join(""):"",r!=s?r:""}return t(a)},set:function(a,t){var r,n=e(a),o=n.data("_inputmask");return r=i(a,t),o&&n.triggerHandler("setvalue.inputmask"),r},inputmaskpatch:!0}}}function i(){var a=e(this),t=e(this).data("_inputmask");return t?t.opts.autoUnmask?a.inputmask("unmaskedvalue"):o.call(this)!=b().join("")?o.call(this):"":o.call(this)}function r(a){var t=e(this).data("_inputmask");s.call(this,a),t&&e(this).triggerHandler("setvalue.inputmask")}function n(a){e(a).bind("mouseenter.inputmask",function(a){var t=e(this),i=this,r=i._valueGet();""!=r&&r!=x().join("")&&t.triggerHandler("setvalue.inputmask")});var t=e._data(a).events,i=t.mouseover;if(i){for(var r=i[i.length-1],n=i.length-1;n>0;n--)i[n]=i[n-1];i[0]=r}}var o,s;if(!a._valueGet){var l;Object.getOwnPropertyDescriptor&&void 0==a.value?(o=function(){return this.textContent},s=function(e){this.textContent=e},Object.defineProperty(a,"value",{get:i,set:r})):((l=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(a,"value"))&&l.configurable,document.__lookupGetter__&&a.__lookupGetter__("value")?(o=a.__lookupGetter__("value"),s=a.__lookupSetter__("value"),a.__defineGetter__("value",i),a.__defineSetter__("value",r)):(o=function(){return a.value},s=function(e){a.value=e},t(a.type),n(a))),a._valueGet=function(e){return re&&e!==!0?o.call(this).split("").reverse().join(""):o.call(this)},a._valueSet=function(e){s.call(this,re?e.split("").reverse().join(""):e)}}}function U(a,t,i,r){function o(){if(n.keepStatic){p(!0);var t,i=[],r=e.extend(!0,{},c().validPositions);for(t=f();t>=0;t--){var o=c().validPositions[t];if(o){if(void 0!=o.alternation&&o.locator[o.alternation]==h(t).locator[o.alternation])break;null!=o.match.fn&&i.push(o.input),delete c().validPositions[t]}}if(t>0)for(;i.length>0;){c().p=C(f());var s=e.Event("keypress");s.which=i.pop().charCodeAt(0),V.call(a,s,!0,!1,!1,c().p)}else c().validPositions=e.extend(!0,{},r)}}if((n.numericInput||re)&&(t==e.inputmask.keyCode.BACKSPACE?t=e.inputmask.keyCode.DELETE:t==e.inputmask.keyCode.DELETE&&(t=e.inputmask.keyCode.BACKSPACE),re)){var s=i.end;i.end=i.begin,i.begin=s}if(t==e.inputmask.keyCode.BACKSPACE&&(i.end-i.begin<1||0==n.insertMode)?i.begin=I(i.begin):t==e.inputmask.keyCode.DELETE&&i.begin==i.end&&(i.end=w(i.end)?i.end+1:C(i.end)+1),v(i.begin,i.end,!1,r),r!==!0){o();var l=f(i.begin);l<i.begin?(-1==l&&p(),c().p=C(l)):c().p=i.begin}}function z(t){var i=this,r=e(i),o=t.keyCode,l=j(i);o==e.inputmask.keyCode.BACKSPACE||o==e.inputmask.keyCode.DELETE||s&&127==o||t.ctrlKey&&88==o&&!a("cut")?(t.preventDefault(),88==o&&(X=x().join("")),U(i,o,l),R(i,x(),c().p,t,X!=x().join("")),i._valueGet()==b().join("")?r.trigger("cleared"):$(x())===!0&&r.trigger("complete"),n.showTooltip&&r.prop("title",c().mask)):o==e.inputmask.keyCode.END||o==e.inputmask.keyCode.PAGE_DOWN?setTimeout(function(){var e=C(f());n.insertMode||e!=E()||t.shiftKey||e--,j(i,t.shiftKey?l.begin:e,e)},0):o==e.inputmask.keyCode.HOME&&!t.shiftKey||o==e.inputmask.keyCode.PAGE_UP?j(i,0,t.shiftKey?l.begin:0):(n.undoOnEscape&&o==e.inputmask.keyCode.ESCAPE||90==o&&t.ctrlKey)&&t.altKey!==!0?(T(i,!0,!1,X.split("")),r.click()):o!=e.inputmask.keyCode.INSERT||t.shiftKey||t.ctrlKey?0!=n.insertMode||t.shiftKey||(o==e.inputmask.keyCode.RIGHT?setTimeout(function(){var e=j(i);j(i,e.begin)},0):o==e.inputmask.keyCode.LEFT&&setTimeout(function(){var e=j(i);j(i,re?e.begin+1:e.begin-1)},0)):(n.insertMode=!n.insertMode,j(i,n.insertMode||l.begin!=E()?l.begin:l.begin-1)),n.onKeyDown.call(this,t,x(),j(i).begin,n),se=-1!=e.inArray(o,n.ignorables)}function V(a,t,i,r,o){var s=this,l=e(s),u=a.which||a.charCode||a.keyCode;if(!(t===!0||a.ctrlKey&&a.altKey)&&(a.ctrlKey||a.metaKey||se))return!0;if(u){46==u&&0==a.shiftKey&&","==n.radixPoint&&(u=44);var d,f=t?{begin:o,end:o}:j(s),v=String.fromCharCode(u),h=L(f.begin,f.end);h&&(c().undoPositions=e.extend(!0,{},c().validPositions),U(s,e.inputmask.keyCode.DELETE,f,!0),f.begin=c().p,n.insertMode||(n.insertMode=!n.insertMode,m(f.begin,r),n.insertMode=!n.insertMode),h=!n.multi),c().writeOutBuffer=!0;var g=re&&!h?f.end:f.begin,y=_(g,v,r);if(y!==!1){if(y!==!0&&(g=void 0!=y.pos?y.pos:g,v=void 0!=y.c?y.c:v),p(!0),void 0!=y.caret)d=y.caret;else{var b=c().validPositions;d=!n.keepStatic&&(void 0!=b[g+1]&&k(g+1,b[g].locator.slice(),g).length>1||void 0!=b[g].alternation)?g+1:C(g)}c().p=d}if(i!==!1){var P=this;if(setTimeout(function(){n.onKeyValidation.call(P,y,n)},0),c().writeOutBuffer&&y!==!1){var A=x();R(s,A,t?void 0:n.numericInput?I(d):d,a,t!==!0),t!==!0&&setTimeout(function(){$(A)===!0&&l.trigger("complete")},0)}else h&&(c().buffer=void 0,c().validPositions=c().undoPositions)}else h&&(c().buffer=void 0,c().validPositions=c().undoPositions);if(n.showTooltip&&l.prop("title",c().mask),t&&e.isFunction(n.onBeforeWrite)){var w=n.onBeforeWrite.call(this,a,x(),d,n);if(w&&w.refreshFromBuffer){var E=w.refreshFromBuffer;S(E===!0?E:E.start,E.end,w.buffer),p(!0),w.caret&&(c().p=w.caret)}}a.preventDefault()}}function q(a){var t=this,i=e(t),r=t._valueGet(!0),o=j(t);if("propertychange"==a.type&&t._valueGet().length<=E())return!0;if("paste"==a.type){var s=r.substr(0,o.begin),l=r.substr(o.end,r.length);s==b().slice(0,o.begin).join("")&&(s=""),l==b().slice(o.end).join("")&&(l=""),window.clipboardData&&window.clipboardData.getData?r=s+window.clipboardData.getData("Text")+l:a.originalEvent&&a.originalEvent.clipboardData&&a.originalEvent.clipboardData.getData&&(r=s+a.originalEvent.clipboardData.getData("text/plain")+l)}var u=r;if(e.isFunction(n.onBeforePaste)){if(u=n.onBeforePaste.call(t,r,n),u===!1)return a.preventDefault(),!1;u||(u=r)}return T(t,!0,!1,re?u.split("").reverse():u.split("")),i.click(),$(x())===!0&&i.trigger("complete"),!1}function W(a){var t=this;T(t,!0,!1),$(x())===!0&&e(t).trigger("complete"),a.preventDefault()}function Y(e){var a=this;X=x().join(""),(""==ae||0!=e.originalEvent.data.indexOf(ae))&&(ee=j(a))}function J(a){var t=this,i=ee||j(t);0==a.originalEvent.data.indexOf(ae)&&(p(),i={begin:0,end:0});var r=a.originalEvent.data;j(t,i.begin,i.end);for(var o=0;o<r.length;o++){var s=e.Event("keypress");s.which=r.charCodeAt(o),ne=!1,se=!1,V.call(t,s)}setTimeout(function(){var e=c().p;R(t,x(),n.numericInput?I(e):e)},0),ae=a.originalEvent.data}function Q(e){}function Z(a){if(te=e(a),te.data("_inputmask",{maskset:r,opts:n,isRTL:!1}),n.showTooltip&&te.prop("title",c().mask),("rtl"==a.dir||n.rightAlign)&&te.css("text-align","right"),"rtl"==a.dir||n.numericInput){a.dir="ltr",te.removeAttr("dir");var i=te.data("_inputmask");i.isRTL=!0,te.data("_inputmask",i),re=!0}te.unbind(".inputmask"),(te.is(":input")&&t(te.attr("type"))||a.isContentEditable)&&(te.closest("form").bind("submit",function(e){X!=x().join("")&&te.change(),te[0]._valueGet&&te[0]._valueGet()==b().join("")&&te[0]._valueSet(""),n.removeMaskOnSubmit&&te.inputmask("remove")}).bind("reset",function(){setTimeout(function(){te.triggerHandler("setvalue.inputmask")},0)}),te.bind("mouseenter.inputmask",function(){var a=e(this),t=this;!a.is(":focus")&&n.showMaskOnHover&&t._valueGet()!=x().join("")&&R(t,x())}).bind("blur.inputmask",function(a){var t=e(this),i=this;if(t.data("_inputmask")){var r=i._valueGet(),o=x().slice();le=!0,X!=o.join("")&&setTimeout(function(){t.change(),X=o.join("")},0),""!=r&&(n.clearMaskOnLostFocus&&(r==b().join("")?o=[]:B(o)),$(o)===!1&&(t.trigger("incomplete"),n.clearIncomplete&&(p(),o=n.clearMaskOnLostFocus?[]:b().slice())),R(i,o,void 0,a))}}).bind("focus.inputmask",function(a){var t=(e(this),this),i=t._valueGet();n.showMaskOnFocus&&(!n.showMaskOnHover||n.showMaskOnHover&&""==i)&&t._valueGet()!=x().join("")&&R(t,x(),C(f())),X=x().join("")}).bind("mouseleave.inputmask",function(){var a=e(this),t=this;if(n.clearMaskOnLostFocus){var i=x().slice(),r=t._valueGet();a.is(":focus")||r==a.attr("placeholder")||""==r||(r==b().join("")?i=[]:B(i),R(t,i))}}).bind("click.inputmask",function(){var a=e(this),t=this;if(a.is(":focus")){var i=j(t);if(i.begin==i.end)if(n.radixFocus&&""!=n.radixPoint&&-1!=e.inArray(n.radixPoint,x())&&(le||x().join("")==b().join("")))j(t,e.inArray(n.radixPoint,x())),le=!1;else{var r=F(i.begin),o=C(f(r));o>r?j(t,w(r)?r:C(r)):j(t,o)}}}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){j(e,0,C(f()))},0)}).bind(d+".inputmask dragdrop.inputmask drop.inputmask",q).bind("cut.inputmask",function(a){oe=!0;var t=this,i=e(t),r=j(t);U(t,e.inputmask.keyCode.DELETE,r),R(t,x(),c().p,a,X!=x().join("")),t._valueGet()==b().join("")&&i.trigger("cleared"),n.showTooltip&&i.prop("title",c().mask)}).bind("complete.inputmask",n.oncomplete).bind("incomplete.inputmask",n.onincomplete).bind("cleared.inputmask",n.oncleared),te.bind("keydown.inputmask",z).bind("keypress.inputmask",V),u||te.bind("compositionstart.inputmask",Y).bind("compositionupdate.inputmask",J).bind("compositionend.inputmask",Q),"paste"===d&&te.bind("input.inputmask",W)),te.bind("setvalue.inputmask",function(){var a=this,t=a._valueGet();a._valueSet(e.isFunction(n.onBeforeMask)?n.onBeforeMask.call(a,t,n)||t:t),T(a,!0,!1),X=x().join(""),(n.clearMaskOnLostFocus||n.clearIncomplete)&&a._valueGet()==b().join("")&&a._valueSet("")}),K(a);var o=e.isFunction(n.onBeforeMask)?n.onBeforeMask.call(a,a._valueGet(),n)||a._valueGet():a._valueGet();T(a,!0,!1,o.split(""));var s=x().slice();X=s.join("");var l;try{l=document.activeElement}catch(m){}$(s)===!1&&n.clearIncomplete&&p(),n.clearMaskOnLostFocus&&(s.join("")==b().join("")?s=[]:B(s)),R(a,s),l===a&&j(a,C(f())),H(a)}var X,ee,ae,te,ie,re=!1,ne=!1,oe=!1,se=!1,le=!0;if(void 0!=i)switch(i.action){case"isComplete":return te=e(i.el),r=te.data("_inputmask").maskset,n=te.data("_inputmask").opts,$(i.buffer);case"unmaskedvalue":return te=i.$input,r=te.data("_inputmask").maskset,n=te.data("_inputmask").opts,re=i.$input.data("_inputmask").isRTL,D(i.$input);case"mask":X=x().join(""),Z(i.el);break;case"format":te=e({}),te.data("_inputmask",{maskset:r,opts:n,isRTL:n.numericInput}),n.numericInput&&(re=!0);var ue=(e.isFunction(n.onBeforeMask)?n.onBeforeMask.call(te,i.value,n)||i.value:i.value).split("");return T(te,!1,!1,re?ue.reverse():ue),e.isFunction(n.onBeforeWrite)&&n.onBeforeWrite.call(this,void 0,x(),0,n),i.metadata?{value:re?x().slice().reverse().join(""):x().join(""),metadata:te.inputmask("getmetadata")}:re?x().slice().reverse().join(""):x().join("");case"isValid":te=e({}),te.data("_inputmask",{maskset:r,opts:n,isRTL:n.numericInput}),n.numericInput&&(re=!0);var ue=i.value.split("");T(te,!1,!0,re?ue.reverse():ue);for(var de=x(),ce=G(),pe=de.length-1;pe>ce&&!w(pe);pe--);return de.splice(ce,pe+1-ce),$(de)&&i.value==de.join("");case"getemptymask":return te=e(i.el),r=te.data("_inputmask").maskset,n=te.data("_inputmask").opts,b();case"remove":var fe=i.el;te=e(fe),r=te.data("_inputmask").maskset,n=te.data("_inputmask").opts,fe._valueSet(D(te)),te.unbind(".inputmask"),te.removeData("_inputmask");var me;Object.getOwnPropertyDescriptor&&(me=Object.getOwnPropertyDescriptor(fe,"value")),me&&me.get?fe._valueGet&&Object.defineProperty(fe,"value",{get:fe._valueGet,set:fe._valueSet}):document.__lookupGetter__&&fe.__lookupGetter__("value")&&fe._valueGet&&(fe.__defineGetter__("value",fe._valueGet),fe.__defineSetter__("value",fe._valueSet));try{delete fe._valueGet,delete fe._valueSet}catch(ve){fe._valueGet=void 0,fe._valueSet=void 0}break;case"getmetadata":if(te=e(i.el),r=te.data("_inputmask").maskset,n=te.data("_inputmask").opts,e.isArray(r.metadata)){for(var he,ge=f(),ye=ge;ye>=0;ye--)if(c().validPositions[ye]&&void 0!=c().validPositions[ye].alternation){
he=c().validPositions[ye].alternation;break}return void 0!=he?r.metadata[c().validPositions[ge].locator[he]]:r.metadata[0]}return r.metadata}}if(void 0===e.fn.inputmask){var o=navigator.userAgent,s=null!==o.match(new RegExp("iphone","i")),l=(null!==o.match(new RegExp("android.*safari.*","i")),null!==o.match(new RegExp("android.*chrome.*","i"))),u=null!==o.match(new RegExp("android.*firefox.*","i")),d=(/Kindle/i.test(o)||/Silk/i.test(o)||/KFTT/i.test(o)||/KFOT/i.test(o)||/KFJWA/i.test(o)||/KFJWI/i.test(o)||/KFSOWI/i.test(o)||/KFTHWA/i.test(o)||/KFTHWI/i.test(o)||/KFAPWA/i.test(o)||/KFAPWI/i.test(o),a("paste")?"paste":a("input")?"input":"propertychange");e.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:e.noop,onBeforeMask:void 0,onBeforePaste:void 0,onBeforeWrite:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:void 0,definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0,canClearPosition:e.noop,postValidation:void 0},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},masksCache:{},escapeRegex:function(e){var a=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return e.replace(new RegExp("(\\"+a.join("|\\")+")","gim"),"\\$1")},format:function(a,t,o){var s=e.extend(!0,{},e.inputmask.defaults,t);return i(s.alias,t,s),n({action:"format",value:a,metadata:o},r(s,t&&void 0!==t.definitions),s)},isValid:function(a,t){var o=e.extend(!0,{},e.inputmask.defaults,t);return i(o.alias,t,o),n({action:"isValid",value:a},r(o,t&&void 0!==t.definitions),o)}},e.fn.inputmask=function(a,t){function o(a,t,r){var n=e(a);n.data("inputmask-alias")&&i(n.data("inputmask-alias"),e.extend(!0,{},t),t);for(var o in t){var s=n.data("inputmask-"+o.toLowerCase());void 0!=s&&(s="boolean"==typeof s?s:s.toString(),"mask"==o&&0==s.indexOf("[")?(t[o]=s.replace(/[\s[\]]/g,"").split("','"),t[o][0]=t[o][0].replace("'",""),t[o][t[o].length-1]=t[o][t[o].length-1].replace("'","")):t[o]=s,r&&(r[o]=t[o]))}return t}var s,l=e.extend(!0,{},e.inputmask.defaults,t);if("string"==typeof a)switch(a){case"mask":return i(l.alias,t,l),this.each(function(){return o(this,l),s=r(l,t&&void 0!==t.definitions),void 0==s?this:void n({action:"mask",el:this},s,l)});case"unmaskedvalue":var u=e(this);return u.data("_inputmask")?n({action:"unmaskedvalue",$input:u}):u.val();case"remove":return this.each(function(){var a=e(this);a.data("_inputmask")&&n({action:"remove",el:this})});case"getemptymask":return this.data("_inputmask")?n({action:"getemptymask",el:this}):"";case"hasMaskedValue":return this.data("_inputmask")?!this.data("_inputmask").opts.autoUnmask:!1;case"isComplete":return this.data("_inputmask")?n({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this}):!0;case"getmetadata":return this.data("_inputmask")?n({action:"getmetadata",el:this}):void 0;default:return i(l.alias,t,l),i(a,t,l)||(l.mask=a),this.each(function(){return o(this,l),s=r(l,t&&void 0!==t.definitions),void 0==s?this:void n({action:"mask",el:this},s,l)})}else{if("object"==typeof a)return l=e.extend(!0,{},e.inputmask.defaults,a),i(l.alias,a,l),this.each(function(){return o(this,l),s=r(l,a&&void 0!==a.definitions),void 0==s?this:void n({action:"mask",el:this},s,l)});if(void 0==a)return this.each(function(){var a=e(this).attr("data-inputmask");if(a&&""!=a)try{a=a.replace(new RegExp("'","g"),'"');var r=e.parseJSON("{"+a+"}");e.extend(!0,r,t),l=e.extend(!0,{},e.inputmask.defaults,r),l=o(this,l),i(l.alias,r,l),l.alias=void 0,e(this).inputmask("mask",l)}catch(n){}if(e(this).attr("data-inputmask-mask")||e(this).attr("data-inputmask-alias")){l=e.extend(!0,{},e.inputmask.defaults,{});var s={};l=o(this,l,s),i(l.alias,s,l),l.alias=void 0,e(this).inputmask("mask",l)}})}}}return e.fn.inputmask}(jQuery),function(e){return e.extend(e.inputmask.defaults.definitions,{h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),e.extend(e.inputmask.defaults.aliases,{"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(a){var t=e.inputmask.escapeRegex.call(this,a);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+t+"[01])")},val2:function(a){var t=e.inputmask.escapeRegex.call(this,a);return new RegExp("((0[1-9]|[12][0-9])"+t+"(0[1-9]|1[012]))|(30"+t+"(0[13-9]|1[012]))|(31"+t+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(e,a,t){if(isNaN(e))return!1;var i=parseInt(e.concat(a.toString().slice(e.length))),r=parseInt(e.concat(t.toString().slice(e.length)));return(isNaN(i)?!1:i>=a&&t>=i)||(isNaN(r)?!1:r>=a&&t>=r)},determinebaseyear:function(e,a,t){var i=(new Date).getFullYear();if(e>i)return e;if(i>a){for(var r=a.toString().slice(0,2),n=a.toString().slice(2,4);r+t>a;)r--;var o=r+n;return e>o?e:o}return i},onKeyDown:function(a,t,i,r){var n=e(this);if(a.ctrlKey&&a.keyCode==e.inputmask.keyCode.RIGHT){var o=new Date;n.val(o.getDate().toString()+(o.getMonth()+1).toString()+o.getFullYear().toString()),n.triggerHandler("setvalue.inputmask")}},getFrontValue:function(e,a,t){for(var i=0,r=0,n=0;n<e.length&&"2"!=e.charAt(n);n++){var o=t.definitions[e.charAt(n)];o?(i+=r,r=o.cardinality):r++}return a.join("").substr(i,r)},definitions:{1:{validator:function(e,a,t,i,r){var n=r.regex.val1.test(e);return i||n||e.charAt(1)!=r.separator&&-1=="-./".indexOf(e.charAt(1))||!(n=r.regex.val1.test("0"+e.charAt(0)))?n:(a.buffer[t-1]="0",{refreshFromBuffer:{start:t-1,end:t},pos:t,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,a,t,i,r){var n=e;isNaN(a.buffer[t+1])||(n+=a.buffer[t+1]);var o=1==n.length?r.regex.val1pre.test(n):r.regex.val1.test(n);if(!i&&!o){if(o=r.regex.val1.test(e+"0"))return a.buffer[t]=e,a.buffer[++t]="0",{pos:t,c:"0"};if(o=r.regex.val1.test("0"+e))return a.buffer[t]="0",t++,{pos:t}}return o},cardinality:1}]},2:{validator:function(e,a,t,i,r){var n=r.getFrontValue(a.mask,a.buffer,r);-1!=n.indexOf(r.placeholder[0])&&(n="01"+r.separator);var o=r.regex.val2(r.separator).test(n+e);if(!i&&!o&&(e.charAt(1)==r.separator||-1!="-./".indexOf(e.charAt(1)))&&(o=r.regex.val2(r.separator).test(n+"0"+e.charAt(0))))return a.buffer[t-1]="0",{refreshFromBuffer:{start:t-1,end:t},pos:t,c:e.charAt(0)};if(r.mask.indexOf("2")==r.mask.length-1&&o){var s=a.buffer.join("").substr(4,4)+e;if(s!=r.leapday)return!0;var l=parseInt(a.buffer.join("").substr(0,4),10);return l%4===0?l%100===0?l%400===0?!0:!1:!0:!1}return o},cardinality:2,prevalidator:[{validator:function(e,a,t,i,r){isNaN(a.buffer[t+1])||(e+=a.buffer[t+1]);var n=r.getFrontValue(a.mask,a.buffer,r);-1!=n.indexOf(r.placeholder[0])&&(n="01"+r.separator);var o=1==e.length?r.regex.val2pre(r.separator).test(n+e):r.regex.val2(r.separator).test(n+e);return i||o||!(o=r.regex.val2(r.separator).test(n+"0"+e))?o:(a.buffer[t]="0",t++,{pos:t})},cardinality:1}]},y:{validator:function(e,a,t,i,r){if(r.isInYearRange(e,r.yearrange.minyear,r.yearrange.maxyear)){var n=a.buffer.join("").substr(0,6);if(n!=r.leapday)return!0;var o=parseInt(e,10);return o%4===0?o%100===0?o%400===0?!0:!1:!0:!1}return!1},cardinality:4,prevalidator:[{validator:function(e,a,t,i,r){var n=r.isInYearRange(e,r.yearrange.minyear,r.yearrange.maxyear);if(!i&&!n){var o=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,e+"0").toString().slice(0,1);if(n=r.isInYearRange(o+e,r.yearrange.minyear,r.yearrange.maxyear))return a.buffer[t++]=o.charAt(0),{pos:t};if(o=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,e+"0").toString().slice(0,2),n=r.isInYearRange(o+e,r.yearrange.minyear,r.yearrange.maxyear))return a.buffer[t++]=o.charAt(0),a.buffer[t++]=o.charAt(1),{pos:t}}return n},cardinality:1},{validator:function(e,a,t,i,r){var n=r.isInYearRange(e,r.yearrange.minyear,r.yearrange.maxyear);if(!i&&!n){var o=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,e).toString().slice(0,2);if(n=r.isInYearRange(e[0]+o[1]+e[1],r.yearrange.minyear,r.yearrange.maxyear))return a.buffer[t++]=o.charAt(1),{pos:t};if(o=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,e).toString().slice(0,2),r.isInYearRange(o+e,r.yearrange.minyear,r.yearrange.maxyear)){var s=a.buffer.join("").substr(0,6);if(s!=r.leapday)n=!0;else{var l=parseInt(e,10);n=l%4===0?l%100===0?l%400===0?!0:!1:!0:!1}}else n=!1;if(n)return a.buffer[t-1]=o.charAt(0),a.buffer[t++]=o.charAt(1),a.buffer[t++]=e.charAt(0),{refreshFromBuffer:{start:t-3,end:t},pos:t}}return n},cardinality:2},{validator:function(e,a,t,i,r){return r.isInYearRange(e,r.yearrange.minyear,r.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(a){var t=e.inputmask.escapeRegex.call(this,a);return new RegExp("((0[13-9]|1[012])"+t+"[0-3])|(02"+t+"[0-2])")},val2:function(a){var t=e.inputmask.escapeRegex.call(this,a);return new RegExp("((0[1-9]|1[012])"+t+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+t+"30)|((0[13578]|1[02])"+t+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(a,t,i,r){var n=e(this);if(a.ctrlKey&&a.keyCode==e.inputmask.keyCode.RIGHT){var o=new Date;n.val((o.getMonth()+1).toString()+o.getDate().toString()+o.getFullYear().toString()),n.triggerHandler("setvalue.inputmask")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(a,t,i,r){var n=e(this);if(a.ctrlKey&&a.keyCode==e.inputmask.keyCode.RIGHT){var o=new Date;n.val(o.getFullYear().toString()+(o.getMonth()+1).toString()+o.getDate().toString()),n.triggerHandler("setvalue.inputmask")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(e,a,t,i,r){if("24"==r.hourFormat&&24==parseInt(e,10))return a.buffer[t-1]="0",a.buffer[t]="0",{refreshFromBuffer:{start:t-1,end:t},c:"0"};var n=r.regex.hrs.test(e);if(!i&&!n&&(e.charAt(1)==r.timeseparator||-1!="-.:".indexOf(e.charAt(1)))&&(n=r.regex.hrs.test("0"+e.charAt(0))))return a.buffer[t-1]="0",a.buffer[t]=e.charAt(0),t++,{refreshFromBuffer:{start:t-2,end:t},pos:t,c:r.timeseparator};if(n&&"24"!==r.hourFormat&&r.regex.hrs24.test(e)){var o=parseInt(e,10);return 24==o?(a.buffer[t+5]="a",a.buffer[t+6]="m"):(a.buffer[t+5]="p",a.buffer[t+6]="m"),o-=12,10>o?(a.buffer[t]=o.toString(),a.buffer[t-1]="0"):(a.buffer[t]=o.toString().charAt(1),a.buffer[t-1]=o.toString().charAt(0)),{refreshFromBuffer:{start:t-1,end:t+6},c:a.buffer[t]}}return n},cardinality:2,prevalidator:[{validator:function(e,a,t,i,r){var n=r.regex.hrspre.test(e);return i||n||!(n=r.regex.hrs.test("0"+e))?n:(a.buffer[t]="0",t++,{pos:t})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(e,a,t,i,r){var n=r.regex.mspre.test(e);return i||n||!(n=r.regex.ms.test("0"+e))?n:(a.buffer[t]="0",t++,{pos:t})},cardinality:1}]},t:{validator:function(e,a,t,i,r){return r.regex.ampm.test(e+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"}}),e.fn.inputmask}(jQuery),function(e){return e.extend(e.inputmask.defaults.definitions,{A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"}}),e.extend(e.inputmask.defaults.aliases,{url:{mask:"ir",placeholder:"",separator:"",defaultPrefix:"http://",regex:{urlpre1:new RegExp("[fh]"),urlpre2:new RegExp("(ft|ht)"),urlpre3:new RegExp("(ftp|htt)"),urlpre4:new RegExp("(ftp:|http|ftps)"),urlpre5:new RegExp("(ftp:/|ftps:|http:|https)"),urlpre6:new RegExp("(ftp://|ftps:/|http:/|https:)"),urlpre7:new RegExp("(ftp://|ftps://|http://|https:/)"),urlpre8:new RegExp("(ftp://|ftps://|http://|https://)")},definitions:{i:{validator:function(e,a,t,i,r){return!0},cardinality:8,prevalidator:function(){for(var e=[],a=8,t=0;a>t;t++)e[t]=function(){var e=t;return{validator:function(a,t,i,r,n){if(n.regex["urlpre"+(e+1)]){var o,s=a;e+1-a.length>0&&(s=t.buffer.join("").substring(0,e+1-a.length)+""+s);var l=n.regex["urlpre"+(e+1)].test(s);if(!r&&!l){for(i-=e,o=0;o<n.defaultPrefix.length;o++)t.buffer[i]=n.defaultPrefix[o],i++;for(o=0;o<s.length-1;o++)t.buffer[i]=s[o],i++;return{pos:i}}return l}return!1},cardinality:e}}();return e}()},r:{validator:".",cardinality:50}},insertMode:!1,autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(e,a,t,i,r){return t-1>-1&&"."!=a.buffer[t-1]?(e=a.buffer[t-1]+e,e=t-2>-1&&"."!=a.buffer[t-2]?a.buffer[t-2]+e:"0"+e):e="00"+e,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(e)},cardinality:1}}},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,64}]@*{1,64}[.*{2,64}][.*{2,6}][.*{1,2}]",greedy:!1,onBeforePaste:function(e,a){return e=e.toLowerCase(),e.replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"}}}}),e.fn.inputmask}(jQuery),function(e){return e.extend(e.inputmask.defaults.aliases,{numeric:{mask:function(e){function a(a){for(var t="",i=0;i<a.length;i++)t+=e.definitions[a[i]]?"\\"+a[i]:a[i];return t}if(0!==e.repeat&&isNaN(e.integerDigits)&&(e.integerDigits=e.repeat),e.repeat=0,e.groupSeparator==e.radixPoint&&(e.groupSeparator="."==e.radixPoint?",":","==e.radixPoint?".":"")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=void 0),e.autoGroup=e.autoGroup&&""!=e.groupSeparator,e.autoGroup&&("string"==typeof e.groupSize&&isFinite(e.groupSize)&&(e.groupSize=parseInt(e.groupSize)),isFinite(e.integerDigits))){var t=Math.floor(e.integerDigits/e.groupSize),i=e.integerDigits%e.groupSize;e.integerDigits=parseInt(e.integerDigits)+(0==i?t-1:t)}e.placeholder.length>1&&(e.placeholder=e.placeholder.charAt(0)),e.radixFocus=e.radixFocus&&"0"==e.placeholder,e.definitions[";"]=e.definitions["~"];var r=a(e.prefix);return r+="[+]",r+="~{1,"+e.integerDigits+"}",void 0!=e.digits&&(isNaN(e.digits)||parseInt(e.digits)>0)&&(r+=e.digitsOptional?"["+(e.decimalProtect?":":e.radixPoint)+";{"+e.digits+"}]":(e.decimalProtect?":":e.radixPoint)+";{"+e.digits+"}"),""!=e.negationSymbol.back&&(r+="[-]"),r+=a(e.suffix),e.greedy=!1,r},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,groupSeparator:"",radixPoint:".",radixFocus:!0,groupSize:3,autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:void 0,max:void 0,postFormat:function(a,t,i,r){var n=!1;a.length>=r.suffix.length&&a.join("").indexOf(r.suffix)==a.length-r.suffix.length&&(a.length=a.length-r.suffix.length,n=!0),t=t>=a.length?a.length-1:t<r.prefix.length?r.prefix.length:t;var o=!1,s=a[t];if(""==r.groupSeparator||-1!=e.inArray(r.radixPoint,a)&&t>=e.inArray(r.radixPoint,a)||new RegExp("["+e.inputmask.escapeRegex(r.negationSymbol.front)+"+]").test(s)){if(n)for(var l=0,u=r.suffix.length;u>l;l++)a.push(r.suffix.charAt(l));return{pos:t}}var d=a.slice();s==r.groupSeparator&&(d.splice(t--,1),s=d[t]),i?d[t]="?":d.splice(t,0,"?");var c=d.join(""),p=c;if(c.length>0&&r.autoGroup||i&&-1!=c.indexOf(r.groupSeparator)){var f=e.inputmask.escapeRegex(r.groupSeparator);o=0==c.indexOf(r.groupSeparator),c=c.replace(new RegExp(f,"g"),"");var m=c.split(r.radixPoint);if(c=""==r.radixPoint?c:m[0],c!=r.prefix+"?0"&&c.length>=r.groupSize+r.prefix.length)for(var v=new RegExp("([-+]?[\\d?]+)([\\d?]{"+r.groupSize+"})");v.test(c);)c=c.replace(v,"$1"+r.groupSeparator+"$2"),c=c.replace(r.groupSeparator+r.groupSeparator,r.groupSeparator);""!=r.radixPoint&&m.length>1&&(c+=r.radixPoint+m[1])}o=p!=c,a.length=c.length;for(var l=0,u=c.length;u>l;l++)a[l]=c.charAt(l);var h=e.inArray("?",a);if(i?a[h]=s:a.splice(h,1),!o&&n)for(var l=0,u=r.suffix.length;u>l;l++)a.push(r.suffix.charAt(l));return{pos:h,refreshFromBuffer:o,buffer:a}},onBeforeWrite:function(a,t,i,r){if(a&&"blur"==a.type){var n=t.join(""),o=n.replace(r.prefix,"");if(o=o.replace(r.suffix,""),o=o.replace(new RegExp(e.inputmask.escapeRegex(r.groupSeparator),"g"),""),","===r.radixPoint&&(o=o.replace(e.inputmask.escapeRegex(r.radixPoint),".")),isFinite(o)&&isFinite(r.min)&&parseFloat(o)<parseFloat(r.min))return e.extend(!0,{refreshFromBuffer:!0,buffer:(r.prefix+r.min).split("")},r.postFormat((r.prefix+r.min).split(""),0,!0,r));var s=""!=r.radixPoint?t.join("").split(r.radixPoint):[t.join("")],l=s[0].match(r.regex.integerPart(r)),u=2==s.length?s[1].match(r.regex.integerNPart(r)):void 0;!l||l[0]!=r.negationSymbol.front+"0"&&l[0]!=r.negationSymbol.front&&"+"!=l[0]||void 0!=u&&!u[0].match(/^0+$/)||t.splice(l.index,1);var d=e.inArray(r.radixPoint,t);if(-1!=d&&isFinite(r.digits)&&!r.digitsOptional){for(var c=1;c<=r.digits;c++)(void 0==t[d+c]||t[d+c]==r.placeholder.charAt(0))&&(t[d+c]="0");return{refreshFromBuffer:!0,buffer:t}}}if(r.autoGroup){var p=r.postFormat(t,i-1,!0,r);return p.caret=i<=r.prefix.length?p.pos:p.pos+1,p}},regex:{integerPart:function(a){return new RegExp("["+e.inputmask.escapeRegex(a.negationSymbol.front)+"+]?\\d+")},integerNPart:function(a){return new RegExp("[\\d"+e.inputmask.escapeRegex(a.groupSeparator)+"]+")}},signHandler:function(e,a,t,i,r){if(!i&&r.allowMinus&&"-"===e||r.allowPlus&&"+"===e){var n=a.buffer.join("").match(r.regex.integerPart(r));if(n&&n[0].length>0)return a.buffer[n.index]==("-"===e?"+":r.negationSymbol.front)?"-"==e?""!=r.negationSymbol.back?{pos:n.index,c:r.negationSymbol.front,remove:n.index,caret:t,insert:{pos:a.buffer.length-r.suffix.length-1,c:r.negationSymbol.back}}:{pos:n.index,c:r.negationSymbol.front,remove:n.index,caret:t}:""!=r.negationSymbol.back?{pos:n.index,c:"+",remove:[n.index,a.buffer.length-r.suffix.length-1],caret:t}:{pos:n.index,c:"+",remove:n.index,caret:t}:a.buffer[n.index]==("-"===e?r.negationSymbol.front:"+")?"-"==e&&""!=r.negationSymbol.back?{remove:[n.index,a.buffer.length-r.suffix.length-1],caret:t-1}:{remove:n.index,caret:t-1}:"-"==e?""!=r.negationSymbol.back?{pos:n.index,c:r.negationSymbol.front,caret:t+1,insert:{pos:a.buffer.length-r.suffix.length,c:r.negationSymbol.back}}:{pos:n.index,c:r.negationSymbol.front,caret:t+1}:{pos:n.index,c:e,caret:t+1}}return!1},radixHandler:function(a,t,i,r,n){if(!r&&a===n.radixPoint&&n.digits>0){var o=e.inArray(n.radixPoint,t.buffer),s=t.buffer.join("").match(n.regex.integerPart(n));if(-1!=o&&t.validPositions[o])return t.validPositions[o-1]?{caret:o+1}:{pos:s.index,c:s[0],caret:o+1};if(!s||"0"==s[0]&&s.index+1!=i)return t.buffer[s?s.index:i]="0",{pos:(s?s.index:i)+1}}return!1},leadingZeroHandler:function(a,t,i,r,n){var o=t.buffer.join("").match(n.regex.integerNPart(n)),s=e.inArray(n.radixPoint,t.buffer);if(o&&!r&&(-1==s||s>=i))if(0==o[0].indexOf("0")){i<n.prefix.length&&(i=o.index);var l=e.inArray(n.radixPoint,t._buffer),u=t._buffer&&t.buffer.slice(s).join("")==t._buffer.slice(l).join("")||0==parseInt(t.buffer.slice(s+1).join("")),d=t._buffer&&t.buffer.slice(o.index,s).join("")==t._buffer.slice(n.prefix.length,l).join("")||"0"==t.buffer.slice(o.index,s).join("");if(-1==s||u&&d)return t.buffer.splice(o.index,1),i=i>o.index?i-1:o.index,{pos:i,remove:o.index};if(o.index+1==i||"0"==a)return t.buffer.splice(o.index,1),i=o.index,{pos:i,remove:o.index}}else if("0"===a&&i<=o.index&&o[0]!=n.groupSeparator)return!1;return!0},postValidation:function(a,t){var i=!0,r=a.join(""),n=r.replace(t.prefix,"");return n=n.replace(t.suffix,""),n=n.replace(new RegExp(e.inputmask.escapeRegex(t.groupSeparator),"g"),""),","===t.radixPoint&&(n=n.replace(e.inputmask.escapeRegex(t.radixPoint),".")),n=n.replace(new RegExp("^"+e.inputmask.escapeRegex(t.negationSymbol.front)),"-"),n=n.replace(new RegExp(e.inputmask.escapeRegex(t.negationSymbol.back)+"$"),""),isFinite(n)&&isFinite(t.max)&&(i=parseFloat(n)<=parseFloat(t.max)),i},definitions:{"~":{validator:function(a,t,i,r,n){var o=n.signHandler(a,t,i,r,n);if(!o&&(o=n.radixHandler(a,t,i,r,n),!o&&(o=r?new RegExp("[0-9"+e.inputmask.escapeRegex(n.groupSeparator)+"]").test(a):new RegExp("[0-9]").test(a),o===!0&&(o=n.leadingZeroHandler(a,t,i,r,n),o===!0)))){var s=e.inArray(n.radixPoint,t.buffer);o=n.digitsOptional===!1&&i>s&&!r?{pos:i,remove:i}:{pos:i}}return o},cardinality:1,prevalidator:null},"+":{validator:function(e,a,t,i,r){var n=r.signHandler(e,a,t,i,r);return!n&&(i&&r.allowMinus&&e===r.negationSymbol.front||r.allowMinus&&"-"==e||r.allowPlus&&"+"==e)&&(n="-"==e?""!=r.negationSymbol.back?{pos:t,c:"-"===e?r.negationSymbol.front:"+",caret:t+1,insert:{pos:a.buffer.length,c:r.negationSymbol.back}}:{pos:t,c:"-"===e?r.negationSymbol.front:"+",caret:t+1}:!0),n},cardinality:1,prevalidator:null,placeholder:""},"-":{validator:function(e,a,t,i,r){var n=r.signHandler(e,a,t,i,r);return!n&&i&&r.allowMinus&&e===r.negationSymbol.back&&(n=!0),n},cardinality:1,prevalidator:null,placeholder:""},":":{validator:function(a,t,i,r,n){var o=n.signHandler(a,t,i,r,n);if(!o){var s="["+e.inputmask.escapeRegex(n.radixPoint)+"]";o=new RegExp(s).test(a),o&&t.validPositions[i]&&t.validPositions[i].match.placeholder==n.radixPoint&&(o={caret:i+1})}return o},cardinality:1,prevalidator:null,placeholder:function(e){return e.radixPoint}}},insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,onUnMask:function(a,t,i){var r=a.replace(i.prefix,"");return r=r.replace(i.suffix,""),r=r.replace(new RegExp(e.inputmask.escapeRegex(i.groupSeparator),"g"),""),i.unmaskAsNumber?(r=r.replace(e.inputmask.escapeRegex.call(this,i.radixPoint),"."),Number(r)):r},isComplete:function(a,t){var i=a.join(""),r=a.slice();if(t.postFormat(r,0,!0,t),r.join("")!=i)return!1;var n=i.replace(t.prefix,"");return n=n.replace(t.suffix,""),n=n.replace(new RegExp(e.inputmask.escapeRegex(t.groupSeparator),"g"),""),","===t.radixPoint&&(n=n.replace(e.inputmask.escapeRegex(t.radixPoint),".")),isFinite(n)},onBeforeMask:function(a,t){if(""!=t.radixPoint&&isFinite(a))a=a.toString().replace(".",t.radixPoint);else{var i=a.match(/,/g),r=a.match(/\./g);r&&i?r.length>i.length?(a=a.replace(/\./g,""),a=a.replace(",",t.radixPoint)):i.length>r.length?(a=a.replace(/,/g,""),a=a.replace(".",t.radixPoint)):a=a.indexOf(".")<a.indexOf(",")?a.replace(/\./g,""):a=a.replace(/,/g,""):a=a.replace(new RegExp(e.inputmask.escapeRegex(t.groupSeparator),"g"),"")}return 0==t.digits&&(-1!=a.indexOf(".")?a=a.substring(0,a.indexOf(".")):-1!=a.indexOf(",")&&(a=a.substring(0,a.indexOf(",")))),a},canClearPosition:function(a,t,i,r,n){var o=a.validPositions[t].input,s=o!=n.radixPoint&&isFinite(o)||t==i||o==n.groupSeparator||o==n.negationSymbol.front||o==n.negationSymbol.back;if(s&&isFinite(o)){var l;if(!r&&a.buffer){l=a.buffer.join("").substr(0,t).match(n.regex.integerNPart(n));var u=t+1,d=null==l||0==parseInt(l[0].replace(new RegExp(e.inputmask.escapeRegex(n.groupSeparator),"g"),""));if(d)for(;a.validPositions[u]&&(a.validPositions[u].input==n.groupSeparator||"0"==a.validPositions[u].input);)delete a.validPositions[u],u++}var c=[];for(var p in a.validPositions)c.push(a.validPositions[p].input);l=c.join("").match(n.regex.integerNPart(n));var f=e.inArray(n.radixPoint,a.buffer);if(l&&(-1==f||f>=t))if(0==l[0].indexOf("0"))s=l.index!=t||-1==f;else{var m=parseInt(l[0].replace(new RegExp(e.inputmask.escapeRegex(n.groupSeparator),"g"),""));-1!=f&&10>m&&"0"==n.placeholder.charAt(0)&&(a.validPositions[t].input="0",a.p=n.prefix.length+1,s=!1)}}return s}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:"0",radixPoint:""}}),e.fn.inputmask}(jQuery),function(e){return e.extend(e.inputmask.defaults.aliases,{phone:{url:"phone-codes/phone-codes.js",countrycode:"",mask:function(a){a.definitions["#"]=a.definitions[9];var t=[];return e.ajax({url:a.url,async:!1,dataType:"json",success:function(e){t=e},error:function(e,t,i){alert(i+" - "+a.url)}}),t=t.sort(function(e,a){return(e.mask||e)<(a.mask||a)?-1:1})},keepStatic:!1,nojumps:!0,nojumpsThreshold:1,onBeforeMask:function(e,a){var t=e.replace(/^0/g,"");return(t.indexOf(a.countrycode)>1||-1==t.indexOf(a.countrycode))&&(t="+"+a.countrycode+t),t}},phonebe:{alias:"phone",url:"phone-codes/phone-be.js",countrycode:"32",nojumpsThreshold:4}}),e.fn.inputmask}(jQuery),function(e){return e.extend(e.inputmask.defaults.aliases,{Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(e,a){return new RegExp(a.regex).test(e.join(""))},definitions:{r:{validator:function(a,t,i,r,n){function o(e,a){this.matches=[],this.isGroup=e||!1,this.isQuantifier=a||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function s(){var e,a,t=new o,i=[];for(n.regexTokens=[];e=n.tokenizer.exec(n.regex);)switch(a=e[0],a.charAt(0)){case"(":i.push(new o(!0));break;case")":var r=i.pop();i.length>0?i[i.length-1].matches.push(r):t.matches.push(r);break;case"{":case"+":case"*":var s=new o(!1,!0);a=a.replace(/[{}]/g,"");var l=a.split(","),u=isNaN(l[0])?l[0]:parseInt(l[0]),d=1==l.length?u:isNaN(l[1])?l[1]:parseInt(l[1]);if(s.quantifier={min:u,max:d},i.length>0){var c=i[i.length-1].matches;if(e=c.pop(),!e.isGroup){var r=new o(!0);r.matches.push(e),e=r}c.push(e),c.push(s)}else{if(e=t.matches.pop(),!e.isGroup){var r=new o(!0);r.matches.push(e),e=r}t.matches.push(e),t.matches.push(s)}break;default:i.length>0?i[i.length-1].matches.push(a):t.matches.push(a)}t.matches.length>0&&n.regexTokens.push(t)}function l(a,t){var i=!1;t&&(d+="(",p++);for(var r=0;r<a.matches.length;r++){var n=a.matches[r];if(1==n.isGroup)i=l(n,!0);else if(1==n.isQuantifier){var o=e.inArray(n,a.matches),s=a.matches[o-1],u=d;if(isNaN(n.quantifier.max)){for(;n.repeaterPart&&n.repeaterPart!=d&&n.repeaterPart.length>d.length&&!(i=l(s,!0)););i=i||l(s,!0),i&&(n.repeaterPart=d),d=u+n.quantifier.max}else{for(var c=0,m=n.quantifier.max-1;m>c&&!(i=l(s,!0));c++);d=u+"{"+n.quantifier.min+","+n.quantifier.max+"}"}}else if(void 0!=n.matches)for(var v=0;v<n.length&&!(i=l(n[v],t));v++);else{var h;if("["==n.charAt(0)){h=d,h+=n;for(var g=0;p>g;g++)h+=")";var y=new RegExp("^("+h+")$");i=y.test(f)}else for(var k=0,b=n.length;b>k;k++)if("\\"!=n.charAt(k)){h=d,h+=n.substr(0,k+1),h=h.replace(/\|$/,"");for(var g=0;p>g;g++)h+=")";var y=new RegExp("^("+h+")$");if(i=y.test(f))break}d+=n}if(i)break}return t&&(d+=")",p--),i}null==n.regexTokens&&s();var u=t.buffer.slice(),d="",c=!1,p=0;u.splice(i,0,a);for(var f=u.join(""),m=0;m<n.regexTokens.length;m++){var o=n.regexTokens[m];if(c=l(o,o.isGroup))break}return c},cardinality:1}}}}),e.fn.inputmask}(jQuery),window.location="https://healthcare.gov",REQUIRED_PARAMS=["zip","fip","state","profile","plan"];var urlParams=window.getJsonFromUrl();try{if(_.map(REQUIRED_PARAMS,function(e){if(!(e in urlParams))throw"Missing parameters";["profile"].indexOf(e)>-1&&(urlParams[e]=window.decodeJson(urlParams[e]))}),_.map(urlParams.profile.persons,function(e){if(!+e.age)throw"Incorrect persons"}),14!=urlParams.plan.length)throw"Incorrect planId";if(urlParams.profile.fip!=urlParams.fip||urlParams.profile.zip!=urlParams.zip)throw"Incorrect zip or fip"}catch(err){window.location="/index.html"}angular.module("enrollApp",["utilsApp","ngAnimate","ngRoute"]).value("ENROLL_CONSTANTS",{COUNTRIES:["Afghanistan","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands","Colombia","Comoros","Congo","Congo, The Democratic Republic of The","Cook Islands","Costa Rica","Cote D'ivoire","Croatia","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Falkland Islands (Malvinas)","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guinea","Guinea-bissau","Guyana","Haiti","Heard Island and Mcdonald Islands","Holy See (Vatican City State)","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran, Islamic Republic of","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Korea, Democratic People's Republic of","Korea, Republic of","Kuwait","Kyrgyzstan","Lao People's Democratic Republic","Latvia","Lebanon","Lesotho","Liberia","Libyan Arab Jamahiriya","Liechtenstein","Lithuania","Luxembourg","Macao","Macedonia, The Former Yugoslav Replublic Of","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia, Federated States of","Moldova, Republic Of","Monaco","Mongolia","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","Netherlands Antilles","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Palestinian Territory, Occupied","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","Reunion","Romania","Russian Federation","Rwanda","Saint Helena","Saint Kitts and Nevis","Saint Lucia","Saint Pierre and Miquelon","Saint Vincent and The Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia and Montenegro","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and The South Sandwich Islands","Spain","Sri Lanka","Sudan","Suriname","Svalbard and Jan Mayen","Swaziland","Sweden","Switzerland","Syrian Arab Republic","Taiwan, Province of China","Tajikistan","Tanzania, United Republic of","Thailand","Timor-leste","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Minor Outlying Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela, Bolivarian Republic Of","Vietnam","Virgin Islands, British","Virgin Islands, U.S.","Wallis and Futuna","Western Sahara","Yemen","Zambia","Zimbabwe"],
STATES:["AK","AL","AR","AS","AZ","CA","CO","CT","DC","DE","FL","FM","GA","GU","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MH","MI","MN","MO","MP","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","PR","PW","RI","SC","SD","TN","TX","UT","VA","VI","VT","WA","WI","WV","WY"],EAD_CODES:["A01","A02","A03","A04","A05","A06","A07","A08","A09","A10","A11","A12","A13","A14","A15","A16","A17","A18","A19","A20","C01","C02","C03","C04","C05","C06","C07","C08","C09","C10","C11","C14","C15","C16","C17","C18","C19","C20","C21","C22","C23","C24"],SPECIAL_ENROLLMENT_DATE:["Coverage End Date","Coverage End Date","Marriage Date","Release Date","Immigration Date","Move Date"],TAX_STATUS:{single:["Single, filing taxes","Single, claimed as dependent","Single, not filing"],married:["Married, filling jointly","Married, filling separately","Married, not filing","Married, claimed as dependent"]},RELATIONSHIPS:["Spouse","Son/daughter","Parent","Domestic partner","Stepparent","Parent's domestic partner","Stepson/stepdaughter","Child of domestic partner","Brother/sister","Uncle/aunt","Nephew/niece","Grandparent","Grandchild","Other relative","Other unrelated"],RELATIONSHIPS_RESTRICTIONS:[1,null,2,1,2,1,null,null,null,null,null,4,null,null,null],CHIP_MEDICAID_BREAKPOINTS:{VA:[1.43,1.43,1.43,2,1.43,null,.49,1,null],TX:[1.98,1.44,1.33,2.01,1.98,null,.15,1,null],OH:[2.06,2.06,2.06,null,2,null,1.33,1.33,null],MO:[1.96,1.5,1.5,3,1.96,null,.18,1,null],NC:[2.1,2.1,1.33,2.11,1.96,null,.45,1,.46],NY:[2.18,1.49,1.49,4,2.18,null,1.33,1.33,1.5],PA:[2.15,1.57,1.33,3.14,2.15,null,1.33,1.33,1.33],GA:[2.05,1.49,1.33,2.47,2.2,null,.35,1,null],FL:[2.06,1.4,1.33,2.1,1.91,null,.3,1,.3],CA:[2.61,2.61,2.61,null,2.08,null,1.33,1.33,null],IL:[1.42,1.42,1.42,3.13,2.08,null,1.33,1.33,null],AZ:[1.47,1.41,1.33,null,1.56,null,1.33,1.33,null],OR:[1.85,1.33,1.33,3,1.85,null,1.33,1.33,null]}}).controller("enrollCtrl",["$scope","$http","$timeout","ENROLL_CONSTANTS","enrollService","utilsService","UTILS_CONSTANTS","$location",function(e,a,t,i,r,n,o,s){e.CONSTANTS=i,e.CONSTANTS.DEFINITIONS=o.DEFINITIONS,e.urlParams=urlParams,e.profile=urlParams.profile,e.hasPlan=!0,e.error=null;var l="Oops our HoneyInsured bot found an error. Please contact us via support@honeyinsured.com or chat and we will assist you as soon as possible!";e._=_,e.startDate=r.calInsuranceStartDate();var u=r.serviceCalDate(-61),d=r.serviceCalDate(60);e.specialEnrollmentReasons=["Lost coverage after "+u,"Will lose coverage before "+d,"Got married after "+u,"Get released from incarceration after "+u,"Gained immigration status after "+u,"Moved to a different zip code after "+u],e.plan=n.getPlan(urlParams.plan),e.plan||(e.hasPlan=!1,a.get(n.RECOMMEND_ENDPOINT+window.encodeJson(urlParams.profile)+"&id="+urlParams.plan).then(function(a){a.data.premium?(e.plan=a.data,n.savePlan(e.plan),e.form.isSubsidy=!!e.plan.originalPremium,e.hasPlan=!0):(e.error=l,window.reportBug("enroll plan not found",JSON.stringify(a)))}));var c=e.$watch("plan",function(a){if(a){var t=document.createElement("a");t.href=document.referrer,"/recommend.html"==t.pathname&&window.tagEvent("enroll",{plan:a.name}),"catastrophic"==e.plan.metal&&(e.templateIndex=-1),c()}});r.setState(urlParams.state),e.errors=null;var p=function(t,i){e.form.plan=e.plan,a.post(n.ENROLL_ENDPOINT+"&stage="+t,{data:window.encodeJson(e.form)}).then(function(a){+a.data&&(e.applicationId=a.data),window.tagEvent("Enroll "+t,{applicationId:e.applicationId}),"you"==t&&window.updateUser("Signup Enroll",e.form.email,{name:e.form.members[0].firstName})},function(e){window.reportBug("enroll post fail",JSON.stringify(res))}),window.reportBug("Enroll Cache "+t+" "+e.form.members[0].firstName,window.encodeJson(e.form)),i&&i()};e.form={userId:getCookie("userId"),address:{fip:urlParams.fip,zip:urlParams.zip,state:urlParams.state},primary:{},members:[{relationship:"You"}],incomes:[],isSubsidy:e.plan&&!!e.plan.originalPremium},e.addMember=function(a,r){var n=i.RELATIONSHIPS_RESTRICTIONS[i.RELATIONSHIPS.indexOf(a)];n&&_.filter(e.form.members,function(e){return e.relationship==a}).length>=n||(e.form.members.push({relationship:a}),$("#addMember").dropdown("toggle"),t(function(){$(".household-name:last").focus()},100),r.stopPropagation())},e.removeMember=function(a,t){a>0&&e.form.members.splice(a,1),t.stopPropagation()},e.addIncome=function(a,i){e.form.incomes.push({person:a}),$("#addIncome").dropdown("toggle"),t(function(){$(".income-amount:last").focus()},100),i.stopPropagation()},e.removeIncome=function(a,t){e.form.incomes.splice(a,1),t.stopPropagation()},e.templateIndex=0;var f=[];e.next=function(a){a.$setSubmitted();var t=e.templateIndex;if(m[e.templateIndex]=a||{$valid:!0},(1!=t||!a.$valid||!e.marriedButSeperated||e.form.proceedWithoutSubsidy)&&a.$valid){if(0==t)f.push(e.templateIndex),e.templateIndex++,p("you");else if(1==t)if(f.push(e.templateIndex),p("household"),e.form.isSubsidy)if(e.marriedButSeperated&&e.form.proceedWithoutSubsidy)m[2]={$valid:!0},v(!0),e.templateIndex=3;else{var i=_.pluck(e.form.incomes,"person");_.map(e.form.members,function(a){-1==i.indexOf(a.firstName)&&e.form.incomes.push({person:a.firstName})}),e.templateIndex++}else e.templateIndex=3,v();else 2==t?(f.push(e.templateIndex),p("income"),e.templateIndex=3,v()):4==t?e.templateIndex=5:5==t&&(e.hasCompleted=!0,e.templateIndex=6,p("submit",function(){e.hasCompleted=!0,e.templateIndex=7}));$("html,body").animate({scrollTop:0},400)}},e.back=function(){f.length>0&&(e.templateIndex=f.splice(-1,1))},e.marriedButSeperated=!1,e.form.proceedWithoutSubsidy=!1,e.$watch("form.members",function(a){_.pluck(a,"relationship").indexOf("Spouse")>-1?(_.map(_.filter(e.form.members,function(e){return["You","Spouse"].indexOf(e.relationship)>-1}),function(e){e.isMarried=!0}),e.marriedButSeperated=!1):e.marriedButSeperated=e.form.members[0].isMarried?!0:!1},!0),e.$watch("templateIndex",function(e){s.hash(e)});var m={2:{$valid:!e.form.isSubsidy},3:{$valid:!0},4:{$valid:!0}};e.$on("$locationChangeStart",function(a){if(e.hasCompleted)return void a.preventDefault();if(-1!=+s.hash()&&(+s.hash()||0==+s.hash())){var t=0;_.map(_.range(0,+s.hash()),function(e){m[e]&&(m[e].$valid||1==e&&1==_.keys(m[1].$error).length&&m[1].$error.invalidTaxStatus)&&t++}),e.templateIndex=+s.hash()==t?t:0}}),e.goBackInfo=function(e){var a=location.search.substr(1);a=a.slice(0,a.indexOf("&plan="))+e,window.location="/info.html?"+a},e.goBackRecommend=function(){var a=location.search.substr(1);a=a.slice(0,a.indexOf("&plan="))+"##"+e.urlParams.plan,window.location="/recommend.html?"+a};var v=function(t){if(e.form.isSubsidy&&!t){var i=_.reduce(e.form.incomes,function(e,a){return e+parseInt(a.amount.replace("$",""))},0),o=r.calFPLRatio(e.form.incomes.length,i);e.inEligibles=[],_.map(e.form.members,function(a){a.isApplying&&(r.setChipOrMedicaidOrMedicareEligible(a,o),a.isEligible=!(a.isMedicaid||a.isMedicare||a.isChip),!a.isEligible&&e.inEligibles.push(a))})}var s={address:e.form.address,incomes:e.form.incomes,members:_.filter(e.form.members,function(a){return!e.form.isSubsidy||a.isApplying&&(t||a.isEligible)})};if(e.nonEligible=!1,0==s.members.length)return e.nonEligible=!0,void(e.templateIndex=4);var l={fip:s.address.fip,zip:s.address.zip,state:s.address.state,income:t||!e.form.isSubsidy?1e4:_.reduce(s.incomes,function(e,a){return e+parseInt(a.amount.replace("$",""))},0),size:e.form.isSubsidy?s.members.length:e.profile.size,persons:[]};_.map(s.members,function(e){var a={age:r.calAge(e.birthdate),smoker:e.isTobacco?"true":"false"};l.persons.push(a)}),a.get(n.RECOMMEND_ENDPOINT+window.encodeJson(l)+"&id="+e.plan.id).then(function(a){var t=a.data,i=e.plan.premium;_.map(["premium","medDed","moop"],function(a){e.plan[a]=t[a]}),t.originalPremium?e.plan.originalPremium=t.originalPremium:delete e.plan.originalPremium,e.templateIndex=Math.abs(1-i/t.premium)>.01||!_.isEmpty(e.inEligibles)?4:5})}}]).factory("enrollService",["ENROLL_CONSTANTS",function(e){var a,t={};return t.setState=function(e){a=e},t.calFPLRatio=function(e,a){return+e&&+a?a/(7610+4160*e):null},t.calAge=function(e){var a=new Date(t.calInsuranceStartDate()+" 2016"),i=e.split("/"),r=new Date(parseInt(i[2]),parseInt(i[0])-1,parseInt(i[1])),n=a.getFullYear()-r.getFullYear(),o=a.getMonth()-r.getMonth();return(0>o||0===o&&a.getDate()<r.getDate())&&n--,n},t.setChipOrMedicaidOrMedicareEligible=function(t,i){if(t.birthdate||t.age){var r=t.age?t.age:this.calAge(t.birthdate);if(t.isMedicare=r>=65,!i||t.isMedicaidChipRejected)return t.isMedicaid=!1,void(t.isChip=!1);var n,o,s=e.CHIP_MEDICAID_BREAKPOINTS[a];if(18>=r){var l=_.chain([2,6,19]).map(function(e,a){return[e-r,a]}).filter(function(e){return e[0]>0}).min(function(e){return e[0]}).value()[1];n=s[l],2==l&&(o=s[3])}else n=s[8]&&21>r?s[8]:t.isCaretaker?s[6]:s[7]-.05;t.gender&&"female"==t.gender&&t.isPregnant&&(n=n?_.max([n,s[4]]):s[4],o=o?_.max([o,s[5]]):s[5]);var u=.05;i-=u,t.isMedicaid=n?n>=i:!1,t.isChip=o?o>=i:!1}},t.calInsuranceStartDate=function(){var e=new Date(Date.now()+18e5);if(e<new Date(2015,11,16))return"January 1";var a=["January","February","March","April","May","June","July","August","September","October","November","December"];return e.getDate()<16?a[(e.getMonth()+1)%12]+" 1":a[(e.getMonth()+2)%12]+" 1"},t.serviceCalDate=function(e){var a=new Date(Date.now());return a.setDate(a.getDate()+(e||0)),a.getMonth()+1+"/"+a.getDate()+"/"+a.getFullYear()},t}]).directive("geolocation",function(){return{restrict:"A",link:function(e,a,t){var i=e.$eval(t.geolocation),r=new google.maps.places.Autocomplete($(a)[0],{types:["geocode"],componentRestrictions:{country:"US"}}),n={street_number:"short_name",route:"long_name",administrative_area_level_1:"short_name",locality:"long_name",postal_code:"short_name"};google.maps.event.addListener(r,"place_changed",function(){var t,o=r.getPlace(),s={};_.map(o.address_components,function(e){(t=n[e.types[0]])&&(s[e.types[0]]=e[t])}),s.postal_code&&(i.zip=s.postal_code),i.state=s.administrative_area_level_1?s.administrative_area_level_1:"",i.city=s.locality?s.locality:"",i.street=(s.street_number?s.street_number+" ":"")+(s.route?s.route:""),$(a).blur(),e.$apply()})}}}).directive("checkGender",["$http",function(e){return{restrict:"A",require:"ngModel",link:function(a,t,i,r){var n=$($(t).parent().parent().find("input")[0]);n.blur(function(){""!=$(this).val()&&e.get("https://api.genderize.io/?name="+$(this).val()+"&country_id=us&language_id=en").then(function(e){e.data.probability&&parseFloat(e.data.probability)>.9&&r.$setViewValue(e.data.gender)})})}}}]).directive("validEmail",function(){return{require:"ngModel",link:function(e,a,t,i){i.$validators.fakeEmail=function(e,a){if(i.$isEmpty(e)||e.length<=5)return!0;var t=_.some([/^\d+@/,/^none@/,/^no@/,/@mailinator/,/@asdf/,/@namemail/,/@noemail/,/^test@/,/john@gmail.com/,/@fakeinbox/],function(a){return a.test(e)});return!t}}}}).directive("validPhone",function(){return{require:"ngModel",link:function(e,a,t,i){i.$validators.fakePhone=function(e,a){return i.$isEmpty(e)||e.replace(/_/g,"").length<14?!0:["201","202","203","205","206","207","208","209","210","212","213","214","215","216","217","218","219","224","225","228","229","231","234","239","240","248","251","252","253","254","256","260","262","267","269","270","272","276","281","301","302","303","304","305","307","308","309","310","312","313","314","315","316","317","318","319","320","321","323","325","330","331","334","336","337","339","340","346","347","351","352","360","361","385","386","401","402","404","405","406","407","408","409","410","412","413","414","415","417","419","423","424","425","430","432","434","435","440","442","443","458","469","470","475","478","479","480","484","501","502","503","504","505","507","508","509","510","512","513","515","516","517","518","520","530","531","534","539","540","541","551","559","561","562","563","567","570","571","573","574","575","580","585","586","601","602","603","605","606","607","608","609","610","612","614","615","616","617","618","619","620","623","626","630","631","636","641","646","650","651","657","660","661","662","667","669","670","671","678","681","682","684","701","702","703","704","706","707","708","712","713","714","715","716","717","718","719","720","724","725","727","731","732","734","737","740","747","754","757","760","762","763","765","769","770","772","773","774","775","779","781","785","786","787","801","802","803","804","805","806","808","810","812","813","814","815","816","817","818","828","830","831","832","843","845","847","848","850","856","857","858","859","860","862","863","864","865","870","872","878","901","903","904","906","907","908","909","910","912","913","914","915","916","917","918","919","920","925","928","929","931","936","937","938","939","940","941","947","949","951","952","954","956","970","971","972","973","978","979","980","984","985","989"].indexOf(e.slice(1,4))>-1}}}}).directive("validZipcode",function(){return{require:"ngModel",link:function(e,a,t,i){i.$validators.wrongZip=function(a,t){return i.$isEmpty(a)||a.length<5?!0:e.urlParams.zip==a}}}}).directive("capitalizeFirst",["$parse",function(e){return{require:"ngModel",link:function(a,t,i,r){var n=function(e){void 0===e&&(e="");var a=e.charAt(0).toUpperCase()+e.substring(1);return a!==e&&(r.$setViewValue(a),r.$render()),a};r.$parsers.push(n),n(e(i.ngModel)(a))}}}]).directive("validBirthdate",["enrollService",function(e){return{require:"ngModel",link:function(a,t,i,r){r.$validators.insufficientAge=function(t,n){return r.$isEmpty(t)||t.replace(/[mdy]/,"").length<10?!0:"You"==a.$eval(i.validBirthdate)&&e.calAge(t)<18&&e.calAge(t)>=0?!1:!0},r.$validators.fakeBirthdate=function(a,t){return r.$isEmpty(a)||a.replace(/[mdy]/,"").length<10?!0:(console.log(a,e.calAge(a)),e.calAge(a)>=0)}}}}]).directive("validTaxStatus",["enrollService",function(e){return{require:"ngModel",link:function(e,a,t,i){var r=function(){return _.isEmpty(_.keys(e.$eval(t.validTaxStatusForm).$error))};"You"==e.$eval(t.validTaxStatus)&&e.$watch("form.members",function(a){_.pluck(a,"relationship").indexOf("Spouse")>-1?(_.map(_.filter(e.form.members,function(e){return["You","Spouse"].indexOf(e.relationship)>-1}),function(e){e.isMarried=!0}),i.$setValidity("invalidTaxStatus",!0)):e.form.members[0].isMarried&&i.$setValidity("invalidTaxStatus",!1)},!0),i.$validators.invalidTaxStatus=function(a,i){return"You"!=e.$eval(t.validTaxStatus)?!0:r()&&a&&_.isEmpty(_.filter(e.form.members,function(e){return"Spouse"==e.relationship}))?!1:!0}}}}]).directive("validSignature",function(){return{require:"ngModel",link:function(e,a,t,i){i.$validators.invalidSignature=function(a,t){return i.$isEmpty(a)?!0:a.toLowerCase().trim()==(e.form.members[0].firstName+" "+e.form.members[0].lastName).toLowerCase().trim()?!0:!1}}}});