!function(t){t.fn.animatescroll=function(e){var i=t.extend({},t.fn.animatescroll.defaults,e);if("function"==typeof i.onScrollStart&&i.onScrollStart.call(this),"html,body"==i.element){var s=this.offset().top;t(i.element).stop().animate({scrollTop:s-i.padding},i.scrollSpeed,i.easing)}else t(i.element).stop().animate({scrollTop:this.offset().top-this.parent().offset().top+this.parent().scrollTop()-i.padding},i.scrollSpeed,i.easing);setTimeout(function(){"function"==typeof i.onScrollEnd&&i.onScrollEnd.call(this)},i.scrollSpeed)},t.fn.animatescroll.defaults={easing:"swing",scrollSpeed:800,padding:0,element:"html,body"}}(jQuery),!function(t){function e(t){var e=document.createElement("input"),i="on"+t,s=i in e;return s||(e.setAttribute(i,"return;"),s="function"==typeof e[i]),e=null,s}function i(t){var e="text"==t||"tel"==t||"password"==t;if(!e){var i=document.createElement("input");i.setAttribute("type",t),e="text"===i.type,i=null}return e}function s(e,i,n){var r=n.aliases[e];return r?(r.alias&&s(r.alias,void 0,n),t.extend(!0,n,r),t.extend(!0,n,i),!0):!1}function n(e,i){function s(i){function s(t,e,i,s){this.matches=[],this.isGroup=t||!1,this.isOptional=e||!1,this.isQuantifier=i||!1,this.isAlternator=s||!1,this.quantifier={min:1,max:1}}function n(i,s,n){var r=e.definitions[s],a=0==i.matches.length;if(n=void 0!=n?n:i.matches.length,r&&!d){r.placeholder=t.isFunction(r.placeholder)?r.placeholder.call(this,e):r.placeholder;for(var o=r.prevalidator,l=o?o.length:0,h=1;h<r.cardinality;h++){var u=l>=h?o[h-1]:[],c=u.validator,p=u.cardinality;i.matches.splice(n++,0,{fn:c?"string"==typeof c?new RegExp(c):new function(){this.test=c}:new RegExp("."),cardinality:p?p:1,optionality:i.isOptional,newBlockMarker:a,casing:r.casing,def:r.definitionSymbol||s,placeholder:r.placeholder,mask:s})}i.matches.splice(n++,0,{fn:r.validator?"string"==typeof r.validator?new RegExp(r.validator):new function(){this.test=r.validator}:new RegExp("."),cardinality:r.cardinality,optionality:i.isOptional,newBlockMarker:a,casing:r.casing,def:r.definitionSymbol||s,placeholder:r.placeholder,mask:s})}else i.matches.splice(n++,0,{fn:null,cardinality:0,optionality:i.isOptional,newBlockMarker:a,casing:null,def:s,placeholder:void 0,mask:s}),d=!1}for(var r,a,o,l,h,u,c=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,d=!1,p=new s,f=[],g=[];r=c.exec(i);)switch(a=r[0],a.charAt(0)){case e.optionalmarker.end:case e.groupmarker.end:if(o=f.pop(),f.length>0){if(l=f[f.length-1],l.matches.push(o),l.isAlternator){h=f.pop();for(var m=0;m<h.matches.length;m++)h.matches[m].isGroup=!1;f.length>0?(l=f[f.length-1],l.matches.push(h)):p.matches.push(h)}}else p.matches.push(o);break;case e.optionalmarker.start:f.push(new s(!1,!0));break;case e.groupmarker.start:f.push(new s(!0));break;case e.quantifiermarker.start:var v=new s(!1,!1,!0);a=a.replace(/[{}]/g,"");var y=a.split(","),_=isNaN(y[0])?y[0]:parseInt(y[0]),x=1==y.length?_:isNaN(y[1])?y[1]:parseInt(y[1]);if(("*"==x||"+"==x)&&(_="*"==x?0:1),v.quantifier={min:_,max:x},f.length>0){var w=f[f.length-1].matches;if(r=w.pop(),!r.isGroup){var k=new s(!0);k.matches.push(r),r=k}w.push(r),w.push(v)}else{if(r=p.matches.pop(),!r.isGroup){var k=new s(!0);k.matches.push(r),r=k}p.matches.push(r),p.matches.push(v)}break;case e.escapeChar:d=!0;break;case e.alternatormarker:f.length>0?(l=f[f.length-1],u=l.matches.pop()):u=p.matches.pop(),u.isAlternator?f.push(u):(h=new s(!1,!1,!1,!0),h.matches.push(u),f.push(h));break;default:if(f.length>0){if(l=f[f.length-1],l.matches.length>0&&!l.isAlternator&&(u=l.matches[l.matches.length-1],u.isGroup&&(u.isGroup=!1,n(u,e.groupmarker.start,0),n(u,e.groupmarker.end))),n(l,a),l.isAlternator){h=f.pop();for(var m=0;m<h.matches.length;m++)h.matches[m].isGroup=!1;f.length>0?(l=f[f.length-1],l.matches.push(h)):p.matches.push(h)}}else p.matches.length>0&&(u=p.matches[p.matches.length-1],u.isGroup&&(u.isGroup=!1,n(u,e.groupmarker.start,0),n(u,e.groupmarker.end))),n(p,a)}return p.matches.length>0&&(u=p.matches[p.matches.length-1],u.isGroup&&(u.isGroup=!1,n(u,e.groupmarker.start,0),n(u,e.groupmarker.end)),g.push(p)),g}function n(n,r){if(void 0==n||""==n)return void 0;if(1==n.length&&0==e.greedy&&0!=e.repeat&&(e.placeholder=""),e.repeat>0||"*"==e.repeat||"+"==e.repeat){var a="*"==e.repeat?0:"+"==e.repeat?1:e.repeat;n=e.groupmarker.start+n+e.groupmarker.end+e.quantifiermarker.start+a+","+e.repeat+e.quantifiermarker.end}var o;return void 0==t.inputmask.masksCache[n]||i===!0?(o={mask:n,maskToken:s(n),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:r},i!==!0&&(t.inputmask.masksCache[n]=o)):o=t.extend(!0,{},t.inputmask.masksCache[n]),o}function r(t){if(t=t.toString(),e.numericInput){t=t.split("").reverse();for(var i=0;i<t.length;i++)t[i]==e.optionalmarker.start?t[i]=e.optionalmarker.end:t[i]==e.optionalmarker.end?t[i]=e.optionalmarker.start:t[i]==e.groupmarker.start?t[i]=e.groupmarker.end:t[i]==e.groupmarker.end&&(t[i]=e.groupmarker.start);t=t.join("")}return t}var a=void 0;if(t.isFunction(e.mask)&&(e.mask=e.mask.call(this,e)),t.isArray(e.mask)){if(e.mask.length>1){e.keepStatic=void 0==e.keepStatic?!0:e.keepStatic;var o="(";return t.each(e.mask,function(e,i){o.length>1&&(o+=")|("),o+=r(void 0==i.mask||t.isFunction(i.mask)?i:i.mask)}),o+=")",n(o,e.mask)}e.mask=e.mask.pop()}return e.mask&&(a=void 0==e.mask.mask||t.isFunction(e.mask.mask)?n(r(e.mask),e.mask):n(r(e.mask.mask),e.mask)),a}function r(s,n,r){function a(t,e,i){e=e||0;var s,n,r,a=[],o=0;do{if(t===!0&&c().validPositions[o]){var l=c().validPositions[o];n=l.match,s=l.locator.slice(),a.push(i===!0?l.input:O(o,n))}else r=m(o,s,o-1),n=r.match,s=r.locator.slice(),a.push(O(o,n));o++}while((void 0==st||st>o-1)&&null!=n.fn||null==n.fn&&""!=n.def||e>=o);return a.pop(),a}function c(){return n}function d(t){var e=c();e.buffer=void 0,e.tests={},t!==!0&&(e._buffer=void 0,e.validPositions={},e.p=0)}function p(t,e){var i=c(),s=-1,n=i.validPositions;void 0==t&&(t=-1);var r=s,a=s;for(var o in n){var l=parseInt(o);n[l]&&(e||null!=n[l].match.fn)&&(t>=l&&(r=l),l>=t&&(a=l))}return s=-1!=r&&t-r>1||t>a?r:a}function f(e,i,s){if(r.insertMode&&void 0!=c().validPositions[e]&&void 0==s){var n,a=t.extend(!0,{},c().validPositions),o=p();for(n=e;o>=n;n++)delete c().validPositions[n];c().validPositions[e]=i;var l,h=!0,u=c().validPositions;for(n=l=e;o>=n;n++){var d=a[n];if(void 0!=d)for(var f=l,g=-1;f<F()&&(null==d.match.fn&&u[n]&&(u[n].match.optionalQuantifier===!0||u[n].match.optionality===!0)||null!=d.match.fn);){if(null==d.match.fn||!r.keepStatic&&u[n]&&(void 0!=u[n+1]&&_(n+1,u[n].locator.slice(),n).length>1||void 0!=u[n].alternation)?f++:f=E(l),y(f,d.match.def)){h=C(f,d.input,!0,!0)!==!1,l=f;break}if(h=null==d.match.fn,g==f)break;g=f}if(!h)break}if(!h)return c().validPositions=t.extend(!0,{},a),!1}else c().validPositions[e]=i;return!0}function g(t,e,i,s){var n,a=t;for(c().p=t,void 0!=c().validPositions[t]&&c().validPositions[t].input==r.radixPoint&&(e++,a++),n=a;e>n;n++)void 0!=c().validPositions[n]&&(i===!0||0!=r.canClearPosition(c(),n,p(),s,r))&&delete c().validPositions[n];for(d(!0),n=a+1;n<=p();){for(;void 0!=c().validPositions[a];)a++;var o=c().validPositions[a];a>n&&(n=a+1);var l=c().validPositions[n];void 0!=l&&void 0==o?(y(a,l.match.def)&&C(a,l.input,!0)!==!1&&(delete c().validPositions[n],n++),a++):n++}var h=p(),u=F();for(h>=t&&void 0!=c().validPositions[h]&&c().validPositions[h].input==r.radixPoint&&delete c().validPositions[h],n=h+1;u>=n;n++)c().validPositions[n]&&delete c().validPositions[n];d(!0)}function m(t,e,i){var s=c().validPositions[t];if(void 0==s)for(var n=_(t,e,i),a=p(),o=c().validPositions[a]||_(0)[0],l=void 0!=o.alternation?o.locator[o.alternation].toString().split(","):[],h=0;h<n.length&&(s=n[h],!(s.match&&(r.greedy&&s.match.optionalQuantifier!==!0||(s.match.optionality===!1||s.match.newBlockMarker===!1)&&s.match.optionalQuantifier!==!0)&&(void 0==o.alternation||o.alternation!=s.alternation||void 0!=s.locator[o.alternation]&&S(s.locator[o.alternation].toString().split(","),l))));h++);return s}function v(t){return c().validPositions[t]?c().validPositions[t].match:_(t)[0].match}function y(t,e){for(var i=!1,s=_(t),n=0;n<s.length;n++)if(s[n].match&&s[n].match.def==e){i=!0;break}return i}function _(e,i,s,n){function r(i,s,n,a){function l(n,a,p){if(o>1e4)return alert("jquery.inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+c().mask),!0;if(o==e&&void 0==n.matches)return h.push({match:n,locator:a.reverse()}),!0;if(void 0!=n.matches){if(n.isGroup&&p!==!0){if(n=l(i.matches[d+1],a))return!0}else if(n.isOptional){var f=n;if(n=r(n,s,a,p)){var g=h[h.length-1].match,m=0==t.inArray(g,f.matches);if(!m)return!0;u=!0,o=e}}else if(n.isAlternator){var v,y=n,_=[],x=h.slice(),w=a.length,k=s.length>0?s.shift():-1;if(-1==k||"string"==typeof k){var b=o,S=s.slice(),C=[];"string"==typeof k&&(C=k.split(","));for(var P=0;P<y.matches.length;P++){if(h=[],n=l(y.matches[P],[P].concat(a),p)||n,n!==!0&&void 0!=n&&C[C.length-1]<y.matches.length){var F=i.matches.indexOf(n)+1;i.matches.length>F&&(n=l(i.matches[F],[F].concat(a.slice(1,a.length)),p),n&&(C.push(F.toString()),t.each(h,function(t,e){e.alternation=a.length-1})))}v=h.slice(),o=b,h=[];for(var E=0;E<S.length;E++)s[E]=S[E];for(var z=0;z<v.length;z++){var T=v[z];T.alternation=T.alternation||w;for(var M=0;M<_.length;M++){var O=_[M];if(T.match.mask==O.match.mask&&("string"!=typeof k||-1!=t.inArray(T.locator[T.alternation].toString(),C))){v.splice(z,1),z--,O.locator[T.alternation]=O.locator[T.alternation]+","+T.locator[T.alternation],O.alternation=T.alternation;break}}}_=_.concat(v)}"string"==typeof k&&(_=t.map(_,function(e,i){if(isFinite(i)){var s,n=e.alternation,r=e.locator[n].toString().split(",");e.locator[n]=void 0,e.alternation=void 0;for(var a=0;a<r.length;a++)s=-1!=t.inArray(r[a],C),s&&(void 0!=e.locator[n]?(e.locator[n]+=",",e.locator[n]+=r[a]):e.locator[n]=parseInt(r[a]),e.alternation=n);if(void 0!=e.locator[n])return e}})),h=x.concat(_),o=e,u=h.length>0}else n=y.matches[k]?l(y.matches[k],[k].concat(a),p):!1;if(n)return!0}else if(n.isQuantifier&&p!==!0)for(var A=n,$=s.length>0&&p!==!0?s.shift():0;$<(isNaN(A.quantifier.max)?$+1:A.quantifier.max)&&e>=o;$++){var L=i.matches[t.inArray(A,i.matches)-1];if(n=l(L,[$].concat(a),!0)){var g=h[h.length-1].match;g.optionalQuantifier=$>A.quantifier.min-1;var m=0==t.inArray(g,L.matches);if(m){if($>A.quantifier.min-1){u=!0,o=e;break}return!0}return!0}}else if(n=r(n,s,a,p))return!0}else o++}for(var d=s.length>0?s.shift():0;d<i.matches.length;d++)if(i.matches[d].isQuantifier!==!0){var p=l(i.matches[d],[d].concat(n),a);if(p&&o==e)return p;if(o>e)break}}var a=c().maskToken,o=i?s:0,l=i||[0],h=[],u=!1;if(n===!0&&c().tests[e])return c().tests[e];if(void 0==i){for(var d,p=e-1;void 0==(d=c().validPositions[p])&&p>-1&&(!c().tests[p]||void 0==(d=c().tests[p][0]));)p--;void 0!=d&&p>-1&&(o=p,l=d.locator.slice())}for(var f=l.shift();f<a.length;f++){var g=r(a[f],l,[f]);if(g&&o==e||o>e)break}return(0==h.length||u)&&h.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),c().tests[e]=t.extend(!0,[],h),c().tests[e]}function x(){return void 0==c()._buffer&&(c()._buffer=a(!1,1)),c()._buffer}function w(){return void 0==c().buffer&&(c().buffer=a(!0,p(),!0)),c().buffer}function k(t,e,i){if(i=i||w().slice(),t===!0)d(),t=0,e=i.length;else for(var s=t;e>s;s++)delete c().validPositions[s],delete c().tests[s];for(var s=t;e>s;s++)i[s]!=r.skipOptionalPartCharacter&&C(s,i[s],!0,!0)}function b(t,e){switch(e.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase()}return t}function S(e,i){for(var s=r.greedy?i:i.slice(0,1),n=!1,a=0;a<e.length;a++)if(-1!=t.inArray(e[a],s)){n=!0;break}return n}function C(e,i,s,n){function a(e,i,s,n){var a=!1;return t.each(_(e),function(o,l){for(var h=l.match,u=i?1:0,m="",v=(w(),h.cardinality);v>u;v--)m+=T(e-(v-1));if(i&&(m+=i),a=null!=h.fn?h.fn.test(m,c(),e,s,r):i!=h.def&&i!=r.skipOptionalPartCharacter||""==h.def?!1:{c:h.def,pos:e},a!==!1){var y=void 0!=a.c?a.c:i;y=y==r.skipOptionalPartCharacter&&null===h.fn?h.def:y;var _=e,x=w();if(void 0!=a.remove&&(t.isArray(a.remove)||(a.remove=[a.remove]),t.each(a.remove.sort(function(t,e){return e-t}),function(t,e){g(e,e+1,!0)})),void 0!=a.insert&&(t.isArray(a.insert)||(a.insert=[a.insert]),t.each(a.insert.sort(function(t,e){return t-e}),function(t,e){C(e.pos,e.c,!0)})),a.refreshFromBuffer){var S=a.refreshFromBuffer;if(s=!0,k(S===!0?S:S.start,S.end,x),void 0==a.pos&&void 0==a.c)return a.pos=p(),!1;if(_=void 0!=a.pos?a.pos:e,_!=e)return a=t.extend(a,C(_,y,!0)),!1}else if(a!==!0&&void 0!=a.pos&&a.pos!=e&&(_=a.pos,k(e,_),_!=e))return a=t.extend(a,C(_,y,!0)),!1;return 1!=a&&void 0==a.pos&&void 0==a.c?!1:(o>0&&d(!0),f(_,t.extend({},l,{input:b(y,h)}),n)||(a=!1),!1)}}),a}function o(e,i,s,n){for(var a,o,l,h,u=t.extend(!0,{},c().validPositions),f=p();f>=0&&(h=c().validPositions[f],!h||void 0==h.alternation||(a=f,o=c().validPositions[a].alternation,m(a).locator[h.alternation]==h.locator[h.alternation]));f--);if(void 0!=o)for(var g in c().validPositions)if(h=c().validPositions[g],parseInt(g)>parseInt(a)&&void 0!=h.alternation){var v=c().validPositions[a].locator[o].toString().split(","),y=h.locator[o]||v[0];y.length>0&&(y=y.split(",")[0]);for(var _=0;_<v.length;_++)if(y<v[_]){for(var x,w,k=g-1;k>=0;k--)if(x=c().validPositions[k],void 0!=x){w=x.locator[o],x.locator[o]=parseInt(v[_]);break}if(y!=x.locator[o]){for(var b=[],S=g;S<p()+1;S++){var P=c().validPositions[S];P&&null!=P.match.fn&&b.push(P.input),delete c().validPositions[S],delete c().tests[S]}for(d(!0),r.keepStatic=!r.keepStatic,l=!0;b.length>0;){var F=b.shift();if(F!=r.skipOptionalPartCharacter&&!(l=C(p()+1,F,!1,!0)))break}if(x.alternation=o,x.locator[o]=w,l){var E=p(e)+1;l=C(e>E?E:e,i,s,n)}if(r.keepStatic=!r.keepStatic,l)return l;d(),c().validPositions=t.extend(!0,{},u)}}break}return!1}function l(e,i){for(var s=c().validPositions[i],n=s.locator,r=n.length,a=e;i>a;a++)if(!P(a)){var o=_(a),l=o[0],h=-1;t.each(o,function(t,e){for(var i=0;r>i;i++)e.locator[i]&&S(e.locator[i].toString().split(","),n[i].toString().split(","))&&i>h&&(h=i,l=e)}),f(a,t.extend({},l,{input:l.match.def}),!0)}}s=s===!0;for(var h=w(),u=e-1;u>-1&&!c().validPositions[u];u--);for(u++;e>u;u++)void 0==c().validPositions[u]&&((!P(u)||h[u]!=O(u))&&_(u).length>1||h[u]==r.radixPoint||"0"==h[u]&&t.inArray(r.radixPoint,h)<u)&&a(u,h[u],!0);var v=e,y=!1,x=t.extend(!0,{},c().validPositions);if(v<F()&&(y=a(v,i,s,n),(!s||n)&&y===!1)){var z=c().validPositions[v];if(!z||null!=z.match.fn||z.match.def!=i&&i!=r.skipOptionalPartCharacter){if((r.insertMode||void 0==c().validPositions[E(v)])&&!P(v))for(var M=v+1,A=E(v);A>=M;M++)if(y=a(M,i,s,n),y!==!1){l(v,M),v=M;break}}else y={caret:E(v)}}if(y===!1&&r.keepStatic&&I(h)&&(y=o(e,i,s,n)),y===!0&&(y={pos:v}),t.isFunction(r.postValidation)&&0!=y&&!s){d(!0);var $=r.postValidation(w(),r);if(!$)return d(!0),c().validPositions=t.extend(!0,{},x),!1}return y}function P(t){var e=v(t);if(null!=e.fn)return e.fn;if(!r.keepStatic&&void 0==c().validPositions[t]){for(var i=_(t),s=!0,n=0;n<i.length;n++)if(""!=i[n].match.def&&(void 0==i[n].alternation||i[n].locator[i[n].alternation].length>1)){s=!1;break}return s}return!1}function F(){var t;st=it.prop("maxLength"),-1==st&&(st=void 0);var e,i=p(),s=c().validPositions[i],n=void 0!=s?s.locator.slice():void 0;for(e=i+1;void 0==s||null!=s.match.fn||null==s.match.fn&&""!=s.match.def;e++)s=m(e,n,e-1),n=s.locator.slice();var r=v(e-1);return t=""!=r.def?e:e-1,void 0==st||st>t?t:st}function E(t){var e=F();if(t>=e)return e;for(var i=t;++i<e&&!P(i)&&(r.nojumps!==!0||r.nojumpsThreshold>i););return i}function z(t){var e=t;if(0>=e)return 0;for(;--e>0&&!P(e););return e}function T(t){return void 0==c().validPositions[t]?O(t):c().validPositions[t].input}function M(e,i,s,n,a){if(n&&t.isFunction(r.onBeforeWrite)){var o=r.onBeforeWrite.call(e,n,i,s,r);if(o){if(o.refreshFromBuffer){var l=o.refreshFromBuffer;k(l===!0?l:l.start,l.end,o.buffer),d(!0),i=w()}s=o.caret||s}}e._valueSet(i.join("")),void 0!=s&&D(e,s),a===!0&&(at=!0,t(e).trigger("input"))}function O(t,e){if(e=e||v(t),void 0!=e.placeholder)return e.placeholder;if(null==e.fn){if(!r.keepStatic&&void 0==c().validPositions[t]){for(var i=_(t),s=!0,n=0;n<i.length;n++)if(""!=i[n].match.def&&(null!==i[n].match.fn||void 0==i[n].alternation||i[n].locator[i[n].alternation].length>1)){s=!1;break}if(s)return r.placeholder.charAt(t%r.placeholder.length)}return e.def}return r.placeholder.charAt(t%r.placeholder.length)}function A(e,i,s,n){function r(){var t=!1,e=x().slice(l,E(l)).join("").indexOf(o);if(-1!=e&&!P(l)){t=!0;for(var i=x().slice(l,l+e),s=0;s<i.length;s++)if(" "!=i[s]){t=!1;break}}return t}var a=void 0!=n?n.slice():e._valueGet().split(""),o="",l=0;if(d(),c().p=E(-1),i&&e._valueSet(""),!s){var h=x().slice(0,E(-1)).join(""),u=a.join("").match(new RegExp("^"+$(h),"g"));u&&u.length>0&&(a.splice(0,u.length*h.length),l=E(l))}t.each(a,function(i,n){var a=t.Event("keypress");a.which=n.charCodeAt(0),o+=n;var h=p(void 0,!0),u=c().validPositions[h],d=m(h+1,u?u.locator.slice():void 0,h);if(!r()||s){var f=s?i:null==d.match.fn&&d.match.optionality&&h+1<c().p?h+1:c().p;U.call(e,a,!0,!1,s,f),l=f+1,o=""}else U.call(e,a,!0,!1,!0,h+1)}),i&&M(e,w(),t(e).is(":focus")?E(p(0)):void 0,t.Event("checkval"))}function $(e){return t.inputmask.escapeRegex(e)}function L(e){if(e.data("_inputmask")&&!e.hasClass("hasDatepicker")){var i=[],s=c().validPositions;for(var n in s)s[n].match&&null!=s[n].match.fn&&i.push(s[n].input);var a=(nt?i.reverse():i).join(""),o=(nt?w().slice().reverse():w()).join("");return t.isFunction(r.onUnMask)&&(a=r.onUnMask.call(e,o,a,r)||a),a}return e[0]._valueGet()}function B(t){if(nt&&"number"==typeof t&&(!r.greedy||""!=r.placeholder)){var e=w().length;t=e-t}return t}function D(e,i,s){var n,a=e.jquery&&e.length>0?e[0]:e;if("number"!=typeof i)return a.setSelectionRange?(i=a.selectionStart,s=a.selectionEnd):window.getSelection?(n=window.getSelection().getRangeAt(0),(n.commonAncestorContainer.parentNode==a||n.commonAncestorContainer==a)&&(i=n.startOffset,s=n.endOffset)):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),i=0-n.duplicate().moveStart("character",-1e5),s=i+n.text.length),{begin:B(i),end:B(s)};if(i=B(i),s=B(s),s="number"==typeof s?s:i,t(a).is(":visible")){var o=t(a).css("font-size").replace("px","")*s;if(a.scrollLeft=o>a.scrollWidth?o:0,l||0!=r.insertMode||i!=s||s++,a.setSelectionRange)a.selectionStart=i,a.selectionEnd=s;else if(window.getSelection){if(n=document.createRange(),void 0==a.firstChild){var h=document.createTextNode("");a.appendChild(h)}n.setStart(a.firstChild,i<a._valueGet().length?i:a._valueGet().length),n.setEnd(a.firstChild,s<a._valueGet().length?s:a._valueGet().length),n.collapse(!0);var u=window.getSelection();u.removeAllRanges(),u.addRange(n)}else a.createTextRange&&(n=a.createTextRange(),n.collapse(!0),n.moveEnd("character",s),n.moveStart("character",i),n.select())}}function R(e){var i,s,n=w(),r=n.length,a=p(),o={},l=c().validPositions[a],h=void 0!=l?l.locator.slice():void 0;for(i=a+1;i<n.length;i++)s=m(i,h,i-1),h=s.locator.slice(),o[i]=t.extend(!0,{},s);var u=l&&void 0!=l.alternation?l.locator[l.alternation]:void 0;for(i=r-1;i>a&&(s=o[i],(s.match.optionality||s.match.optionalQuantifier||u&&(u!=o[i].locator[l.alternation]&&null!=s.match.fn||null==s.match.fn&&s.locator[l.alternation]&&S(s.locator[l.alternation].toString().split(","),u.split(","))&&""!=_(i)[0].def))&&n[i]==O(i,s.match));i--)r--;return e?{l:r,def:o[r]?o[r].match:void 0}:r}function H(t){for(var e=R(),i=t.length-1;i>e&&!P(i);i--);return t.splice(e,i+1-e),t}function I(e){if(t.isFunction(r.isComplete))return r.isComplete.call(it,e,r);if("*"==r.repeat)return void 0;var i=!1,s=R(!0),n=z(s.l);if(p(),void 0==s.def||s.def.newBlockMarker||s.def.optionality||s.def.optionalQuantifier){i=!0;for(var a=0;n>=a;a++){var o=m(a).match;if(null!=o.fn&&void 0==c().validPositions[a]&&o.optionality!==!0&&o.optionalQuantifier!==!0||null==o.fn&&e[a]!=O(a,o)){i=!1;break}}}return i}function N(t,e){return nt?t-e>1||t-e==1&&r.insertMode:e-t>1||e-t==1&&r.insertMode}function j(e){var i=t._data(e).events,s=!1;t.each(i,function(e,i){t.each(i,function(e,i){if("inputmask"==i.namespace&&"setvalue"!=i.type){var n=i.handler;i.handler=function(e){if(!(this.disabled||this.readOnly&&!("keydown"==e.type&&e.ctrlKey&&67==e.keyCode||e.keyCode==t.inputmask.keyCode.TAB))){switch(e.type){case"input":if(at===!0||s===!0)return at=!1,e.preventDefault();break;case"keydown":rt=!1,s=!1;break;case"keypress":if(rt===!0)return e.preventDefault();rt=!0;break;case"compositionstart":s=!0;break;case"compositionupdate":at=!0;break;case"compositionend":s=!1}return n.apply(this,arguments)}e.preventDefault()}}})})}function G(e){function i(e){if(void 0==t.valHooks[e]||1!=t.valHooks[e].inputmaskpatch){var i=t.valHooks[e]&&t.valHooks[e].get?t.valHooks[e].get:function(t){return t.value},s=t.valHooks[e]&&t.valHooks[e].set?t.valHooks[e].set:function(t,e){return t.value=e,t};t.valHooks[e]={get:function(e){var s=t(e);if(s.data("_inputmask")){if(s.data("_inputmask").opts.autoUnmask)return s.inputmask("unmaskedvalue");var n=i(e),r=s.data("_inputmask"),a=r.maskset,o=a._buffer;return o=o?o.join(""):"",n!=o?n:""}return i(e)},set:function(e,i){var n,r=t(e),a=r.data("_inputmask");return n=s(e,i),a&&r.triggerHandler("setvalue.inputmask"),n},inputmaskpatch:!0}}}function s(){var e=t(this),i=t(this).data("_inputmask");return i?i.opts.autoUnmask?e.inputmask("unmaskedvalue"):a.call(this)!=x().join("")?a.call(this):"":a.call(this)}function n(e){var i=t(this).data("_inputmask");o.call(this,e),i&&t(this).triggerHandler("setvalue.inputmask")}function r(e){t(e).bind("mouseenter.inputmask",function(e){var i=t(this),s=this,n=s._valueGet();""!=n&&n!=w().join("")&&i.triggerHandler("setvalue.inputmask")});var i=t._data(e).events,s=i.mouseover;if(s){for(var n=s[s.length-1],r=s.length-1;r>0;r--)s[r]=s[r-1];s[0]=n}}var a,o;if(!e._valueGet){var l;Object.getOwnPropertyDescriptor&&void 0==e.value?(a=function(){return this.textContent},o=function(t){this.textContent=t},Object.defineProperty(e,"value",{get:s,set:n})):((l=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(e,"value"))&&l.configurable,document.__lookupGetter__&&e.__lookupGetter__("value")?(a=e.__lookupGetter__("value"),o=e.__lookupSetter__("value"),e.__defineGetter__("value",s),e.__defineSetter__("value",n)):(a=function(){return e.value},o=function(t){e.value=t},i(e.type),r(e))),e._valueGet=function(t){return nt&&t!==!0?a.call(this).split("").reverse().join(""):a.call(this)},e._valueSet=function(t){o.call(this,nt?t.split("").reverse().join(""):t)}}}function V(e,i,s,n){function a(){if(r.keepStatic){d(!0);var i,s=[],n=t.extend(!0,{},c().validPositions);for(i=p();i>=0;i--){var a=c().validPositions[i];if(a){if(void 0!=a.alternation&&a.locator[a.alternation]==m(i).locator[a.alternation])break;null!=a.match.fn&&s.push(a.input),delete c().validPositions[i]}}if(i>0)for(;s.length>0;){c().p=E(p());var o=t.Event("keypress");o.which=s.pop().charCodeAt(0),U.call(e,o,!0,!1,!1,c().p)}else c().validPositions=t.extend(!0,{},n)}}if((r.numericInput||nt)&&(i==t.inputmask.keyCode.BACKSPACE?i=t.inputmask.keyCode.DELETE:i==t.inputmask.keyCode.DELETE&&(i=t.inputmask.keyCode.BACKSPACE),nt)){var o=s.end;s.end=s.begin,s.begin=o}if(i==t.inputmask.keyCode.BACKSPACE&&(s.end-s.begin<1||0==r.insertMode)?s.begin=z(s.begin):i==t.inputmask.keyCode.DELETE&&s.begin==s.end&&(s.end=P(s.end)?s.end+1:E(s.end)+1),g(s.begin,s.end,!1,n),n!==!0){a();var l=p(s.begin);l<s.begin?(-1==l&&d(),c().p=E(l)):c().p=s.begin}}function W(i){var s=this,n=t(s),a=i.keyCode,l=D(s);a==t.inputmask.keyCode.BACKSPACE||a==t.inputmask.keyCode.DELETE||o&&127==a||i.ctrlKey&&88==a&&!e("cut")?(i.preventDefault(),88==a&&(J=w().join("")),V(s,a,l),M(s,w(),c().p,i,J!=w().join("")),s._valueGet()==x().join("")?n.trigger("cleared"):I(w())===!0&&n.trigger("complete"),r.showTooltip&&n.prop("title",c().mask)):a==t.inputmask.keyCode.END||a==t.inputmask.keyCode.PAGE_DOWN?setTimeout(function(){var t=E(p());r.insertMode||t!=F()||i.shiftKey||t--,D(s,i.shiftKey?l.begin:t,t)},0):a==t.inputmask.keyCode.HOME&&!i.shiftKey||a==t.inputmask.keyCode.PAGE_UP?D(s,0,i.shiftKey?l.begin:0):(r.undoOnEscape&&a==t.inputmask.keyCode.ESCAPE||90==a&&i.ctrlKey)&&i.altKey!==!0?(A(s,!0,!1,J.split("")),n.click()):a!=t.inputmask.keyCode.INSERT||i.shiftKey||i.ctrlKey?0!=r.insertMode||i.shiftKey||(a==t.inputmask.keyCode.RIGHT?setTimeout(function(){var t=D(s);D(s,t.begin)},0):a==t.inputmask.keyCode.LEFT&&setTimeout(function(){var t=D(s);D(s,nt?t.begin+1:t.begin-1)},0)):(r.insertMode=!r.insertMode,D(s,r.insertMode||l.begin!=F()?l.begin:l.begin-1)),r.onKeyDown.call(this,i,w(),D(s).begin,r),ot=-1!=t.inArray(a,r.ignorables)}function U(e,i,s,n,a){var o=this,l=t(o),h=e.which||e.charCode||e.keyCode;if(!(i===!0||e.ctrlKey&&e.altKey)&&(e.ctrlKey||e.metaKey||ot))return!0;if(h){46==h&&0==e.shiftKey&&","==r.radixPoint&&(h=44);var u,p=i?{begin:a,end:a}:D(o),g=String.fromCharCode(h),m=N(p.begin,p.end);m&&(c().undoPositions=t.extend(!0,{},c().validPositions),V(o,t.inputmask.keyCode.DELETE,p,!0),p.begin=c().p,r.insertMode||(r.insertMode=!r.insertMode,f(p.begin,n),r.insertMode=!r.insertMode),m=!r.multi),c().writeOutBuffer=!0;var v=nt&&!m?p.end:p.begin,y=C(v,g,n);if(y!==!1){if(y!==!0&&(v=void 0!=y.pos?y.pos:v,g=void 0!=y.c?y.c:g),d(!0),void 0!=y.caret)u=y.caret;else{var x=c().validPositions;u=!r.keepStatic&&(void 0!=x[v+1]&&_(v+1,x[v].locator.slice(),v).length>1||void 0!=x[v].alternation)?v+1:E(v)}c().p=u}if(s!==!1){var b=this;if(setTimeout(function(){r.onKeyValidation.call(b,y,r)},0),c().writeOutBuffer&&y!==!1){var S=w();M(o,S,i?void 0:r.numericInput?z(u):u,e,i!==!0),i!==!0&&setTimeout(function(){I(S)===!0&&l.trigger("complete")},0)}else m&&(c().buffer=void 0,c().validPositions=c().undoPositions)}else m&&(c().buffer=void 0,c().validPositions=c().undoPositions);if(r.showTooltip&&l.prop("title",c().mask),i&&t.isFunction(r.onBeforeWrite)){var P=r.onBeforeWrite.call(this,e,w(),u,r);if(P&&P.refreshFromBuffer){var F=P.refreshFromBuffer;k(F===!0?F:F.start,F.end,P.buffer),d(!0),P.caret&&(c().p=P.caret)}}e.preventDefault()}}function q(e){var i=this,s=t(i),n=i._valueGet(!0),a=D(i);if("propertychange"==e.type&&i._valueGet().length<=F())return!0;if("paste"==e.type){var o=n.substr(0,a.begin),l=n.substr(a.end,n.length);o==x().slice(0,a.begin).join("")&&(o=""),l==x().slice(a.end).join("")&&(l=""),window.clipboardData&&window.clipboardData.getData?n=o+window.clipboardData.getData("Text")+l:e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.getData&&(n=o+e.originalEvent.clipboardData.getData("text/plain")+l)}var h=n;if(t.isFunction(r.onBeforePaste)){if(h=r.onBeforePaste.call(i,n,r),h===!1)return e.preventDefault(),!1;h||(h=n)}return A(i,!0,!1,nt?h.split("").reverse():h.split("")),s.click(),I(w())===!0&&s.trigger("complete"),!1}function K(e){var i=this;A(i,!0,!1),I(w())===!0&&t(i).trigger("complete"),e.preventDefault()}function Q(t){var e=this;J=w().join(""),(""==et||0!=t.originalEvent.data.indexOf(et))&&(tt=D(e))}function Y(e){var i=this,s=tt||D(i);0==e.originalEvent.data.indexOf(et)&&(d(),s={begin:0,end:0});var n=e.originalEvent.data;D(i,s.begin,s.end);for(var a=0;a<n.length;a++){var o=t.Event("keypress");o.which=n.charCodeAt(a),rt=!1,ot=!1,U.call(i,o)}setTimeout(function(){var t=c().p;M(i,w(),r.numericInput?z(t):t)},0),et=e.originalEvent.data}function Z(t){}function X(e){if(it=t(e),it.data("_inputmask",{maskset:n,opts:r,isRTL:!1}),r.showTooltip&&it.prop("title",c().mask),("rtl"==e.dir||r.rightAlign)&&it.css("text-align","right"),"rtl"==e.dir||r.numericInput){e.dir="ltr",it.removeAttr("dir");var s=it.data("_inputmask");s.isRTL=!0,it.data("_inputmask",s),nt=!0}it.unbind(".inputmask"),(it.is(":input")&&i(it.attr("type"))||e.isContentEditable)&&(it.closest("form").bind("submit",function(t){J!=w().join("")&&it.change(),it[0]._valueGet&&it[0]._valueGet()==x().join("")&&it[0]._valueSet(""),r.removeMaskOnSubmit&&it.inputmask("remove")}).bind("reset",function(){setTimeout(function(){it.triggerHandler("setvalue.inputmask")},0)}),it.bind("mouseenter.inputmask",function(){var e=t(this),i=this;!e.is(":focus")&&r.showMaskOnHover&&i._valueGet()!=w().join("")&&M(i,w())}).bind("blur.inputmask",function(e){var i=t(this),s=this;if(i.data("_inputmask")){var n=s._valueGet(),a=w().slice();lt=!0,J!=a.join("")&&setTimeout(function(){i.change(),J=a.join("")},0),""!=n&&(r.clearMaskOnLostFocus&&(n==x().join("")?a=[]:H(a)),I(a)===!1&&(i.trigger("incomplete"),r.clearIncomplete&&(d(),a=r.clearMaskOnLostFocus?[]:x().slice())),M(s,a,void 0,e))}}).bind("focus.inputmask",function(e){var i=(t(this),this),s=i._valueGet();r.showMaskOnFocus&&(!r.showMaskOnHover||r.showMaskOnHover&&""==s)&&i._valueGet()!=w().join("")&&M(i,w(),E(p())),J=w().join("")}).bind("mouseleave.inputmask",function(){var e=t(this),i=this;if(r.clearMaskOnLostFocus){var s=w().slice(),n=i._valueGet();e.is(":focus")||n==e.attr("placeholder")||""==n||(n==x().join("")?s=[]:H(s),M(i,s))}}).bind("click.inputmask",function(){var e=t(this),i=this;if(e.is(":focus")){var s=D(i);if(s.begin==s.end)if(r.radixFocus&&""!=r.radixPoint&&-1!=t.inArray(r.radixPoint,w())&&(lt||w().join("")==x().join("")))D(i,t.inArray(r.radixPoint,w())),lt=!1;else{var n=B(s.begin),a=E(p(n));a>n?D(i,P(n)?n:E(n)):D(i,a)}}}).bind("dblclick.inputmask",function(){var t=this;setTimeout(function(){D(t,0,E(p()))},0)}).bind(u+".inputmask dragdrop.inputmask drop.inputmask",q).bind("cut.inputmask",function(e){at=!0;var i=this,s=t(i),n=D(i);V(i,t.inputmask.keyCode.DELETE,n),M(i,w(),c().p,e,J!=w().join("")),i._valueGet()==x().join("")&&s.trigger("cleared"),r.showTooltip&&s.prop("title",c().mask)}).bind("complete.inputmask",r.oncomplete).bind("incomplete.inputmask",r.onincomplete).bind("cleared.inputmask",r.oncleared),it.bind("keydown.inputmask",W).bind("keypress.inputmask",U),h||it.bind("compositionstart.inputmask",Q).bind("compositionupdate.inputmask",Y).bind("compositionend.inputmask",Z),"paste"===u&&it.bind("input.inputmask",K)),it.bind("setvalue.inputmask",function(){var e=this,i=e._valueGet();e._valueSet(t.isFunction(r.onBeforeMask)?r.onBeforeMask.call(e,i,r)||i:i),A(e,!0,!1),J=w().join(""),(r.clearMaskOnLostFocus||r.clearIncomplete)&&e._valueGet()==x().join("")&&e._valueSet("")}),G(e);var a=t.isFunction(r.onBeforeMask)?r.onBeforeMask.call(e,e._valueGet(),r)||e._valueGet():e._valueGet();A(e,!0,!1,a.split(""));var o=w().slice();J=o.join("");var l;try{l=document.activeElement}catch(f){}I(o)===!1&&r.clearIncomplete&&d(),r.clearMaskOnLostFocus&&(o.join("")==x().join("")?o=[]:H(o)),M(e,o),l===e&&D(e,E(p())),j(e)}var J,tt,et,it,st,nt=!1,rt=!1,at=!1,ot=!1,lt=!0;if(void 0!=s)switch(s.action){case"isComplete":return it=t(s.el),n=it.data("_inputmask").maskset,r=it.data("_inputmask").opts,I(s.buffer);case"unmaskedvalue":return it=s.$input,n=it.data("_inputmask").maskset,r=it.data("_inputmask").opts,nt=s.$input.data("_inputmask").isRTL,L(s.$input);case"mask":J=w().join(""),X(s.el);break;case"format":it=t({}),it.data("_inputmask",{maskset:n,opts:r,isRTL:r.numericInput}),r.numericInput&&(nt=!0);var ht=(t.isFunction(r.onBeforeMask)?r.onBeforeMask.call(it,s.value,r)||s.value:s.value).split("");return A(it,!1,!1,nt?ht.reverse():ht),t.isFunction(r.onBeforeWrite)&&r.onBeforeWrite.call(this,void 0,w(),0,r),s.metadata?{value:nt?w().slice().reverse().join(""):w().join(""),metadata:it.inputmask("getmetadata")}:nt?w().slice().reverse().join(""):w().join("");case"isValid":it=t({}),it.data("_inputmask",{maskset:n,opts:r,isRTL:r.numericInput}),r.numericInput&&(nt=!0);var ht=s.value.split("");A(it,!1,!0,nt?ht.reverse():ht);for(var ut=w(),ct=R(),dt=ut.length-1;dt>ct&&!P(dt);dt--);return ut.splice(ct,dt+1-ct),I(ut)&&s.value==ut.join("");case"getemptymask":return it=t(s.el),n=it.data("_inputmask").maskset,r=it.data("_inputmask").opts,x();case"remove":var pt=s.el;it=t(pt),n=it.data("_inputmask").maskset,r=it.data("_inputmask").opts,pt._valueSet(L(it)),
it.unbind(".inputmask"),it.removeData("_inputmask");var ft;Object.getOwnPropertyDescriptor&&(ft=Object.getOwnPropertyDescriptor(pt,"value")),ft&&ft.get?pt._valueGet&&Object.defineProperty(pt,"value",{get:pt._valueGet,set:pt._valueSet}):document.__lookupGetter__&&pt.__lookupGetter__("value")&&pt._valueGet&&(pt.__defineGetter__("value",pt._valueGet),pt.__defineSetter__("value",pt._valueSet));try{delete pt._valueGet,delete pt._valueSet}catch(gt){pt._valueGet=void 0,pt._valueSet=void 0}break;case"getmetadata":if(it=t(s.el),n=it.data("_inputmask").maskset,r=it.data("_inputmask").opts,t.isArray(n.metadata)){for(var mt,vt=p(),yt=vt;yt>=0;yt--)if(c().validPositions[yt]&&void 0!=c().validPositions[yt].alternation){mt=c().validPositions[yt].alternation;break}return void 0!=mt?n.metadata[c().validPositions[vt].locator[mt]]:n.metadata[0]}return n.metadata}}if(void 0===t.fn.inputmask){var a=navigator.userAgent,o=null!==a.match(new RegExp("iphone","i")),l=(null!==a.match(new RegExp("android.*safari.*","i")),null!==a.match(new RegExp("android.*chrome.*","i"))),h=null!==a.match(new RegExp("android.*firefox.*","i")),u=(/Kindle/i.test(a)||/Silk/i.test(a)||/KFTT/i.test(a)||/KFOT/i.test(a)||/KFJWA/i.test(a)||/KFJWI/i.test(a)||/KFSOWI/i.test(a)||/KFTHWA/i.test(a)||/KFTHWI/i.test(a)||/KFAPWA/i.test(a)||/KFAPWI/i.test(a),e("paste")?"paste":e("input")?"input":"propertychange");t.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:t.noop,onincomplete:t.noop,oncleared:t.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:t.noop,onBeforeMask:void 0,onBeforePaste:void 0,onBeforeWrite:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:t.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:void 0,definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0,canClearPosition:t.noop,postValidation:void 0},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},masksCache:{},escapeRegex:function(t){var e=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return t.replace(new RegExp("(\\"+e.join("|\\")+")","gim"),"\\$1")},format:function(e,i,a){var o=t.extend(!0,{},t.inputmask.defaults,i);return s(o.alias,i,o),r({action:"format",value:e,metadata:a},n(o,i&&void 0!==i.definitions),o)},isValid:function(e,i){var a=t.extend(!0,{},t.inputmask.defaults,i);return s(a.alias,i,a),r({action:"isValid",value:e},n(a,i&&void 0!==i.definitions),a)}},t.fn.inputmask=function(e,i){function a(e,i,n){var r=t(e);r.data("inputmask-alias")&&s(r.data("inputmask-alias"),t.extend(!0,{},i),i);for(var a in i){var o=r.data("inputmask-"+a.toLowerCase());void 0!=o&&(o="boolean"==typeof o?o:o.toString(),"mask"==a&&0==o.indexOf("[")?(i[a]=o.replace(/[\s[\]]/g,"").split("','"),i[a][0]=i[a][0].replace("'",""),i[a][i[a].length-1]=i[a][i[a].length-1].replace("'","")):i[a]=o,n&&(n[a]=i[a]))}return i}var o,l=t.extend(!0,{},t.inputmask.defaults,i);if("string"==typeof e)switch(e){case"mask":return s(l.alias,i,l),this.each(function(){return a(this,l),o=n(l,i&&void 0!==i.definitions),void 0==o?this:void r({action:"mask",el:this},o,l)});case"unmaskedvalue":var h=t(this);return h.data("_inputmask")?r({action:"unmaskedvalue",$input:h}):h.val();case"remove":return this.each(function(){var e=t(this);e.data("_inputmask")&&r({action:"remove",el:this})});case"getemptymask":return this.data("_inputmask")?r({action:"getemptymask",el:this}):"";case"hasMaskedValue":return this.data("_inputmask")?!this.data("_inputmask").opts.autoUnmask:!1;case"isComplete":return this.data("_inputmask")?r({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this}):!0;case"getmetadata":return this.data("_inputmask")?r({action:"getmetadata",el:this}):void 0;default:return s(l.alias,i,l),s(e,i,l)||(l.mask=e),this.each(function(){return a(this,l),o=n(l,i&&void 0!==i.definitions),void 0==o?this:void r({action:"mask",el:this},o,l)})}else{if("object"==typeof e)return l=t.extend(!0,{},t.inputmask.defaults,e),s(l.alias,e,l),this.each(function(){return a(this,l),o=n(l,e&&void 0!==e.definitions),void 0==o?this:void r({action:"mask",el:this},o,l)});if(void 0==e)return this.each(function(){var e=t(this).attr("data-inputmask");if(e&&""!=e)try{e=e.replace(new RegExp("'","g"),'"');var n=t.parseJSON("{"+e+"}");t.extend(!0,n,i),l=t.extend(!0,{},t.inputmask.defaults,n),l=a(this,l),s(l.alias,n,l),l.alias=void 0,t(this).inputmask("mask",l)}catch(r){}if(t(this).attr("data-inputmask-mask")||t(this).attr("data-inputmask-alias")){l=t.extend(!0,{},t.inputmask.defaults,{});var o={};l=a(this,l,o),s(l.alias,o,l),l.alias=void 0,t(this).inputmask("mask",l)}})}}}return t.fn.inputmask}(jQuery),function(t){return t.extend(t.inputmask.defaults.definitions,{h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),t.extend(t.inputmask.defaults.aliases,{"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(e){var i=t.inputmask.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+i+"[01])")},val2:function(e){var i=t.inputmask.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9])"+i+"(0[1-9]|1[012]))|(30"+i+"(0[13-9]|1[012]))|(31"+i+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(t,e,i){if(isNaN(t))return!1;var s=parseInt(t.concat(e.toString().slice(t.length))),n=parseInt(t.concat(i.toString().slice(t.length)));return(isNaN(s)?!1:s>=e&&i>=s)||(isNaN(n)?!1:n>=e&&i>=n)},determinebaseyear:function(t,e,i){var s=(new Date).getFullYear();if(t>s)return t;if(s>e){for(var n=e.toString().slice(0,2),r=e.toString().slice(2,4);n+i>e;)n--;var a=n+r;return t>a?t:a}return s},onKeyDown:function(e,i,s,n){var r=t(this);if(e.ctrlKey&&e.keyCode==t.inputmask.keyCode.RIGHT){var a=new Date;r.val(a.getDate().toString()+(a.getMonth()+1).toString()+a.getFullYear().toString()),r.triggerHandler("setvalue.inputmask")}},getFrontValue:function(t,e,i){for(var s=0,n=0,r=0;r<t.length&&"2"!=t.charAt(r);r++){var a=i.definitions[t.charAt(r)];a?(s+=n,n=a.cardinality):n++}return e.join("").substr(s,n)},definitions:{1:{validator:function(t,e,i,s,n){var r=n.regex.val1.test(t);return s||r||t.charAt(1)!=n.separator&&-1=="-./".indexOf(t.charAt(1))||!(r=n.regex.val1.test("0"+t.charAt(0)))?r:(e.buffer[i-1]="0",{refreshFromBuffer:{start:i-1,end:i},pos:i,c:t.charAt(0)})},cardinality:2,prevalidator:[{validator:function(t,e,i,s,n){var r=t;isNaN(e.buffer[i+1])||(r+=e.buffer[i+1]);var a=1==r.length?n.regex.val1pre.test(r):n.regex.val1.test(r);if(!s&&!a){if(a=n.regex.val1.test(t+"0"))return e.buffer[i]=t,e.buffer[++i]="0",{pos:i,c:"0"};if(a=n.regex.val1.test("0"+t))return e.buffer[i]="0",i++,{pos:i}}return a},cardinality:1}]},2:{validator:function(t,e,i,s,n){var r=n.getFrontValue(e.mask,e.buffer,n);-1!=r.indexOf(n.placeholder[0])&&(r="01"+n.separator);var a=n.regex.val2(n.separator).test(r+t);if(!s&&!a&&(t.charAt(1)==n.separator||-1!="-./".indexOf(t.charAt(1)))&&(a=n.regex.val2(n.separator).test(r+"0"+t.charAt(0))))return e.buffer[i-1]="0",{refreshFromBuffer:{start:i-1,end:i},pos:i,c:t.charAt(0)};if(n.mask.indexOf("2")==n.mask.length-1&&a){var o=e.buffer.join("").substr(4,4)+t;if(o!=n.leapday)return!0;var l=parseInt(e.buffer.join("").substr(0,4),10);return l%4===0?l%100===0?l%400===0?!0:!1:!0:!1}return a},cardinality:2,prevalidator:[{validator:function(t,e,i,s,n){isNaN(e.buffer[i+1])||(t+=e.buffer[i+1]);var r=n.getFrontValue(e.mask,e.buffer,n);-1!=r.indexOf(n.placeholder[0])&&(r="01"+n.separator);var a=1==t.length?n.regex.val2pre(n.separator).test(r+t):n.regex.val2(n.separator).test(r+t);return s||a||!(a=n.regex.val2(n.separator).test(r+"0"+t))?a:(e.buffer[i]="0",i++,{pos:i})},cardinality:1}]},y:{validator:function(t,e,i,s,n){if(n.isInYearRange(t,n.yearrange.minyear,n.yearrange.maxyear)){var r=e.buffer.join("").substr(0,6);if(r!=n.leapday)return!0;var a=parseInt(t,10);return a%4===0?a%100===0?a%400===0?!0:!1:!0:!1}return!1},cardinality:4,prevalidator:[{validator:function(t,e,i,s,n){var r=n.isInYearRange(t,n.yearrange.minyear,n.yearrange.maxyear);if(!s&&!r){var a=n.determinebaseyear(n.yearrange.minyear,n.yearrange.maxyear,t+"0").toString().slice(0,1);if(r=n.isInYearRange(a+t,n.yearrange.minyear,n.yearrange.maxyear))return e.buffer[i++]=a.charAt(0),{pos:i};if(a=n.determinebaseyear(n.yearrange.minyear,n.yearrange.maxyear,t+"0").toString().slice(0,2),r=n.isInYearRange(a+t,n.yearrange.minyear,n.yearrange.maxyear))return e.buffer[i++]=a.charAt(0),e.buffer[i++]=a.charAt(1),{pos:i}}return r},cardinality:1},{validator:function(t,e,i,s,n){var r=n.isInYearRange(t,n.yearrange.minyear,n.yearrange.maxyear);if(!s&&!r){var a=n.determinebaseyear(n.yearrange.minyear,n.yearrange.maxyear,t).toString().slice(0,2);if(r=n.isInYearRange(t[0]+a[1]+t[1],n.yearrange.minyear,n.yearrange.maxyear))return e.buffer[i++]=a.charAt(1),{pos:i};if(a=n.determinebaseyear(n.yearrange.minyear,n.yearrange.maxyear,t).toString().slice(0,2),n.isInYearRange(a+t,n.yearrange.minyear,n.yearrange.maxyear)){var o=e.buffer.join("").substr(0,6);if(o!=n.leapday)r=!0;else{var l=parseInt(t,10);r=l%4===0?l%100===0?l%400===0?!0:!1:!0:!1}}else r=!1;if(r)return e.buffer[i-1]=a.charAt(0),e.buffer[i++]=a.charAt(1),e.buffer[i++]=t.charAt(0),{refreshFromBuffer:{start:i-3,end:i},pos:i}}return r},cardinality:2},{validator:function(t,e,i,s,n){return n.isInYearRange(t,n.yearrange.minyear,n.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(e){var i=t.inputmask.escapeRegex.call(this,e);return new RegExp("((0[13-9]|1[012])"+i+"[0-3])|(02"+i+"[0-2])")},val2:function(e){var i=t.inputmask.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+i+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+i+"30)|((0[13578]|1[02])"+i+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(e,i,s,n){var r=t(this);if(e.ctrlKey&&e.keyCode==t.inputmask.keyCode.RIGHT){var a=new Date;r.val((a.getMonth()+1).toString()+a.getDate().toString()+a.getFullYear().toString()),r.triggerHandler("setvalue.inputmask")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(e,i,s,n){var r=t(this);if(e.ctrlKey&&e.keyCode==t.inputmask.keyCode.RIGHT){var a=new Date;r.val(a.getFullYear().toString()+(a.getMonth()+1).toString()+a.getDate().toString()),r.triggerHandler("setvalue.inputmask")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(t,e,i,s,n){if("24"==n.hourFormat&&24==parseInt(t,10))return e.buffer[i-1]="0",e.buffer[i]="0",{refreshFromBuffer:{start:i-1,end:i},c:"0"};var r=n.regex.hrs.test(t);if(!s&&!r&&(t.charAt(1)==n.timeseparator||-1!="-.:".indexOf(t.charAt(1)))&&(r=n.regex.hrs.test("0"+t.charAt(0))))return e.buffer[i-1]="0",e.buffer[i]=t.charAt(0),i++,{refreshFromBuffer:{start:i-2,end:i},pos:i,c:n.timeseparator};if(r&&"24"!==n.hourFormat&&n.regex.hrs24.test(t)){var a=parseInt(t,10);return 24==a?(e.buffer[i+5]="a",e.buffer[i+6]="m"):(e.buffer[i+5]="p",e.buffer[i+6]="m"),a-=12,10>a?(e.buffer[i]=a.toString(),e.buffer[i-1]="0"):(e.buffer[i]=a.toString().charAt(1),e.buffer[i-1]=a.toString().charAt(0)),{refreshFromBuffer:{start:i-1,end:i+6},c:e.buffer[i]}}return r},cardinality:2,prevalidator:[{validator:function(t,e,i,s,n){var r=n.regex.hrspre.test(t);return s||r||!(r=n.regex.hrs.test("0"+t))?r:(e.buffer[i]="0",i++,{pos:i})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(t,e,i,s,n){var r=n.regex.mspre.test(t);return s||r||!(r=n.regex.ms.test("0"+t))?r:(e.buffer[i]="0",i++,{pos:i})},cardinality:1}]},t:{validator:function(t,e,i,s,n){return n.regex.ampm.test(t+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"}}),t.fn.inputmask}(jQuery),function(t){return t.extend(t.inputmask.defaults.definitions,{A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"}}),t.extend(t.inputmask.defaults.aliases,{url:{mask:"ir",placeholder:"",separator:"",defaultPrefix:"http://",regex:{urlpre1:new RegExp("[fh]"),urlpre2:new RegExp("(ft|ht)"),urlpre3:new RegExp("(ftp|htt)"),urlpre4:new RegExp("(ftp:|http|ftps)"),urlpre5:new RegExp("(ftp:/|ftps:|http:|https)"),urlpre6:new RegExp("(ftp://|ftps:/|http:/|https:)"),urlpre7:new RegExp("(ftp://|ftps://|http://|https:/)"),urlpre8:new RegExp("(ftp://|ftps://|http://|https://)")},definitions:{i:{validator:function(t,e,i,s,n){return!0},cardinality:8,prevalidator:function(){for(var t=[],e=8,i=0;e>i;i++)t[i]=function(){var t=i;return{validator:function(e,i,s,n,r){if(r.regex["urlpre"+(t+1)]){var a,o=e;t+1-e.length>0&&(o=i.buffer.join("").substring(0,t+1-e.length)+""+o);var l=r.regex["urlpre"+(t+1)].test(o);if(!n&&!l){for(s-=t,a=0;a<r.defaultPrefix.length;a++)i.buffer[s]=r.defaultPrefix[a],s++;for(a=0;a<o.length-1;a++)i.buffer[s]=o[a],s++;return{pos:s}}return l}return!1},cardinality:t}}();return t}()},r:{validator:".",cardinality:50}},insertMode:!1,autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(t,e,i,s,n){return i-1>-1&&"."!=e.buffer[i-1]?(t=e.buffer[i-1]+t,t=i-2>-1&&"."!=e.buffer[i-2]?e.buffer[i-2]+t:"0"+t):t="00"+t,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(t)},cardinality:1}}},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,64}]@*{1,64}[.*{2,64}][.*{2,6}][.*{1,2}]",greedy:!1,onBeforePaste:function(t,e){return t=t.toLowerCase(),t.replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"}}}}),t.fn.inputmask}(jQuery),function(t){return t.extend(t.inputmask.defaults.aliases,{numeric:{mask:function(t){function e(e){for(var i="",s=0;s<e.length;s++)i+=t.definitions[e[s]]?"\\"+e[s]:e[s];return i}if(0!==t.repeat&&isNaN(t.integerDigits)&&(t.integerDigits=t.repeat),t.repeat=0,t.groupSeparator==t.radixPoint&&(t.groupSeparator="."==t.radixPoint?",":","==t.radixPoint?".":"")," "===t.groupSeparator&&(t.skipOptionalPartCharacter=void 0),t.autoGroup=t.autoGroup&&""!=t.groupSeparator,t.autoGroup&&("string"==typeof t.groupSize&&isFinite(t.groupSize)&&(t.groupSize=parseInt(t.groupSize)),isFinite(t.integerDigits))){var i=Math.floor(t.integerDigits/t.groupSize),s=t.integerDigits%t.groupSize;t.integerDigits=parseInt(t.integerDigits)+(0==s?i-1:i)}t.placeholder.length>1&&(t.placeholder=t.placeholder.charAt(0)),t.radixFocus=t.radixFocus&&"0"==t.placeholder,t.definitions[";"]=t.definitions["~"];var n=e(t.prefix);return n+="[+]",n+="~{1,"+t.integerDigits+"}",void 0!=t.digits&&(isNaN(t.digits)||parseInt(t.digits)>0)&&(n+=t.digitsOptional?"["+(t.decimalProtect?":":t.radixPoint)+";{"+t.digits+"}]":(t.decimalProtect?":":t.radixPoint)+";{"+t.digits+"}"),""!=t.negationSymbol.back&&(n+="[-]"),n+=e(t.suffix),t.greedy=!1,n},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,groupSeparator:"",radixPoint:".",radixFocus:!0,groupSize:3,autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:void 0,max:void 0,postFormat:function(e,i,s,n){var r=!1;e.length>=n.suffix.length&&e.join("").indexOf(n.suffix)==e.length-n.suffix.length&&(e.length=e.length-n.suffix.length,r=!0),i=i>=e.length?e.length-1:i<n.prefix.length?n.prefix.length:i;var a=!1,o=e[i];if(""==n.groupSeparator||-1!=t.inArray(n.radixPoint,e)&&i>=t.inArray(n.radixPoint,e)||new RegExp("["+t.inputmask.escapeRegex(n.negationSymbol.front)+"+]").test(o)){if(r)for(var l=0,h=n.suffix.length;h>l;l++)e.push(n.suffix.charAt(l));return{pos:i}}var u=e.slice();o==n.groupSeparator&&(u.splice(i--,1),o=u[i]),s?u[i]="?":u.splice(i,0,"?");var c=u.join(""),d=c;if(c.length>0&&n.autoGroup||s&&-1!=c.indexOf(n.groupSeparator)){var p=t.inputmask.escapeRegex(n.groupSeparator);a=0==c.indexOf(n.groupSeparator),c=c.replace(new RegExp(p,"g"),"");var f=c.split(n.radixPoint);if(c=""==n.radixPoint?c:f[0],c!=n.prefix+"?0"&&c.length>=n.groupSize+n.prefix.length)for(var g=new RegExp("([-+]?[\\d?]+)([\\d?]{"+n.groupSize+"})");g.test(c);)c=c.replace(g,"$1"+n.groupSeparator+"$2"),c=c.replace(n.groupSeparator+n.groupSeparator,n.groupSeparator);""!=n.radixPoint&&f.length>1&&(c+=n.radixPoint+f[1])}a=d!=c,e.length=c.length;for(var l=0,h=c.length;h>l;l++)e[l]=c.charAt(l);var m=t.inArray("?",e);if(s?e[m]=o:e.splice(m,1),!a&&r)for(var l=0,h=n.suffix.length;h>l;l++)e.push(n.suffix.charAt(l));return{pos:m,refreshFromBuffer:a,buffer:e}},onBeforeWrite:function(e,i,s,n){if(e&&"blur"==e.type){var r=i.join(""),a=r.replace(n.prefix,"");if(a=a.replace(n.suffix,""),a=a.replace(new RegExp(t.inputmask.escapeRegex(n.groupSeparator),"g"),""),","===n.radixPoint&&(a=a.replace(t.inputmask.escapeRegex(n.radixPoint),".")),isFinite(a)&&isFinite(n.min)&&parseFloat(a)<parseFloat(n.min))return t.extend(!0,{refreshFromBuffer:!0,buffer:(n.prefix+n.min).split("")},n.postFormat((n.prefix+n.min).split(""),0,!0,n));var o=""!=n.radixPoint?i.join("").split(n.radixPoint):[i.join("")],l=o[0].match(n.regex.integerPart(n)),h=2==o.length?o[1].match(n.regex.integerNPart(n)):void 0;!l||l[0]!=n.negationSymbol.front+"0"&&l[0]!=n.negationSymbol.front&&"+"!=l[0]||void 0!=h&&!h[0].match(/^0+$/)||i.splice(l.index,1);var u=t.inArray(n.radixPoint,i);if(-1!=u&&isFinite(n.digits)&&!n.digitsOptional){for(var c=1;c<=n.digits;c++)(void 0==i[u+c]||i[u+c]==n.placeholder.charAt(0))&&(i[u+c]="0");return{refreshFromBuffer:!0,buffer:i}}}if(n.autoGroup){var d=n.postFormat(i,s-1,!0,n);return d.caret=s<=n.prefix.length?d.pos:d.pos+1,d}},regex:{integerPart:function(e){return new RegExp("["+t.inputmask.escapeRegex(e.negationSymbol.front)+"+]?\\d+")},integerNPart:function(e){return new RegExp("[\\d"+t.inputmask.escapeRegex(e.groupSeparator)+"]+")}},signHandler:function(t,e,i,s,n){if(!s&&n.allowMinus&&"-"===t||n.allowPlus&&"+"===t){var r=e.buffer.join("").match(n.regex.integerPart(n));if(r&&r[0].length>0)return e.buffer[r.index]==("-"===t?"+":n.negationSymbol.front)?"-"==t?""!=n.negationSymbol.back?{pos:r.index,c:n.negationSymbol.front,remove:r.index,caret:i,insert:{pos:e.buffer.length-n.suffix.length-1,c:n.negationSymbol.back}}:{pos:r.index,c:n.negationSymbol.front,remove:r.index,caret:i}:""!=n.negationSymbol.back?{pos:r.index,c:"+",remove:[r.index,e.buffer.length-n.suffix.length-1],caret:i}:{pos:r.index,c:"+",remove:r.index,caret:i}:e.buffer[r.index]==("-"===t?n.negationSymbol.front:"+")?"-"==t&&""!=n.negationSymbol.back?{remove:[r.index,e.buffer.length-n.suffix.length-1],caret:i-1}:{remove:r.index,caret:i-1}:"-"==t?""!=n.negationSymbol.back?{pos:r.index,c:n.negationSymbol.front,caret:i+1,insert:{pos:e.buffer.length-n.suffix.length,c:n.negationSymbol.back}}:{pos:r.index,c:n.negationSymbol.front,caret:i+1}:{pos:r.index,c:t,caret:i+1}}return!1},radixHandler:function(e,i,s,n,r){if(!n&&e===r.radixPoint&&r.digits>0){var a=t.inArray(r.radixPoint,i.buffer),o=i.buffer.join("").match(r.regex.integerPart(r));if(-1!=a&&i.validPositions[a])return i.validPositions[a-1]?{caret:a+1}:{pos:o.index,c:o[0],caret:a+1};if(!o||"0"==o[0]&&o.index+1!=s)return i.buffer[o?o.index:s]="0",{pos:(o?o.index:s)+1}}return!1},leadingZeroHandler:function(e,i,s,n,r){var a=i.buffer.join("").match(r.regex.integerNPart(r)),o=t.inArray(r.radixPoint,i.buffer);if(a&&!n&&(-1==o||o>=s))if(0==a[0].indexOf("0")){s<r.prefix.length&&(s=a.index);var l=t.inArray(r.radixPoint,i._buffer),h=i._buffer&&i.buffer.slice(o).join("")==i._buffer.slice(l).join("")||0==parseInt(i.buffer.slice(o+1).join("")),u=i._buffer&&i.buffer.slice(a.index,o).join("")==i._buffer.slice(r.prefix.length,l).join("")||"0"==i.buffer.slice(a.index,o).join("");if(-1==o||h&&u)return i.buffer.splice(a.index,1),s=s>a.index?s-1:a.index,{pos:s,remove:a.index};if(a.index+1==s||"0"==e)return i.buffer.splice(a.index,1),s=a.index,{pos:s,remove:a.index}}else if("0"===e&&s<=a.index&&a[0]!=r.groupSeparator)return!1;return!0},postValidation:function(e,i){var s=!0,n=e.join(""),r=n.replace(i.prefix,"");return r=r.replace(i.suffix,""),r=r.replace(new RegExp(t.inputmask.escapeRegex(i.groupSeparator),"g"),""),","===i.radixPoint&&(r=r.replace(t.inputmask.escapeRegex(i.radixPoint),".")),r=r.replace(new RegExp("^"+t.inputmask.escapeRegex(i.negationSymbol.front)),"-"),r=r.replace(new RegExp(t.inputmask.escapeRegex(i.negationSymbol.back)+"$"),""),isFinite(r)&&isFinite(i.max)&&(s=parseFloat(r)<=parseFloat(i.max)),s},definitions:{"~":{validator:function(e,i,s,n,r){var a=r.signHandler(e,i,s,n,r);if(!a&&(a=r.radixHandler(e,i,s,n,r),!a&&(a=n?new RegExp("[0-9"+t.inputmask.escapeRegex(r.groupSeparator)+"]").test(e):new RegExp("[0-9]").test(e),a===!0&&(a=r.leadingZeroHandler(e,i,s,n,r),a===!0)))){var o=t.inArray(r.radixPoint,i.buffer);a=r.digitsOptional===!1&&s>o&&!n?{pos:s,remove:s}:{pos:s}}return a},cardinality:1,prevalidator:null},"+":{validator:function(t,e,i,s,n){var r=n.signHandler(t,e,i,s,n);return!r&&(s&&n.allowMinus&&t===n.negationSymbol.front||n.allowMinus&&"-"==t||n.allowPlus&&"+"==t)&&(r="-"==t?""!=n.negationSymbol.back?{pos:i,c:"-"===t?n.negationSymbol.front:"+",caret:i+1,insert:{pos:e.buffer.length,c:n.negationSymbol.back}}:{pos:i,c:"-"===t?n.negationSymbol.front:"+",caret:i+1}:!0),r},cardinality:1,prevalidator:null,placeholder:""},"-":{validator:function(t,e,i,s,n){var r=n.signHandler(t,e,i,s,n);return!r&&s&&n.allowMinus&&t===n.negationSymbol.back&&(r=!0),r},cardinality:1,prevalidator:null,placeholder:""},":":{validator:function(e,i,s,n,r){var a=r.signHandler(e,i,s,n,r);if(!a){var o="["+t.inputmask.escapeRegex(r.radixPoint)+"]";a=new RegExp(o).test(e),a&&i.validPositions[s]&&i.validPositions[s].match.placeholder==r.radixPoint&&(a={caret:s+1})}return a},cardinality:1,prevalidator:null,placeholder:function(t){return t.radixPoint}}},insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,onUnMask:function(e,i,s){var n=e.replace(s.prefix,"");return n=n.replace(s.suffix,""),n=n.replace(new RegExp(t.inputmask.escapeRegex(s.groupSeparator),"g"),""),s.unmaskAsNumber?(n=n.replace(t.inputmask.escapeRegex.call(this,s.radixPoint),"."),Number(n)):n},isComplete:function(e,i){var s=e.join(""),n=e.slice();if(i.postFormat(n,0,!0,i),n.join("")!=s)return!1;var r=s.replace(i.prefix,"");return r=r.replace(i.suffix,""),r=r.replace(new RegExp(t.inputmask.escapeRegex(i.groupSeparator),"g"),""),","===i.radixPoint&&(r=r.replace(t.inputmask.escapeRegex(i.radixPoint),".")),isFinite(r)},onBeforeMask:function(e,i){if(""!=i.radixPoint&&isFinite(e))e=e.toString().replace(".",i.radixPoint);else{var s=e.match(/,/g),n=e.match(/\./g);n&&s?n.length>s.length?(e=e.replace(/\./g,""),e=e.replace(",",i.radixPoint)):s.length>n.length?(e=e.replace(/,/g,""),e=e.replace(".",i.radixPoint)):e=e.indexOf(".")<e.indexOf(",")?e.replace(/\./g,""):e=e.replace(/,/g,""):e=e.replace(new RegExp(t.inputmask.escapeRegex(i.groupSeparator),"g"),"")}return 0==i.digits&&(-1!=e.indexOf(".")?e=e.substring(0,e.indexOf(".")):-1!=e.indexOf(",")&&(e=e.substring(0,e.indexOf(",")))),e},canClearPosition:function(e,i,s,n,r){var a=e.validPositions[i].input,o=a!=r.radixPoint&&isFinite(a)||i==s||a==r.groupSeparator||a==r.negationSymbol.front||a==r.negationSymbol.back;if(o&&isFinite(a)){var l;if(!n&&e.buffer){l=e.buffer.join("").substr(0,i).match(r.regex.integerNPart(r));var h=i+1,u=null==l||0==parseInt(l[0].replace(new RegExp(t.inputmask.escapeRegex(r.groupSeparator),"g"),""));if(u)for(;e.validPositions[h]&&(e.validPositions[h].input==r.groupSeparator||"0"==e.validPositions[h].input);)delete e.validPositions[h],h++}var c=[];for(var d in e.validPositions)c.push(e.validPositions[d].input);l=c.join("").match(r.regex.integerNPart(r));var p=t.inArray(r.radixPoint,e.buffer);if(l&&(-1==p||p>=i))if(0==l[0].indexOf("0"))o=l.index!=i||-1==p;else{var f=parseInt(l[0].replace(new RegExp(t.inputmask.escapeRegex(r.groupSeparator),"g"),""));-1!=p&&10>f&&"0"==r.placeholder.charAt(0)&&(e.validPositions[i].input="0",e.p=r.prefix.length+1,o=!1)}}return o}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:"0",radixPoint:""}}),t.fn.inputmask}(jQuery),function(t){return t.extend(t.inputmask.defaults.aliases,{phone:{url:"phone-codes/phone-codes.js",countrycode:"",mask:function(e){e.definitions["#"]=e.definitions[9];var i=[];return t.ajax({url:e.url,async:!1,dataType:"json",success:function(t){i=t},error:function(t,i,s){alert(s+" - "+e.url)}}),i=i.sort(function(t,e){return(t.mask||t)<(e.mask||e)?-1:1})},keepStatic:!1,nojumps:!0,nojumpsThreshold:1,onBeforeMask:function(t,e){var i=t.replace(/^0/g,"");return(i.indexOf(e.countrycode)>1||-1==i.indexOf(e.countrycode))&&(i="+"+e.countrycode+i),i}},phonebe:{alias:"phone",url:"phone-codes/phone-be.js",countrycode:"32",nojumpsThreshold:4}}),t.fn.inputmask}(jQuery),function(t){return t.extend(t.inputmask.defaults.aliases,{Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(t,e){return new RegExp(e.regex).test(t.join(""))},definitions:{r:{validator:function(e,i,s,n,r){function a(t,e){this.matches=[],this.isGroup=t||!1,this.isQuantifier=e||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function o(){var t,e,i=new a,s=[];for(r.regexTokens=[];t=r.tokenizer.exec(r.regex);)switch(e=t[0],e.charAt(0)){case"(":s.push(new a(!0));break;case")":var n=s.pop();s.length>0?s[s.length-1].matches.push(n):i.matches.push(n);break;case"{":case"+":case"*":var o=new a(!1,!0);e=e.replace(/[{}]/g,"");var l=e.split(","),h=isNaN(l[0])?l[0]:parseInt(l[0]),u=1==l.length?h:isNaN(l[1])?l[1]:parseInt(l[1]);if(o.quantifier={min:h,max:u},s.length>0){var c=s[s.length-1].matches;if(t=c.pop(),!t.isGroup){var n=new a(!0);n.matches.push(t),t=n}c.push(t),c.push(o)}else{if(t=i.matches.pop(),!t.isGroup){var n=new a(!0);n.matches.push(t),t=n}i.matches.push(t),i.matches.push(o)}break;default:s.length>0?s[s.length-1].matches.push(e):i.matches.push(e)}i.matches.length>0&&r.regexTokens.push(i)}function l(e,i){var s=!1;i&&(u+="(",d++);for(var n=0;n<e.matches.length;n++){var r=e.matches[n];if(1==r.isGroup)s=l(r,!0);else if(1==r.isQuantifier){var a=t.inArray(r,e.matches),o=e.matches[a-1],h=u;if(isNaN(r.quantifier.max)){for(;r.repeaterPart&&r.repeaterPart!=u&&r.repeaterPart.length>u.length&&!(s=l(o,!0)););s=s||l(o,!0),s&&(r.repeaterPart=u),u=h+r.quantifier.max}else{for(var c=0,f=r.quantifier.max-1;f>c&&!(s=l(o,!0));c++);u=h+"{"+r.quantifier.min+","+r.quantifier.max+"}"}}else if(void 0!=r.matches)for(var g=0;g<r.length&&!(s=l(r[g],i));g++);else{var m;if("["==r.charAt(0)){m=u,m+=r;for(var v=0;d>v;v++)m+=")";var y=new RegExp("^("+m+")$");s=y.test(p)}else for(var _=0,x=r.length;x>_;_++)if("\\"!=r.charAt(_)){m=u,m+=r.substr(0,_+1),m=m.replace(/\|$/,"");for(var v=0;d>v;v++)m+=")";var y=new RegExp("^("+m+")$");if(s=y.test(p))break}u+=r}if(s)break}return i&&(u+=")",d--),s}null==r.regexTokens&&o();var h=i.buffer.slice(),u="",c=!1,d=0;h.splice(s,0,e);for(var p=h.join(""),f=0;f<r.regexTokens.length;f++){var a=r.regexTokens[f];if(c=l(a,a.isGroup))break}return c},cardinality:1}}}}),t.fn.inputmask}(jQuery),!function(t,e,i,s){function n(e,i){this.settings=null,this.options=t.extend({},n.Defaults,i),this.$element=t(e),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},t.each(["onResize","onThrottledResize"],t.proxy(function(e,i){this._handlers[i]=t.proxy(this[i],this)},this)),t.each(n.Plugins,t.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),t.each(n.Workers,t.proxy(function(e,i){this._pipe.push({filter:i.filter,run:t.proxy(i.run,this)})},this)),this.setup(),this.initialize()}n.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:e,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},n.Width={Default:"default",Inner:"inner",Outer:"outer"},n.Type={Event:"event",State:"state"},n.Plugins={},n.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove();

}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",i=!this.settings.autoWidth,s=this.settings.rtl,n={width:"auto","margin-left":s?e:"","margin-right":s?"":e};!i&&this.$stage.children().css(n),t.css=n}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=null,s=this._items.length,n=!this.settings.autoWidth,r=[];for(t.items={merge:!1,width:e};s--;)i=this._mergers[s],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,t.items.merge=i>1||t.items.merge,r[s]=n?e*i:this._items[s].width();this._widths=r}},{filter:["items","settings"],run:function(){var e=[],i=this._items,s=this.settings,n=Math.max(2*s.items,4),r=2*Math.ceil(i.length/2),a=s.loop&&i.length?s.rewind?n:Math.max(n,r):0,o="",l="";for(a/=2;a--;)e.push(this.normalize(e.length/2,!0)),o+=i[e[e.length-1]][0].outerHTML,e.push(this.normalize(i.length-1-(e.length-1)/2,!0)),l=i[e[e.length-1]][0].outerHTML+l;this._clones=e,t(o).addClass("cloned").appendTo(this.$stage),t(l).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,i=-1,s=0,n=0,r=[];++i<e;)s=r[i-1]||0,n=this._widths[this.relative(i)]+this.settings.margin,r.push(s+n*t);this._coordinates=r}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,i={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,i=!this.settings.autoWidth,s=this.$stage.children();if(i&&t.items.merge)for(;e--;)t.css.width=this._widths[this.relative(e)],s.eq(e).css(t.css);else i&&(t.css.width=t.items.width,s.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,i,s,n=this.settings.rtl?1:-1,r=2*this.settings.stagePadding,a=this.coordinates(this.current())+r,o=a+this.width()*n,l=[];for(i=0,s=this._coordinates.length;s>i;i++)t=this._coordinates[i-1]||0,e=Math.abs(this._coordinates[i])+r*n,(this.op(t,"<=",a)&&this.op(t,">",o)||this.op(e,"<",a)&&this.op(e,">",o))&&l.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+l.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],n.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var e,i,n;e=this.$element.find("img"),i=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:s,n=this.$element.children(i).width(),e.length&&0>=n&&this.preloadAutoWidthImages(e)}this.$element.addClass(this.options.loadingClass),this.$stage=t("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},n.prototype.setup=function(){var e=this.viewport(),i=this.options.responsive,s=-1,n=null;i?(t.each(i,function(t){e>=t&&t>s&&(s=Number(t))}),n=t.extend({},this.options,i[s]),delete n.responsive,n.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+s))):n=t.extend({},this.options),(null===this.settings||this._breakpoint!==s)&&(this.trigger("change",{property:{name:"settings",value:n}}),this._breakpoint=s,this.settings=n,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}}))},n.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},n.prototype.prepare=function(e){var i=this.trigger("prepare",{content:e});return i.data||(i.data=t("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(e)),this.trigger("prepared",{content:i.data}),i.data},n.prototype.update=function(){for(var e=0,i=this._pipe.length,s=t.proxy(function(t){return this[t]},this._invalidated),n={};i>e;)(this._invalidated.all||t.grep(this._pipe[e].filter,s).length>0)&&this._pipe[e].run(n),e++;this._invalidated={},!this.is("valid")&&this.enter("valid")},n.prototype.width=function(t){switch(t=t||n.Width.Default){case n.Width.Inner:case n.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},n.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},n.prototype.onThrottledResize=function(){e.clearTimeout(this.resizeTimer),this.resizeTimer=e.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},n.prototype.onResize=function(){return this._items.length?this._width===this.$element.width()?!1:this.$element.is(":visible")?(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized"))):!1:!1},n.prototype.registerEventHandlers=function(){t.support.transition&&this.$stage.on(t.support.transition.end+".owl.core",t.proxy(this.onTransitionEnd,this)),this.settings.responsive!==!1&&this.on(e,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",t.proxy(this.onDragEnd,this)))},n.prototype.onDragStart=function(e){var s=null;3!==e.which&&(t.support.transform?(s=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),s={x:s[16===s.length?12:4],y:s[16===s.length?13:5]}):(s=this.$stage.position(),s={x:this.settings.rtl?s.left+this.$stage.width()-this.width()+this.settings.margin:s.left,y:s.top}),this.is("animating")&&(t.support.transform?this.animate(s.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===e.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=t(e.target),this._drag.stage.start=s,this._drag.stage.current=s,this._drag.pointer=this.pointer(e),t(i).on("mouseup.owl.core touchend.owl.core",t.proxy(this.onDragEnd,this)),t(i).one("mousemove.owl.core touchmove.owl.core",t.proxy(function(e){var s=this.difference(this._drag.pointer,this.pointer(e));t(i).on("mousemove.owl.core touchmove.owl.core",t.proxy(this.onDragMove,this)),Math.abs(s.x)<Math.abs(s.y)&&this.is("valid")||(e.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},n.prototype.onDragMove=function(t){var e=null,i=null,s=null,n=this.difference(this._drag.pointer,this.pointer(t)),r=this.difference(this._drag.stage.start,n);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-e,r.x=((r.x-e)%i+i)%i+e):(e=this.coordinates(this.settings.rtl?this.maximum():this.minimum()),i=this.coordinates(this.settings.rtl?this.minimum():this.maximum()),s=this.settings.pullDrag?-1*n.x/5:0,r.x=Math.max(Math.min(r.x,e+s),i+s)),this._drag.stage.current=r,this.animate(r.x))},n.prototype.onDragEnd=function(e){var s=this.difference(this._drag.pointer,this.pointer(e)),n=this._drag.stage.current,r=s.x>0^this.settings.rtl?"left":"right";t(i).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==s.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(n.x,0!==s.x?r:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=r,(Math.abs(s.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},n.prototype.closest=function(e,i){var s=-1,n=30,r=this.width(),a=this.coordinates();return this.settings.freeDrag||t.each(a,t.proxy(function(t,o){return e>o-n&&o+n>e?s=t:this.op(e,"<",o)&&this.op(e,">",a[t+1]||o-r)&&(s="left"===i?t+1:t),-1===s},this)),this.settings.loop||(this.op(e,">",a[this.minimum()])?s=e=this.minimum():this.op(e,"<",a[this.maximum()])&&(s=e=this.maximum())),s},n.prototype.animate=function(e){var i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this.trigger("translate")),t.support.transform3d&&t.support.transition?this.$stage.css({transform:"translate3d("+e+"px,0px,0px)",transition:this.speed()/1e3+"s"}):i?this.$stage.animate({left:e+"px"},this.speed(),this.settings.fallbackEasing,t.proxy(this.onTransitionEnd,this)):this.$stage.css({left:e+"px"})},n.prototype.is=function(t){return this._states.current[t]&&this._states.current[t]>0},n.prototype.current=function(t){if(t===s)return this._current;if(0===this._items.length)return s;if(t=this.normalize(t),this._current!==t){var e=this.trigger("change",{property:{name:"position",value:t}});e.data!==s&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},n.prototype.invalidate=function(e){return"string"===t.type(e)&&(this._invalidated[e]=!0,this.is("valid")&&this.leave("valid")),t.map(this._invalidated,function(t,e){return e})},n.prototype.reset=function(t){t=this.normalize(t),t!==s&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},n.prototype.normalize=function(e,i){var n=this._items.length,r=i?0:this._clones.length;return!t.isNumeric(e)||1>n?e=s:(0>e||e>=n+r)&&(e=((e-r/2)%n+n)%n+r/2),e},n.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},n.prototype.maximum=function(t){var e,i=this.settings,s=this._coordinates.length,n=Math.abs(this._coordinates[s-1])-this._width,r=-1;if(i.loop)s=this._clones.length/2+this._items.length-1;else if(i.autoWidth||i.merge)for(;s-r>1;)Math.abs(this._coordinates[e=s+r>>1])<n?r=e:s=e;else s=i.center?this._items.length-1:this._items.length-i.items;return t&&(s-=this._clones.length/2),Math.max(s,0)},n.prototype.minimum=function(t){return t?0:this._clones.length/2},n.prototype.items=function(t){return t===s?this._items.slice():(t=this.normalize(t,!0),this._items[t])},n.prototype.mergers=function(t){return t===s?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},n.prototype.clones=function(e){var i=this._clones.length/2,n=i+this._items.length,r=function(t){return t%2===0?n+t/2:i-(t+1)/2};return e===s?t.map(this._clones,function(t,e){return r(e)}):t.map(this._clones,function(t,i){return t===e?r(i):null})},n.prototype.speed=function(t){return t!==s&&(this._speed=t),this._speed},n.prototype.coordinates=function(e){var i=null;return e===s?t.map(this._coordinates,t.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(i=this._coordinates[e],i+=(this.width()-i+(this._coordinates[e-1]||0))/2*(this.settings.rtl?-1:1)):i=this._coordinates[e-1]||0,i)},n.prototype.duration=function(t,e,i){return Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(i||this.settings.smartSpeed)},n.prototype.to=function(t,e){var i=this.current(),s=null,n=t-this.relative(i),r=(n>0)-(0>n),a=this._items.length,o=this.minimum(),l=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(n)>a/2&&(n+=-1*r*a),t=i+n,s=((t-o)%a+a)%a+o,s!==t&&l>=s-n&&s-n>0&&(i=s-n,t=s,this.reset(i))):this.settings.rewind?(l+=1,t=(t%l+l)%l):t=Math.max(o,Math.min(l,t)),this.speed(this.duration(i,t,e)),this.current(t),this.$element.is(":visible")&&this.update()},n.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},n.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},n.prototype.onTransitionEnd=function(t){return t!==s&&(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)!==this.$stage.get(0))?!1:(this.leave("animating"),void this.trigger("translated"))},n.prototype.viewport=function(){var s;if(this.options.responsiveBaseElement!==e)s=t(this.options.responsiveBaseElement).width();else if(e.innerWidth)s=e.innerWidth;else{if(!i.documentElement||!i.documentElement.clientWidth)throw"Can not detect viewport width.";s=i.documentElement.clientWidth}return s},n.prototype.replace=function(e){this.$stage.empty(),this._items=[],e&&(e=e instanceof jQuery?e:t(e)),this.settings.nestedItemSelector&&(e=e.find("."+this.settings.nestedItemSelector)),e.filter(function(){return 1===this.nodeType}).each(t.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)},this)),this.reset(t.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},n.prototype.add=function(e,i){var n=this.relative(this._current);i=i===s?this._items.length:this.normalize(i,!0),e=e instanceof jQuery?e:t(e),this.trigger("add",{content:e,position:i}),e=this.prepare(e),0===this._items.length||i===this._items.length?(0===this._items.length&&this.$stage.append(e),0!==this._items.length&&this._items[i-1].after(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)):(this._items[i].before(e),this._items.splice(i,0,e),this._mergers.splice(i,0,1*e.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)),this._items[n]&&this.reset(this._items[n].index()),this.invalidate("items"),this.trigger("added",{content:e,position:i})},n.prototype.remove=function(t){t=this.normalize(t,!0),t!==s&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},n.prototype.preloadAutoWidthImages=function(e){e.each(t.proxy(function(e,i){this.enter("pre-loading"),i=t(i),t(new Image).one("load",t.proxy(function(t){i.attr("src",t.target.src),i.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",i.attr("src")||i.attr("data-src")||i.attr("data-src-retina"))},this))},n.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),t(i).off(".owl.core"),this.settings.responsive!==!1&&(e.clearTimeout(this.resizeTimer),this.off(e,"resize",this._handlers.onThrottledResize));for(var s in this._plugins)this._plugins[s].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},n.prototype.op=function(t,e,i){var s=this.settings.rtl;switch(e){case"<":return s?t>i:i>t;case">":return s?i>t:t>i;case">=":return s?i>=t:t>=i;case"<=":return s?t>=i:i>=t}},n.prototype.on=function(t,e,i,s){t.addEventListener?t.addEventListener(e,i,s):t.attachEvent&&t.attachEvent("on"+e,i)},n.prototype.off=function(t,e,i,s){t.removeEventListener?t.removeEventListener(e,i,s):t.detachEvent&&t.detachEvent("on"+e,i)},n.prototype.trigger=function(e,i,s,r,a){var o={item:{count:this._items.length,index:this.current()}},l=t.camelCase(t.grep(["on",e,s],function(t){return t}).join("-").toLowerCase()),h=t.Event([e,"owl",s||"carousel"].join(".").toLowerCase(),t.extend({relatedTarget:this},o,i));return this._supress[e]||(t.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(h)}),this.register({type:n.Type.Event,name:e}),this.$element.trigger(h),this.settings&&"function"==typeof this.settings[l]&&this.settings[l].call(this,h)),h},n.prototype.enter=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){this._states.current[e]===s&&(this._states.current[e]=0),this._states.current[e]++},this))},n.prototype.leave=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){this._states.current[e]--},this))},n.prototype.register=function(e){if(e.type===n.Type.Event){if(t.event.special[e.name]||(t.event.special[e.name]={}),!t.event.special[e.name].owl){var i=t.event.special[e.name]._default;t.event.special[e.name]._default=function(t){return!i||!i.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&t.namespace.indexOf("owl")>-1:i.apply(this,arguments)},t.event.special[e.name].owl=!0}}else e.type===n.Type.State&&(this._states.tags[e.name]=this._states.tags[e.name]?this._states.tags[e.name].concat(e.tags):e.tags,this._states.tags[e.name]=t.grep(this._states.tags[e.name],t.proxy(function(i,s){return t.inArray(i,this._states.tags[e.name])===s},this)))},n.prototype.suppress=function(e){t.each(e,t.proxy(function(t,e){this._supress[e]=!0},this))},n.prototype.release=function(e){t.each(e,t.proxy(function(t,e){delete this._supress[e]},this))},n.prototype.pointer=function(t){var i={x:null,y:null};return t=t.originalEvent||t||e.event,t=t.touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,t.pageX?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),i},n.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},t.fn.owlCarousel=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var s=t(this),r=s.data("owl.carousel");r||(r=new n(this,"object"==typeof e&&e),s.data("owl.carousel",r),t.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(e,i){r.register({type:n.Type.Event,name:i}),r.$element.on(i+".owl.carousel.core",t.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([i]),r[i].apply(this,[].slice.call(arguments,1)),this.release([i]))},r))})),"string"==typeof e&&"_"!==e.charAt(0)&&r[e].apply(r,i)})},t.fn.owlCarousel.Constructor=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={autoRefresh:!0,autoRefreshInterval:500},n.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=e.setInterval(t.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},n.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},n.prototype.destroy=function(){var t,i;e.clearInterval(this._interval);for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoRefresh=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel":t.proxy(function(e){if(e.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(e.property&&"position"==e.property.name||"initialized"==e.type))for(var i=this._core.settings,s=i.center&&Math.ceil(i.items/2)||i.items,n=i.center&&-1*s||0,r=(e.property&&e.property.value||this._core.current())+n,a=this._core.clones().length,o=t.proxy(function(t,e){this.load(e)},this);n++<s;)this.load(a/2+this._core.relative(r)),a&&t.each(this._core.clones(this._core.relative(r)),o),r++},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={lazyLoad:!1},n.prototype.load=function(i){var s=this._core.$stage.children().eq(i),n=s&&s.find(".owl-lazy");!n||t.inArray(s.get(0),this._loaded)>-1||(n.each(t.proxy(function(i,s){var n,r=t(s),a=e.devicePixelRatio>1&&r.attr("data-src-retina")||r.attr("data-src");this._core.trigger("load",{element:r,url:a},"lazy"),r.is("img")?r.one("load.owl.lazy",t.proxy(function(){r.css("opacity",1),this._core.trigger("loaded",{element:r,url:a},"lazy")},this)).attr("src",a):(n=new Image,n.onload=t.proxy(function(){r.css({"background-image":"url("+a+")",opacity:"1"}),this._core.trigger("loaded",{element:r,url:a},"lazy")},this),n.src=a)},this)),this._loaded.push(s.get(0)))},n.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Lazy=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"==t.property.name&&this.update()},this),"loaded.owl.lazy":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},n.prototype.update=function(){var e=this._core._current,i=e+this._core.settings.items,s=this._core.$stage.children().toArray().slice(e,i);heights=[],maxheight=0,t.each(s,function(e,i){heights.push(t(i).height())}),maxheight=Math.max.apply(null,heights),this._core.$stage.parent().height(maxheight).addClass(this._core.settings.autoHeightClass)},n.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoHeight=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var i=t(e.content).find(".owl-video");i.length&&(i.css("display","none"),this.fetch(i,t(e.content)))}},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",t.proxy(function(t){this.play(t)},this))};n.Defaults={video:!1,videoHeight:!1,videoWidth:!1},n.prototype.fetch=function(t,e){var i=t.attr("data-vimeo-id")?"vimeo":"youtube",s=t.attr("data-vimeo-id")||t.attr("data-youtube-id"),n=t.attr("data-width")||this._core.settings.videoWidth,r=t.attr("data-height")||this._core.settings.videoHeight,a=t.attr("href");if(!a)throw new Error("Missing video URL.");if(s=a.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),s[3].indexOf("youtu")>-1)i="youtube";else{if(!(s[3].indexOf("vimeo")>-1))throw new Error("Video URL not supported.");i="vimeo"}s=s[6],this._videos[a]={type:i,id:s,width:n,height:r},e.attr("data-video",a),this.thumbnail(t,this._videos[a])},n.prototype.thumbnail=function(e,i){var s,n,r,a=i.width&&i.height?'style="width:'+i.width+"px;height:"+i.height+'px;"':"",o=e.find("img"),l="src",h="",u=this._core.settings,c=function(t){n='<div class="owl-video-play-icon"></div>',s=u.lazyLoad?'<div class="owl-video-tn '+h+'" '+l+'="'+t+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+t+')"></div>',e.after(s),e.after(n)};return e.wrap('<div class="owl-video-wrapper"'+a+"></div>"),this._core.settings.lazyLoad&&(l="data-src",h="owl-lazy"),o.length?(c(o.attr(l)),o.remove(),!1):void("youtube"===i.type?(r="http://img.youtube.com/vi/"+i.id+"/hqdefault.jpg",c(r)):"vimeo"===i.type&&t.ajax({type:"GET",url:"http://vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){r=t[0].thumbnail_large,c(r)}}))},n.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},n.prototype.play=function(e){var i,s=t(e.target),n=s.closest("."+this._core.settings.itemClass),r=this._videos[n.attr("data-video")],a=r.width||"100%",o=r.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),n=this._core.items(this._core.relative(n.index())),this._core.reset(n.index()),"youtube"===r.type?i='<iframe width="'+a+'" height="'+o+'" src="http://www.youtube.com/embed/'+r.id+"?autoplay=1&v="+r.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===r.type&&(i='<iframe src="http://player.vimeo.com/video/'+r.id+'?autoplay=1" width="'+a+'" height="'+o+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),t('<div class="owl-video-frame">'+i+"</div>").insertAfter(n.find(".owl-video")),this._playing=n.addClass("owl-video-playing"))},n.prototype.isInFullScreen=function(){var e=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return e&&t(e).parent().hasClass("owl-video-frame")},n.prototype.destroy=function(){var t,e;this._core.$element.off("click.owl.video");for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Video=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this.core=e,this.core.options=t.extend({},n.Defaults,this.core.options),this.swapping=!0,this.previous=s,this.next=s,this.handlers={"change.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":t.proxy(function(t){t.namespace&&(this.swapping="translated"==t.type)},this),"translate.owl.carousel":t.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};n.Defaults={animateOut:!1,animateIn:!1},n.prototype.swap=function(){if(1===this.core.settings.items&&t.support.animation&&t.support.transition){this.core.speed(0);var e,i=t.proxy(this.clear,this),s=this.core.$stage.children().eq(this.previous),n=this.core.$stage.children().eq(this.next),r=this.core.settings.animateIn,a=this.core.settings.animateOut;this.core.current()!==this.previous&&(a&&(e=this.core.coordinates(this.previous)-this.core.coordinates(this.next),s.one(t.support.animation.end,i).css({left:e+"px"}).addClass("animated owl-animated-out").addClass(a)),r&&n.one(t.support.animation.end,i).addClass("animated owl-animated-in").addClass(r))}},n.prototype.clear=function(e){t(e.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},n.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Animate=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._interval=null,this._paused=!1,this._handlers={"changed.owl.carousel":t.proxy(function(t){t.namespace&&"settings"===t.property.name&&(this._core.settings.autoplay?this.play():this.stop())},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":t.proxy(function(t,e,i){t.namespace&&this.play(e,i)},this),"stop.owl.autoplay":t.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=t.extend({},n.Defaults,this._core.options)};n.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},n.prototype.play=function(s,n){this._paused=!1,this._core.is("rotating")||(this._core.enter("rotating"),this._interval=e.setInterval(t.proxy(function(){this._paused||this._core.is("busy")||this._core.is("interacting")||i.hidden||this._core.next(n||this._core.settings.autoplaySpeed)},this),s||this._core.settings.autoplayTimeout))},n.prototype.stop=function(){this._core.is("rotating")&&(e.clearInterval(this._interval),this._core.leave("rotating"))},n.prototype.pause=function(){this._core.is("rotating")&&(this._paused=!0)},n.prototype.destroy=function(){var t,e;this.stop();for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.autoplay=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){"use strict";var n=function(e){this._core=e,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":t.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+t(e.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":t.proxy(function(t){
t.namespace&&"position"==t.property.name&&this.draw()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this.$element.on(this._handlers)};n.Defaults={nav:!1,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},n.prototype.initialize=function(){var e,i=this._core.settings;this._controls.$relative=(i.navContainer?t(i.navContainer):t("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=t("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",t.proxy(function(t){this.prev(i.navSpeed)},this)),this._controls.$next=t("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",t.proxy(function(t){this.next(i.navSpeed)},this)),i.dotsData||(this._templates=[t("<div>").addClass(i.dotClass).append(t("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?t(i.dotsContainer):t("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",t.proxy(function(e){var s=t(e.target).parent().is(this._controls.$absolute)?t(e.target).index():t(e.target).parent().index();e.preventDefault(),this.to(s,i.dotsSpeed)},this));for(e in this._overrides)this._core[e]=t.proxy(this[e],this)},n.prototype.destroy=function(){var t,e,i,s;for(t in this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)this._controls[e].remove();for(s in this.overides)this._core[s]=this._overrides[s];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},n.prototype.update=function(){var t,e,i,s=this._core.clones().length/2,n=s+this._core.items().length,r=this._core.maximum(!0),a=this._core.settings,o=a.center||a.autoWidth||a.dotsData?1:a.dotsEach||a.items;if("page"!==a.slideBy&&(a.slideBy=Math.min(a.slideBy,a.items)),a.dots||"page"==a.slideBy)for(this._pages=[],t=s,e=0,i=0;n>t;t++){if(e>=o||0===e){if(this._pages.push({start:Math.min(r,t-s),end:t-s+o-1}),Math.min(r,t-s)===r)break;e=0,++i}e+=this._core.mergers(this._core.relative(t))}},n.prototype.draw=function(){var e,i=this._core.settings,s=this._core.items().length<=i.items,n=this._core.relative(this._core.current()),r=i.loop||i.rewind;this._controls.$relative.toggleClass("disabled",!i.nav||s),i.nav&&(this._controls.$previous.toggleClass("disabled",!r&&n<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!r&&n>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!i.dots||s),i.dots&&(e=this._pages.length-this._controls.$absolute.children().length,i.dotsData&&0!==e?this._controls.$absolute.html(this._templates.join("")):e>0?this._controls.$absolute.append(new Array(e+1).join(this._templates[0])):0>e&&this._controls.$absolute.children().slice(e).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(t.inArray(this.current(),this._pages)).addClass("active"))},n.prototype.onTrigger=function(e){var i=this._core.settings;e.page={index:t.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotsData?1:i.dotsEach||i.items)}},n.prototype.current=function(){var e=this._core.relative(this._core.current());return t.grep(this._pages,t.proxy(function(t,i){return t.start<=e&&t.end>=e},this)).pop()},n.prototype.getPosition=function(e){var i,s,n=this._core.settings;return"page"==n.slideBy?(i=t.inArray(this.current(),this._pages),s=this._pages.length,e?++i:--i,i=this._pages[(i%s+s)%s].start):(i=this._core.relative(this._core.current()),s=this._core.items().length,e?i+=n.slideBy:i-=n.slideBy),i},n.prototype.next=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!0),e)},n.prototype.prev=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!1),e)},n.prototype.to=function(e,i,s){var n;s?t.proxy(this._overrides.to,this._core)(e,i):(n=this._pages.length,t.proxy(this._overrides.to,this._core)(this._pages[(e%n+n)%n].start,i))},t.fn.owlCarousel.Constructor.Plugins.Navigation=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){"use strict";var n=function(i){this._core=i,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":t.proxy(function(i){i.namespace&&"URLHash"===this._core.settings.startPosition&&t(e).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var i=t(e.content).find("[data-hash]").andSelf("[data-hash]").attr("data-hash");if(!i)return;this._hashes[i]=e.content}},this),"changed.owl.carousel":t.proxy(function(i){if(i.namespace&&"position"===i.property.name){var s=this._core.items(this._core.relative(this._core.current())),n=t.map(this._hashes,function(t,e){return t===s?e:null}).join();if(!n||e.location.hash.slice(1)===n)return;e.location.hash=n}},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this.$element.on(this._handlers),t(e).on("hashchange.owl.navigation",t.proxy(function(t){var i=e.location.hash.substring(1),n=this._core.$stage.children(),r=this._hashes[i]&&n.index(this._hashes[i]);r!==s&&r!==this._core.current()&&this._core.to(this._core.relative(r),!1,!0)},this))};n.Defaults={URLhashListener:!1},n.prototype.destroy=function(){var i,s;t(e).off("hashchange.owl.navigation");for(i in this._handlers)this._core.$element.off(i,this._handlers[i]);for(s in Object.getOwnPropertyNames(this))"function"!=typeof this[s]&&(this[s]=null)},t.fn.owlCarousel.Constructor.Plugins.Hash=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){function n(e,i){var n=!1,r=e.charAt(0).toUpperCase()+e.slice(1);return t.each((e+" "+o.join(r+" ")+r).split(" "),function(t,e){return a[e]!==s?(n=i?e:!0,!1):void 0}),n}function r(t){return n(t,!0)}var a=t("<support>").get(0).style,o="Webkit Moz O ms".split(" "),l={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},h={csstransforms:function(){return!!n("transform")},csstransforms3d:function(){return!!n("perspective")},csstransitions:function(){return!!n("transition")},cssanimations:function(){return!!n("animation")}};h.csstransitions()&&(t.support.transition=new String(r("transition")),t.support.transition.end=l.transition.end[t.support.transition]),h.cssanimations()&&(t.support.animation=new String(r("animation")),t.support.animation.end=l.animation.end[t.support.animation]),h.csstransforms()&&(t.support.transform=new String(r("transform")),t.support.transform3d=h.csstransforms3d())}(window.Zepto||window.jQuery,window,document),function(){"use strict";function t(s){this.options=e.extend({},i.defaults,t.defaults,s),this.element=this.options.element,this.$element=e(this.element),this.createWrapper(),this.createWaypoint()}var e=window.jQuery,i=window.Waypoint;t.prototype.createWaypoint=function(){var t=this.options.handler;this.waypoint=new i(e.extend({},this.options,{element:this.wrapper,handler:e.proxy(function(e){{var i=this.options.direction.indexOf(e)>-1;i?this.$element.outerHeight(!0):""}this.$element.toggleClass(this.options.stuckClass,i),t&&t.call(this,e)},this)}))},t.prototype.createWrapper=function(){this.options.wrapper&&this.$element.wrap(this.options.wrapper),this.$wrapper=this.$element.parent(),this.wrapper=this.$wrapper[0]},t.prototype.destroy=function(){this.$element.parent()[0]===this.wrapper&&(this.waypoint.destroy(),this.$element.removeClass(this.options.stuckClass),this.options.wrapper&&this.$element.unwrap())},t.defaults={wrapper:'<div class="sticky-wrapper" />',stuckClass:"stuck",direction:"down right"},i.Sticky=t}(),!function(t,e){"use strict";if("object"==typeof exports)module.exports=e(require("d3"));else if("function"==typeof define&&define.amd)define(["d3"],function(i){return t.dimple=e(i),t.dimple});else if(t.d3)t.dimple=e(t.d3);else{if(!console||!console.warn)throw"dimple requires d3 to run.  Are you missing a reference to the d3 library?";console.warn("dimple requires d3 to run.  Are you missing a reference to the d3 library?")}}(this,function(t){"use strict";var e={version:"2.1.6",plot:{},aggregateMethod:{}};return e.axis=function(i,s,n,r,a,o){this.chart=i,this.position=s,this.categoryFields=null===a||void 0===a?n:[].concat(a),this.measure=r,this.timeField=a,this.floatingBarWidth=5,this.hidden=!1,this.showPercent=!1,this.colors=null,this.overrideMin=null,this.overrideMax=null,this.shapes=null,this.showGridlines=null,this.gridlineShapes=null,this.titleShape=null,this.dateParseFormat=null,this.tickFormat=null,this.timePeriod=null,this.timeInterval=1,this.useLog=!1,this.logBase=10,this.title=void 0,this.clamp=!0,this.ticks=null,this.fontSize="10px",this.fontFamily="sans-serif",this.autoRotateLabel=null===o||void 0===o?!0:o,this._slaves=[],this._scale=null,this._min=0,this._max=0,this._previousOrigin=null,this._origin=null,this._orderRules=[],this._groupOrderRules=[],this._draw=null,this._getAxisData=function(){var t,e,i=[],s=!1;if(this.chart&&this.chart.series){for(t=0;t<this.chart.series.length;t+=1)e=this.chart.series[t],e[this.position]===this&&(e.data&&e.data.length>0?i=i.concat(e.data):s=!0);s&&this.chart.data&&(i=i.concat(this.chart.data))}return i},this._getFontSize=function(){var t;return t=this.fontSize&&"auto"!==this.fontSize.toString().toLowerCase()?isNaN(this.fontSize)?this.fontSize:this.fontSize+"px":(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px"},this._getFormat=function(){var e,i,s,n,r,a,o;return null!==this.tickFormat&&void 0!==this.tickFormat?e=this._hasTimeField()?t.time.format(this.tickFormat):t.format(this.tickFormat):this.showPercent?e=t.format("%"):this.useLog&&null!==this.measure?e=function(e){var i=Math.floor(Math.abs(e),0).toString().length,s=Math.min(Math.floor((i-1)/3),4),n="kmBT".substring(s-1,s),r="0"===Math.round(e/Math.pow(1e3,s)*10).toString().slice(-1)?0:1;return 0===e?0:t.format(",."+r+"f")(e/Math.pow(1e3,s))+n}:null!==this.measure?(i=Math.floor(Math.abs(this._max),0).toString(),s=Math.floor(Math.abs(this._min),0).toString(),n=Math.max(s.length,i.length),n>3?(r=Math.min(Math.floor((n-1)/3),4),a="kmBT".substring(r-1,r),o=1>=n-3*r?1:0,e=function(e){return 0===e?0:t.format(",."+o+"f")(e/Math.pow(1e3,r))+a}):(o=-Math.floor(Math.log(this._tick_step)/Math.LN10),e=t.format(",."+o+"f"))):e=function(t){return t},e},this._getTimePeriod=function(){var e=this.timePeriod,i=30,s=this._max-this._min;return this._hasTimeField()&&!this.timePeriod&&(e=i>=s/1e3?t.time.seconds:i>=s/6e4?t.time.minutes:i>=s/36e5?t.time.hours:i>=s/864e5?t.time.days:i>=s/6048e5?t.time.weeks:i>=s/26298e5?t.time.months:t.time.years),e},this._getTooltipText=function(e,i){if(this._hasTimeField())i[this.position+"Field"][0]&&e.push(this.timeField+": "+this._getFormat()(i[this.position+"Field"][0]));else if(this._hasCategories())this.categoryFields.forEach(function(t,s){null!==t&&void 0!==t&&i[this.position+"Field"][s]&&e.push(t+(i[this.position+"Field"][s]!==t?": "+i[this.position+"Field"][s]:""))},this);else if(this._hasMeasure())switch(this.position){case"x":e.push(this.measure+": "+this._getFormat()(i.width));break;case"y":e.push(this.measure+": "+this._getFormat()(i.height));break;case"p":e.push(this.measure+": "+this._getFormat()(i.angle)+" ("+t.format("%")(i.piePct)+")");break;default:e.push(this.measure+": "+this._getFormat()(i[this.position+"Value"]))}},this._getTopMaster=function(){var t=this;return null!==this.master&&void 0!==this.master&&(t=this.master._getTopMaster()),t},this._hasCategories=function(){return null!==this.categoryFields&&void 0!==this.categoryFields&&this.categoryFields.length>0},this._hasMeasure=function(){return null!==this.measure&&void 0!==this.measure},this._hasTimeField=function(){return null!==this.timeField&&void 0!==this.timeField},this._parseDate=function(e){var i;return i=null===this.dateParseFormat||void 0===this.dateParseFormat?isNaN(e)?Date.parse(e):new Date(e):t.time.format(this.dateParseFormat).parse(e)},this._update=function(i){var s,n,r,a,o=[],l=this.ticks||10,h=function(t,i,s){var n,r,a=t.categoryFields[0],o=t._getAxisData(),l=a,h=!1,u=!0,c=null;for(n=0;n<o.length;n+=1)if(c=t._parseDate(o[n][a]),null!==c&&void 0!==c&&isNaN(c)){u=!1;break}return u||t.chart.series.forEach(function(e){e[i]===t&&e[s]._hasMeasure()&&(l=e[s].measure,h=!0)},this),r=t._orderRules.concat({ordering:l,desc:h}),e._getOrderedList(o,a,r)};if(this._min=this.showPercent&&this._min<-1?-1:this._min,this._max=this.showPercent&&this._max>1?1:this._max,this._min=null!==this.overrideMin?this.overrideMin:this._min,this._max=null!==this.overrideMax?this.overrideMax:this._max,"x"!==this.position||null!==this._scale&&!i){if("y"!==this.position||null!==this._scale&&!i)this.position.length>0&&"z"===this.position[0]&&null===this._scale?this._scale=this.useLog?t.scale.log().range([this.chart._heightPixels()/300,this.chart._heightPixels()/10]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase):t.scale.linear().range([1,this.chart._heightPixels()/10]).domain([this._min,this._max]).clamp(this.clamp):this.position.length>0&&"p"===this.position[0]&&null===this._scale?this._scale=this.useLog?t.scale.log().range([0,360]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase):t.scale.linear().range([0,360]).domain([this._min,this._max]).clamp(this.clamp):this.position.length>0&&"c"===this.position[0]&&null===this._scale&&(this._scale=t.scale.linear().range([0,null===this.colors||1===this.colors.length?1:this.colors.length-1]).domain([this._min,this._max]).clamp(this.clamp));else if(this._hasTimeField()?this._scale=t.time.scale().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min,this._max]).clamp(this.clamp):this.useLog?this._scale=t.scale.log().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase).nice():null===this.measure||void 0===this.measure?(o=h(this,"y","x"),null!==this._slaves&&void 0!==this._slaves&&this._slaves.forEach(function(t){o=o.concat(h(t,"y","x"))},this),this._scale=t.scale.ordinal().rangePoints([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain(o.concat([""]))):this._scale=t.scale.linear().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min,this._max]).clamp(this.clamp).nice(),!this.hidden)switch(this.chart._axisIndex(this,"y")){case 0:this._draw=t.svg.axis().orient("left").scale(this._scale),this.ticks&&this._draw.ticks(l);break;case 1:this._draw=t.svg.axis().orient("right").scale(this._scale),this.ticks&&this._draw.ticks(l)}}else if(this._hasTimeField()?this._scale=t.time.scale().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min,this._max]).clamp(this.clamp):this.useLog?this._scale=t.scale.log().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase).nice():null===this.measure||void 0===this.measure?(o=h(this,"x","y"),null!==this._slaves&&void 0!==this._slaves&&this._slaves.forEach(function(t){o=o.concat(h(t,"x","y"))},this),this._scale=t.scale.ordinal().rangePoints([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain(o.concat([""]))):this._scale=t.scale.linear().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min,this._max]).clamp(this.clamp).nice(),!this.hidden)switch(this.chart._axisIndex(this,"x")){case 0:this._draw=t.svg.axis().orient("bottom").scale(this._scale),this.ticks&&this._draw.ticks(l);break;case 1:this._draw=t.svg.axis().orient("top").scale(this._scale),this.ticks&&this._draw.ticks(l)}return null!==this._slaves&&void 0!==this._slaves&&this._slaves.length>0&&this._slaves.forEach(function(t){t._scale=this._scale},this),null!==i&&void 0!==i&&i!==!1||this._hasTimeField()||null===this._scale||null===this._scale.ticks||void 0===this._scale.ticks||!(this._scale.ticks(l).length>0)||"x"!==this.position&&"y"!==this.position||(s=this._scale.ticks(l),n=s[1]-s[0],r=((this._max-this._min)%n).toFixed(0),this._tick_step=n,0!==r&&(this._max=Math.ceil(this._max/n)*n,this._min=Math.floor(this._min/n)*n,this._update(!0))),a=this._scale.copy()(null!==o&&void 0!==o&&o.length>0?o[0]:this._min>0?this._min:this._max<0?this._max:0),this._origin!==a&&(this._previousOrigin=null===this._origin?a:this._origin,this._origin=a),this},this.addGroupOrderRule=function(t,e){this._groupOrderRules.push({ordering:t,desc:e})},this.addOrderRule=function(t,e){this._orderRules.push({ordering:t,desc:e})}},e.chart=function(i,s){this.svg=i,this.x="10%",this.y="10%",this.width="80%",this.height="80%",this.data=s,this.noFormats=!1,this.axes=[],this.series=[],this.legends=[],this.storyboard=null,this.titleShape=null,this.shapes=null,this.ease="cubic-in-out",this.staggerDraw=!1,this._group=i.append("g"),this._tooltipGroup=null,this._assignedColors={},this._assignedClasses={},this._nextColor=0,this._nextClass=0,this._axisIndex=function(t,e){var i=0,s=0,n=-1;for(i=0;i<this.axes.length;i+=1){if(this.axes[i]===t){n=s;break}(null===e||void 0===e||e[0]===this.axes[i].position[0])&&(s+=1)}return n},this._getAllData=function(){var t=[];return null!==this.data&&void 0!==this.data&&this.data.length>0&&(t=t.concat(this.data)),null!==this.series&&void 0!==this.series&&this.series.length>0&&this.series.forEach(function(e){null!==e.data&&void 0!==e.data&&e.data.length>0&&(t=t.concat(e.data))}),t},this._getData=function(i,s,n,r,a,o,l,h,u,c){var d,p,f=[],g=function(t,e){var i=[];return null!==t&&(t._hasTimeField()?i.push(t._parseDate(e[t.timeField])):t._hasCategories()&&t.categoryFields.forEach(function(t){i.push(e[t])},this)),i},m={x:!1,y:!1,z:!1,p:!1,c:!1},v={x:[],y:[]},y={x:[],y:[],z:[],p:[]},_={min:null,max:null},x={x:[],y:[],z:[],p:[]},w=[],k={},b={x:0,y:0,z:0,p:0},S="",C=[],P=[],F=[],E="",z=[],T="",M=[],O="",A=[],$=[],L=i,B=[];this.storyboard&&this.storyboard.categoryFields.length>0&&(S=this.storyboard.categoryFields[0],C=e._getOrderedList(L,S,this.storyboard._orderRules)),o&&o._hasCategories()&&o._hasMeasure()&&(E=o.categoryFields[0],z=e._getOrderedList(L,E,o._orderRules.concat([{ordering:o.measure,desc:!0}]))),l&&l._hasCategories()&&l._hasMeasure()&&(T=l.categoryFields[0],M=e._getOrderedList(L,T,l._orderRules.concat([{ordering:l.measure,desc:!0}]))),u&&u._hasCategories()&&u._hasMeasure()&&(O=u.categoryFields[0],A=e._getOrderedList(L,O,u._orderRules.concat([{ordering:u.measure,desc:!0}]))),L.length>0&&s&&s.length>0&&($=[].concat(r),P=[],s.forEach(function(t){void 0!==L[0][t]&&P.push(t)},this),u&&u._hasMeasure()?$.push({ordering:u.measure,desc:!0}):c&&c._hasMeasure()?$.push({ordering:c.measure,desc:!0}):h&&h._hasMeasure()?$.push({ordering:h.measure,desc:!0}):o&&o._hasMeasure()?$.push({ordering:o.measure,desc:!0}):l&&l._hasMeasure()&&$.push({ordering:l.measure,desc:!0}),F=e._getOrderedList(L,P,$)),L.sort(function(t,e){var i,s,n,r,a,o,l=0;if(""!==S&&(l=C.indexOf(t[S])-C.indexOf(e[S])),""!==E&&0===l&&(l=z.indexOf(t[E])-z.indexOf(e[E])),""!==T&&0===l&&(l=M.indexOf(t[T])-M.indexOf(e[T])),""!==O&&0===l&&(l=A.indexOf(t[O])-M.indexOf(e[O])),P&&P.length>0&&0===l)for(i=[].concat(P),l=0,n=0;n<F.length;n+=1){for(s=[].concat(F[n]),a=!0,o=!0,r=0;r<i.length;r+=1)a=a&&t[i[r]]===s[r],o=o&&e[i[r]]===s[r];if(a&&o){l=0;break}if(a){l=-1;break}if(o){l=1;break}}return l}),L.forEach(function(t){var e,i,r,a,d,p=-1,v=g(o,t),y=g(l,t),_=g(h,t),x=g(u,t),w=[];if(s&&0!==s.length)for(r=0;r<s.length;r+=1)w.push(void 0===t[s[r]]?s[r]:t[s[r]]);else w=["All"];for(e=w.join("/")+"_"+v.join("/")+"_"+y.join("/")+"_"+x.join("/")+"_"+_.join("/"),i=0;i<f.length;i+=1)if(f[i].key===e){p=i;break}-1===p&&(a={key:e,aggField:w,xField:v,xValue:null,xCount:0,yField:y,yValue:null,yCount:0,pField:x,pValue:null,pCount:0,zField:_,zValue:null,zCount:0,cValue:0,cCount:0,x:0,y:0,xOffset:0,yOffset:0,width:0,height:0,cx:0,cy:0,xBound:0,yBound:0,xValueList:[],yValueList:[],zValueList:[],pValueList:[],cValueList:[],fill:{},stroke:{}},f.push(a),p=f.length-1),d=function(e,i){var s,r,a=!0,o={value:0,count:1},l={value:0,count:1},h="";null!==i&&(s=i.getFrameValue(),i.categoryFields.forEach(function(e,i){i>0&&(h+="/"),h+=t[e],a=h===s},this)),null!==e&&void 0!==e&&a&&(r=f[p],e._hasMeasure()&&null!==t[e.measure]&&void 0!==t[e.measure]&&(-1===r[e.position+"ValueList"].indexOf(t[e.measure])&&r[e.position+"ValueList"].push(t[e.measure]),isNaN(parseFloat(t[e.measure]))&&(m[e.position]=!0),o.value=r[e.position+"Value"],o.count=r[e.position+"Count"],l.value=t[e.measure],r[e.position+"Value"]=n(o,l),r[e.position+"Count"]+=1))},d(o,this.storyboard),d(l,this.storyboard),d(h,this.storyboard),d(u,this.storyboard),d(c,this.storyboard)},this),o&&o._hasCategories()&&o.categoryFields.length>1&&void 0!==v.x&&(B=[],l._hasMeasure()&&B.push({ordering:l.measure,desc:!0}),v.x=e._getOrderedList(L,o.categoryFields[1],o._groupOrderRules.concat(B))),l&&l._hasCategories()&&l.categoryFields.length>1&&void 0!==v.y&&(B=[],o._hasMeasure()&&B.push({ordering:o.measure,desc:!0}),v.y=e._getOrderedList(L,l.categoryFields[1],l._groupOrderRules.concat(B)),v.y.reverse()),f.forEach(function(t){null!==o&&(m.x===!0&&(t.xValue=t.xValueList.length),d=(y.x[t.xField.join("/")]||0)+(l._hasMeasure()?Math.abs(t.yValue):0),y.x[t.xField.join("/")]=d),null!==l&&(m.y===!0&&(t.yValue=t.yValueList.length),d=(y.y[t.yField.join("/")]||0)+(o._hasMeasure()?Math.abs(t.xValue):0),y.y[t.yField.join("/")]=d),null!==u&&(m.p===!0&&(t.pValue=t.pValueList.length),d=(y.p[t.pField.join("/")]||0)+(u._hasMeasure()?Math.abs(t.pValue):0),y.p[t.pField.join("/")]=d),null!==h&&(m.z===!0&&(t.zValue=t.zValueList.length),d=(y.z[t.zField.join("/")]||0)+(h._hasMeasure()?Math.abs(t.zValue):0),y.z[t.zField.join("/")]=d),null!==c&&((null===_.min||t.cValue<_.min)&&(_.min=t.cValue),(null===_.max||t.cValue>_.max)&&(_.max=t.cValue))},this);for(p in y.x)y.x.hasOwnProperty(p)&&(b.x+=y.x[p]);for(p in y.y)y.y.hasOwnProperty(p)&&(b.y+=y.y[p]);for(p in y.p)y.p.hasOwnProperty(p)&&(b.p+=y.p[p]);for(p in y.z)y.z.hasOwnProperty(p)&&(b.z+=y.z[p]);return f.forEach(function(e){var i,s,n,r,d,p=function(t,i,s){var n,r,o,l,h;null!==t&&void 0!==t&&(l=t.position,t._hasCategories()?t._hasMeasure()?(n=e[t.position+"Field"].join("/"),r=t.showPercent?y[t.position][n]/b[t.position]:y[t.position][n],-1===w.indexOf(n)&&(k[n]=r+(w.length>0?k[w[w.length-1]]:0),w.push(n)),o=e[l+"Bound"]=e["c"+l]="x"!==l&&"y"!==l||!a?r:k[n],e[s]=r,e[l]=o-("x"===l&&r>=0||"y"===l&&0>=r?r:0)):(e[l]=e["c"+l]=e[l+"Field"][0],e[s]=1,void 0!==v[l]&&null!==v[l]&&v[l].length>=2&&(e[l+"Offset"]=v[l].indexOf(e[l+"Field"][1]),e[s]=1/v[l].length)):(r=t.showPercent?e[l+"Value"]/y[i][e[i+"Field"].join("/")]:e[l+"Value"],n=e[i+"Field"].join("/")+(e[l+"Value"]>=0),h=x[l][n]=(null===x[l][n]||void 0===x[l][n]||"z"===l||"p"===l?0:x[l][n])+r,o=e[l+"Bound"]=e["c"+l]="x"!==l&&"y"!==l||!a?r:h,e[s]=r,e[l]=o-("x"===l&&r>=0||"y"===l&&0>=r?r:0)))};p(o,"y","width"),p(l,"x","height"),p(h,"z","r"),p(u,"p","angle"),null!==c&&null!==_.min&&null!==_.max&&(_.min===_.max&&(_.min-=.5,_.max+=.5),_.min=c.overrideMin||_.min,_.max=c.overrideMax||_.max,e.cValue=e.cValue>_.max?_.max:e.cValue<_.min?_.min:e.cValue,n=t.scale.linear().range([0,null===c.colors||1===c.colors.length?1:c.colors.length-1]).domain([_.min,_.max]),r=n(e.cValue),d=r-Math.floor(r),e.cValue===_.max&&(d=1),c.colors&&1===c.colors.length?(i=t.rgb(c.colors[0]),s=t.rgb(this.getColor(e.aggField.slice(-1)[0]).fill)):c.colors&&c.colors.length>1?(i=t.rgb(c.colors[Math.floor(r)]),s=t.rgb(c.colors[Math.ceil(r)])):(i=t.rgb("white"),s=t.rgb(this.getColor(e.aggField.slice(-1)[0]).fill)),i.r=Math.floor(i.r+(s.r-i.r)*d),i.g=Math.floor(i.g+(s.g-i.g)*d),i.b=Math.floor(i.b+(s.b-i.b)*d),e.fill=i.toString(),e.stroke=i.darker(.5).toString())},this),f},this._getDelay=function(t,i,s){return function(n){var r=0;return s&&i.staggerDraw&&(s.x._hasCategories()?r=e._helpers.cx(n,i,s)/i._widthPixels()*t:s.y._hasCategories()&&(r=(1-e._helpers.cy(n,i,s)/i._heightPixels())*t)),r}},this._getSeriesData=function(){null!==this.series&&void 0!==this.series&&this.series.forEach(function(t){var e,i,s,n,r,a,o=t.data||this.data||[],l=[].concat(t.categoryFields||"All"),h=this._getData(o,l,t.aggregate,t._orderRules,t._isStacked(),t.x,t.y,t.z,t.p,t.c),u=[],c={},d=t.startAngle*(Math.PI/180)||0,p=(t.endAngle||360)*(Math.PI/180);if(d>p&&(d-=2*Math.PI),t.p&&l.length>0){if(t.x&&t.y){for(l.pop(),u=this._getData(o,["__dimple_placeholder__"].concat(l),t.aggregate,t._orderRules,t._isStacked(),t.x,t.y,t.z,t.p,t.c),e=0;e<h.length;e+=1)for(s=["__dimple_placeholder__"].concat(h[e].aggField),s.pop(),t.x&&t.x._hasCategories()&&(s=s.concat(h[e].xField)),t.y&&t.y._hasCategories()&&(s=s.concat(h[e].yField)),n=s.join("|"),i=0;i<u.length;i+=1)if(r=[].concat(u[i].aggField),t.x&&t.x._hasCategories()&&(r=r.concat(u[i].xField)),t.y&&t.y._hasCategories()&&(r=r.concat(u[i].yField)),a=r.join("|"),n===a){h[e].xField=u[i].xField,h[e].xValue=u[i].xValue,h[e].xCount=u[i].xCount,h[e].yField=u[i].yField,h[e].yValue=u[i].yValue,h[e].yCount=u[i].yCount,h[e].zField=u[i].zField,h[e].zValue=u[i].zValue,h[e].zCount=u[i].zCount,h[e].x=u[i].x,h[e].y=u[i].y,h[e].r=u[i].r,h[e].xOffset=u[i].xOffset,h[e].yOffset=u[i].yOffset,h[e].width=u[i].width,h[e].height=u[i].height,h[e].cx=u[i].cx,h[e].cy=u[i].cy,h[e].xBound=u[i].xBound,h[e].yBound=u[i].yBound,h[e].xValueList=u[i].xValueList,h[e].yValueList=u[i].yValueList,h[e].zValueList=u[i].zValueList,h[e].cValueList=u[i].cValueList,h[e].pieKey=u[i].key,h[e].value=h.pValue,c[u[i].key]||(c[u[i].key]={total:0,angle:d}),c[u[i].key].total+=h[e].pValue;break}}else for(e=0;e<h.length;e+=1)h[e].pieKey="All",h[e].value=h.pValue,c[h[e].pieKey]||(c[h[e].pieKey]={total:0,angle:d}),c[h[e].pieKey].total+=h[e].pValue;for(e=0;e<h.length;e+=1)h[e].piePct=h[e].pValue/c[h[e].pieKey].total,h[e].startAngle=c[h[e].pieKey].angle,h[e].endAngle=h[e].startAngle+h[e].piePct*(p-d),c[h[e].pieKey].angle=h[e].endAngle}t._positionData=h},this)},this._handleTransition=function(t,e,i,s){var n=null;return n=0===e?t:t.transition().duration(e).delay(i._getDelay(e,i,s)).ease(i.ease)},this._heightPixels=function(){return e._parseYPosition(this.height,this.svg.node())},this._registerEventHandlers=function(i){null!==i._eventHandlers&&i._eventHandlers.length>0&&i._eventHandlers.forEach(function(s){var n,r=function(n){var r=new e.eventArgs;null!==i.chart.storyboard&&(r.frameValue=i.chart.storyboard.getFrameValue()),r.seriesValue=n.aggField,r.xValue=n.x,r.yValue=n.y,r.zValue=n.z,r.pValue=n.p,r.colorValue=n.cValue,r.seriesShapes=i.shapes,r.selectedShape=t.select(this),s.handler(r)};if(null!==s.handler&&"function"==typeof s.handler)if(null!==i._markers&&void 0!==i._markers)for(n in i._markers)i._markers.hasOwnProperty(n)&&i._markers[n].on(s.event,r);else i.shapes.on(s.event,r)},this)},this._widthPixels=function(){return e._parseXPosition(this.width,this.svg.node())},this._xPixels=function(){return e._parseXPosition(this.x,this.svg.node())},this._yPixels=function(){return e._parseYPosition(this.y,this.svg.node())},this.addAxis=function(t,i,s,n){var r=null,a=null;if(null!==i&&void 0!==i&&(i=[].concat(i)),"string"==typeof t||t instanceof String)r=new e.axis(this,t,i,s,n),this.axes.push(r);else{if(a=t,r=new e.axis(this,a.position,i,s,n),r._hasMeasure()!==a._hasMeasure())throw"You have specified a composite axis where some but not all axes have a measure - this is not supported, all axes must be of the same type.";if(r._hasTimeField()!==a._hasTimeField())throw"You have specified a composite axis where some but not all axes have a time field - this is not supported, all axes must be of the same type.";if((null===r.categoryFields||void 0===r.categoryFields?0:r.categoryFields.length)!==(null===a.categoryFields||void 0===a.categoryFields?0:a.categoryFields.length))throw"You have specified a composite axis where axes have differing numbers of category fields - this is not supported, all axes must be of the same type.";a._slaves.push(r)}return r},this.addCategoryAxis=function(t,e){return this.addAxis(t,e,null)},this.addColorAxis=function(t,e){var i=this.addAxis("c",null,t);return i.colors=null===e||void 0===e?null:[].concat(e),i},this.addLegend=function(t,i,s,n,r,a){a=null===a||void 0===a?this.series:[].concat(a),r=null===r||void 0===r?"left":r;var o=new e.legend(this,t,i,s,n,r,a);return this.legends.push(o),o},this.addLogAxis=function(t,e,i){var s=this.addAxis(t,null,e,null);return null!==i&&void 0!==i&&(s.logBase=i),s.useLog=!0,s},this.addMeasureAxis=function(t,e){return this.addAxis(t,null,e)},this.addPctAxis=function(t,e,i){var s=null;return s=null!==i&&void 0!==i?this.addAxis(t,i,e):this.addMeasureAxis(t,e),s.showPercent=!0,s},this.addSeries=function(t,i,s){(null===s||void 0===s)&&(s=this.axes),(null===i||void 0===i)&&(i=e.plot.bubble);var n,r=null,a=null,o=null,l=null,h=null;return s.forEach(function(t){null!==t&&i.supportedAxes.indexOf(t.position)>-1&&(null===r&&"x"===t.position[0]?r=t:null===a&&"y"===t.position[0]?a=t:null===o&&"z"===t.position[0]?o=t:null===l&&"c"===t.position[0]?l=t:null===l&&"p"===t.position[0]&&(h=t))},this),t&&(t=[].concat(t)),n=new e.series(this,t,r,a,o,l,h,i,e.aggregateMethod.sum,i.stacked),this.series.push(n),n},this.addTimeAxis=function(t,e,i,s){var n=this.addAxis(t,null,null,e);return n.tickFormat=s,n.dateParseFormat=i,n},this.assignClass=function(t,e){return this._assignedClasses[t]=e,this._assignedClasses[t]},this.assignColor=function(t,i,s,n){return this._assignedColors[t]=new e.color(i,s,n),this._assignedColors[t]},this.customClassList={axisLine:"dimple-custom-axis-line",axisLabel:"dimple-custom-axis-label",axisTitle:"dimple-custom-axis-title",tooltipBox:"dimple-custom-tooltip-box",tooltipLabel:"dimple-custom-tooltip-label",tooltipDropLine:"dimple-custom-tooltip-dropline",lineMarker:"dimple-custom-line-marker",legendLabel:"dimple-custom-legend-label",legendKey:"dimple-custom-legend-key",areaSeries:"dimple-custom-series-area",barSeries:"dimple-custom-series-bar",bubbleSeries:"dimple-custom-series-bubble",lineSeries:"dimple-custom-series-line",pieSeries:"dimple-custom-series-pie",gridline:"dimple-custom-gridline",colorClasses:["dimple-custom-format-1","dimple-custom-format-2","dimple-custom-format-3","dimple-custom-format-4","dimple-custom-format-5","dimple-custom-format-6","dimple-custom-format-7","dimple-custom-format-8","dimple-custom-format-9","dimple-custom-format-10"]},this.defaultColors=[new e.color("#80B1D3"),new e.color("#FB8072"),new e.color("#FDB462"),new e.color("#B3DE69"),new e.color("#FFED6F"),new e.color("#BC80BD"),new e.color("#8DD3C7"),new e.color("#CCEBC5"),new e.color("#FFFFB3"),new e.color("#BEBADA"),new e.color("#FCCDE5"),new e.color("#D9D9D9")],this.draw=function(e,i){e=e||0;var s,n,r=null,a=null,o=!1,l=!1,h=this._xPixels(),u=this._yPixels(),c=this._widthPixels(),d=this._heightPixels();

return(void 0===i||null===i||i===!1)&&this._getSeriesData(),this.axes.forEach(function(t){t._scale=null},this),this.axes.forEach(function(t){if(t._min=0,t._max=0,n=[],t._hasMeasure()){var e=!1;this.series.forEach(function(i){if(i._deepMatch(t)){var s=i._axisBounds(t.position);t._min>s.min&&(t._min=s.min),t._max<s.max&&(t._max=s.max),e=!0}},this),e||this._getAllData().forEach(function(e){t._min>e[t.measure]&&(t._min=e[t.measure]),t._max<e[t.measure]&&(t._max=e[t.measure])},this)}else t._hasTimeField()?(t._min=null,t._max=null,this.series.forEach(function(e){e._deepMatch(t)&&null!==e[t.position].timeField&&void 0!==e[t.position].timeField&&-1===n.indexOf(e[t.position].timeField)&&n.push(e[t.position].timeField)},this),t._getAxisData().forEach(function(e){n.forEach(function(i){var s=t._parseDate(e[i]);(null===t._min||s<t._min)&&(t._min=s),(null===t._max||s>t._max)&&(t._max=s)},this)},this)):t._hasCategories()&&(t._min=0,s=[],this.series.forEach(function(e){e._deepMatch(t)&&null!==e[t.position].categoryFields[0]&&void 0!==e[t.position].categoryFields[0]&&-1===n.indexOf(e[t.position].categoryFields[0])&&n.push(e[t.position].categoryFields[0])},this),t._getAxisData().forEach(function(t){n.forEach(function(e){-1===s.indexOf(t[e])&&s.push(t[e])},this)},this),t._max=s.length);null!==t._slaves&&void 0!==t._slaves&&t._slaves.length>0&&t._slaves.forEach(function(e){e._min=t._min,e._max=t._max},this),t._update(),null===r&&"x"===t.position?r=t:null===a&&"y"===t.position&&(a=t)},this),this.axes.forEach(function(i){var s=!1,n=null,p=0,f=null,g=!1,m=0,v={l:null,t:null,r:null,b:null},y=0,_=0,x="",w=this,k=function(t){var i;return i=null===n||0===e||s?t:w._handleTransition(t,e,w)},b=function(){var e=t.select(this).selectAll("text");return!i.measure&&i._max>0&&("x"===i.position?e.attr("x",c/i._max/2):"y"===i.position&&e.attr("y",-1*(d/i._max)/2)),i.categoryFields&&i.categoryFields.length>0&&(i!==r||null!==a.categoryFields&&0!==a.categoryFields.length||e.attr("y",u+d-a._scale(0)+9),i!==a||null!==r.categoryFields&&0!==r.categoryFields.length||e.attr("x",-1*(r._scale(0)-h)-9)),this},S=function(e){return function(){var i=t.select(this).attr("class")||"";return-1===i.indexOf(e)&&(i+=" "+e),i.trim()}};null===i.gridlineShapes?(i.showGridlines||null===i.showGridlines&&!i._hasCategories()&&(!o&&"x"===i.position||!l&&"y"===i.position))&&(i.gridlineShapes=this._group.append("g").attr("class","dimple-gridline"),"x"===i.position?o=!0:l=!0):"x"===i.position?o=!0:l=!0,null===i.shapes&&(i.shapes=this._group.append("g").attr("class","dimple-axis dimple-axis-"+i.position).each(function(){w.noFormats||t.select(this).style("font-family",i.fontFamily).style("font-size",i._getFontSize())}),s=!0),i===r&&null!==a?(n="translate(0, "+(null===a.categoryFields||0===a.categoryFields.length?a._scale(0):u+d)+")",f="translate(0, "+(i===r?u+d:u)+")",p=-d):i===a&&null!==r?(n="translate("+(null===r.categoryFields||0===r.categoryFields.length?r._scale(0):h)+", 0)",f="translate("+(i===a?h:h+c)+", 0)",p=-c):"x"===i.position?(f=n="translate(0, "+(i===r?u+d:u)+")",p=-d):"y"===i.position&&(f=n="translate("+(i===a?h:h+c)+", 0)",p=-c),null!==n&&null!==i._draw&&(i._hasTimeField()?k(i.shapes).call(i._draw.ticks(i._getTimePeriod(),i.timeInterval).tickFormat(i._getFormat())).attr("transform",n).each(b):i.useLog?k(i.shapes).call(i._draw.ticks(4,i._getFormat())).attr("transform",n).each(b):k(i.shapes).call(i._draw.tickFormat(i._getFormat())).attr("transform",n).each(b),null!==i.gridlineShapes&&k(i.gridlineShapes).call(i._draw.tickSize(p,0,0).tickFormat("")).attr("transform",f)),k(i.shapes.selectAll("text")).attr("class",S(w.customClassList.axisLabel)).call(function(){w.noFormats||this.style("font-family",i.fontFamily).style("font-size",i._getFontSize())}),k(i.shapes.selectAll("path, line")).attr("class",S(w.customClassList.axisLine)).call(function(){w.noFormats||this.style("fill","none").style("stroke","black").style("shape-rendering","crispEdges")}),null!==i.gridlineShapes&&k(i.gridlineShapes.selectAll("line")).attr("class",S(w.customClassList.gridline)).call(function(){w.noFormats||this.style("fill","none").style("stroke","lightgray").style("opacity",.8)}),(null===i.measure||void 0===i.measure)&&(i.autoRotateLabel?i===r?(m=0,i.shapes.selectAll("text").each(function(){var t=this.getComputedTextLength();m=t>m?t:m}),m>c/i.shapes.selectAll("text")[0].length?(g=!0,i.shapes.selectAll("text").style("text-anchor","start").each(function(){var e=this.getBBox();t.select(this).attr("transform","rotate(90,"+e.x+","+(e.y+e.height/2)+") translate(-5, 0)")})):(g=!1,i.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))):"x"===i.position&&(m=0,i.shapes.selectAll("text").each(function(){var t=this.getComputedTextLength();m=t>m?t:m}),m>c/i.shapes.selectAll("text")[0].length?(g=!0,i.shapes.selectAll("text").style("text-anchor","end").each(function(){var e=this.getBBox();t.select(this).attr("transform","rotate(90,"+(e.x+e.width)+","+(e.y+e.height/2)+") translate(5, 0)")})):(g=!1,i.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))):(g=!1,i.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))),null!==i.titleShape&&void 0!==i.titleShape&&i.titleShape.remove(),i.shapes.selectAll("text").each(function(){var t=this.getBBox();(null===v.l||-9-t.width<v.l)&&(v.l=-9-t.width),(null===v.r||t.x+t.width>v.r)&&(v.r=t.x+t.width),g?((null===v.t||t.y+t.height-t.width<v.t)&&(v.t=t.y+t.height-t.width),(null===v.b||t.height+t.width>v.b)&&(v.b=t.height+t.width)):((null===v.t||t.y<v.t)&&(v.t=t.y),(null===v.b||9+t.height>v.b)&&(v.b=9+t.height))}),"x"===i.position?(_=i===r?u+d+v.b+5:u+v.t-10,y=h+c/2):"y"===i.position&&(y=i===a?h+v.l-10:h+c+v.r+20,_=u+d/2,x="rotate(270, "+y+", "+_+")"),i.hidden||"x"!==i.position&&"y"!==i.position||null===i.title||(i.titleShape=this._group.append("text").attr("class","dimple-axis dimple-title "+w.customClassList.axisTitle+" dimple-axis-"+i.position),i.titleShape.attr("x",y).attr("y",_).attr("text-anchor","middle").attr("transform",x).text(void 0!==i.title?i.title:null===i.categoryFields||void 0===i.categoryFields||0===i.categoryFields.length?i.measure:i.categoryFields.join("/")).each(function(){w.noFormats||t.select(this).style("font-family",i.fontFamily).style("font-size",i._getFontSize())}),i===r?i.titleShape.each(function(){t.select(this).attr("y",_+this.getBBox().height/1.65)}):i===a&&i.titleShape.each(function(){t.select(this).attr("x",y+this.getBBox().height/1.65)}))},this),this.series.forEach(function(t){t.plot.draw(this,t,e),this._registerEventHandlers(t)},this),this.legends.forEach(function(t){t._draw()},this),this.storyboard&&(this.storyboard._drawText(),this.storyboard.autoplay&&this.storyboard.startAnimation()),this},this.getClass=function(t){return this._assignedClasses[t]||(this._assignedClasses[t]=this.customClassList.colorClasses[this._nextClass],this._nextClass=(this._nextClass+1)%this.customClassList.colorClasses.length),this._assignedClasses[t]},this.getColor=function(t){return(null===this._assignedColors[t]||void 0===this._assignedColors[t])&&(this._assignedColors[t]=this.defaultColors[this._nextColor],this._nextColor=(this._nextColor+1)%this.defaultColors.length),this._assignedColors[t]},this.setBounds=function(t,i,s,n){return this.x=t,this.y=i,this.width=s,this.height=n,this._xPixels=function(){return e._parseXPosition(this.x,this.svg.node())},this.draw(0,!0),this._yPixels=function(){return e._parseYPosition(this.y,this.svg.node())},this._widthPixels=function(){return e._parseXPosition(this.width,this.svg.node())},this._heightPixels=function(){return e._parseYPosition(this.height,this.svg.node())},this},this.setMargins=function(t,i,s,n){return this.x=t,this.y=i,this.width=0,this.height=0,this._xPixels=function(){return e._parseXPosition(this.x,this.svg.node())},this._yPixels=function(){return e._parseYPosition(this.y,this.svg.node())},this._widthPixels=function(){return e._parentWidth(this.svg.node())-this._xPixels()-e._parseXPosition(s,this.svg.node())},this._heightPixels=function(){return e._parentHeight(this.svg.node())-this._yPixels()-e._parseYPosition(n,this.svg.node())},this.draw(0,!0),this},this.setStoryboard=function(t,i){return this.storyboard=new e.storyboard(this,t),null!==i&&void 0!==i&&(this.storyboard.onTick=i),this.storyboard}},e.color=function(e,i,s){this.fill=e,this.stroke=null===i||void 0===i?t.rgb(e).darker(.5).toString():i,this.opacity=null===s||void 0===s?.8:s},e.eventArgs=function(){this.seriesValue=null,this.xValue=null,this.yValue=null,this.zValue=null,this.pValue=null,this.colorValue=null,this.frameValue=null,this.seriesShapes=null,this.selectedShape=null},e.legend=function(i,s,n,r,a,o,l){this.chart=i,this.series=l,this.x=s,this.y=n,this.width=r,this.height=a,this.horizontalAlign=o,this.shapes=null,this.fontSize="10px",this.fontFamily="sans-serif",this._draw=function(){var i,s=this._getEntries(),n=0,r=0,a=0,o=0,l=15,h=9,u=5,c=this;this.shapes&&this.shapes.remove(),i=this.chart._group.selectAll(".dimple-dont-select-any").data(s).enter().append("g").attr("class",function(t){return"dimple-legend "+e._createClass(t.aggField)}).attr("opacity",1),i.append("text").attr("class",function(t){return"dimple-legend dimple-legend-text "+e._createClass(t.aggField)+" "+c.chart.customClassList.legendLabel}).text(function(t){return t.key}).call(function(){c.chart.noFormats||this.style("font-family",c.fontFamily).style("font-size",c._getFontSize()).style("shape-rendering","crispEdges")}).each(function(){var t=this.getBBox();t.width>n&&(n=t.width),t.height>r&&(r=t.height)}),i.append("rect").attr("class",function(t){return"dimple-legend dimple-legend-key "+e._createClass(t.aggField)}).attr("height",h).attr("width",l),r=(h>r?h:r)+c._getVerticalPadding(),n+=l+c._getHorizontalPadding(),i.each(function(i){a+n>c._widthPixels()&&(a=0,o+=r),o>c._heightPixels()?t.select(this).remove():(t.select(this).select("text").attr("x","left"===c.horizontalAlign?c._xPixels()+l+u+a:c._xPixels()+(c._widthPixels()-a-n)+l+u).attr("y",function(){return c._yPixels()+o+this.getBBox().height/1.65}).attr("width",c._widthPixels()).attr("height",c._heightPixels()),t.select(this).select("rect").attr("class",function(t){return"dimple-legend dimple-legend-key "+e._createClass(t.aggField)+" "+c.chart.customClassList.legendKey+" "+t.css}).attr("x","left"===c.horizontalAlign?c._xPixels()+a:c._xPixels()+(c._widthPixels()-a-n)).attr("y",c._yPixels()+o).attr("height",h).attr("width",l).call(function(){c.chart.noFormats||this.style("fill",i.fill).style("stroke",i.stroke).style("opacity",i.opacity).style("shape-rendering","crispEdges")}),a+=n)}),this.shapes=i},this._getEntries=function(){var t=[];return this.series&&this.series.forEach(function(e){var i=e._positionData;i.forEach(function(i){var s,n=-1,r=e.plot.grouped&&!e.x._hasCategories()&&!e.y._hasCategories()&&i.aggField.length<2?"All":i.aggField.slice(-1)[0];for(s=0;s<t.length;s+=1)if(t[s].key===r){n=s;break}-1===n&&e.chart._assignedColors[r]&&(t.push({key:r,fill:e.chart._assignedColors[r].fill,stroke:e.chart._assignedColors[r].stroke,opacity:e.chart._assignedColors[r].opacity,css:e.chart._assignedClasses[r],series:e,aggField:i.aggField}),n=t.length-1)})},this),t},this._getFontSize=function(){var t;return t=this.fontSize&&"auto"!==this.fontSize.toString().toLowerCase()?isNaN(this.fontSize)?this.fontSize:this.fontSize+"px":(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px"},this._getHorizontalPadding=function(){var t;return t=isNaN(this.horizontalPadding)?20:this.horizontalPadding},this._getVerticalPadding=function(){var t;return t=isNaN(this.verticalPadding)?2:this.verticalPadding},this._heightPixels=function(){return e._parseYPosition(this.height,this.chart.svg.node())},this._widthPixels=function(){return e._parseXPosition(this.width,this.chart.svg.node())},this._xPixels=function(){return e._parseXPosition(this.x,this.chart.svg.node())},this._yPixels=function(){return e._parseYPosition(this.y,this.chart.svg.node())}},e.series=function(t,e,i,s,n,r,a,o,l,h){this.chart=t,this.x=i,this.y=s,this.z=n,this.c=r,this.p=a,this.plot=o,this.categoryFields=e,this.aggregate=l,this.stacked=h,this.barGap=.2,this.clusterBarGap=.1,this.lineWeight=2,this.lineMarkers=!1,this.afterDraw=null,this.interpolation="linear",this.tooltipFontSize="10px",this.tooltipFontFamily="sans-serif",this.radius="auto",this._eventHandlers=[],this._positionData=[],this._orderRules=[],this._axisBounds=function(t){var e,i,s,n={min:0,max:0},r=null,a=null,o=[],l=0,h=this._positionData;return"x"===t?(r=this.x,a=this.y):"y"===t?(r=this.y,a=this.x):"z"===t?r=this.z:"p"===t?r=this.p:"c"===t&&(r=this.c),r.showPercent?h.forEach(function(t){t[r.position+"Bound"]<n.min&&(n.min=t[r.position+"Bound"]),t[r.position+"Bound"]>n.max&&(n.max=t[r.position+"Bound"])},this):null===a||null===a.categoryFields||0===a.categoryFields.length?h.forEach(function(t){!this._isStacked()||"x"!==r.position&&"y"!==r.position?(t[r.position+"Value"]<n.min&&(n.min=t[r.position+"Value"]),t[r.position+"Value"]>n.max&&(n.max=t[r.position+"Value"])):t[r.position+"Value"]<0?n.min=n.min+t[r.position+"Value"]:n.max=n.max+t[r.position+"Value"]},this):(e=r.position+"Value",i=a.position+"Field",s=[],h.forEach(function(t){var n=t[i].join("/"),r=s.indexOf(n);-1===r&&(s.push(n),r=s.length-1),void 0===o[r]&&(o[r]={min:0,max:0},r>=l&&(l=r+1)),this.stacked?t[e]<0?o[r].min=o[r].min+t[e]:o[r].max=o[r].max+t[e]:(t[e]<o[r].min&&(o[r].min=t[e]),t[e]>o[r].max&&(o[r].max=t[e]))},this),o.forEach(function(t){void 0!==t&&(t.min<n.min&&(n.min=t.min),t.max>n.max&&(n.max=t.max))},this)),n},this._deepMatch=function(t){var e=!1;return this[t.position]===t?e=!0:void 0!==t._slaves&&null!==t._slaves&&t._slaves.length>0&&t._slaves.forEach(function(t){e=e||this._deepMatch(t)},this),e},this._dropLineOrigin=function(){var t=0,e=0,i={x:null,y:null},s={x:null,y:null};return this.chart.axes.forEach(function(t){"x"===t.position&&null===s.x?s.x=t._hasTimeField()?this.chart._xPixels():t._origin:"y"===t.position&&null===s.y&&(s.y=t._hasTimeField()?this.chart._yPixels()+this.chart._heightPixels():t._origin)},this),this.chart.axes.forEach(function(n){"x"!==n.position||this.x.hidden?"y"!==n.position||this.y.hidden||(this._deepMatch(n)&&(0===e?i.x=s.x:1===e&&(i.x=this.chart._xPixels()+this.chart._widthPixels())),e+=1):(this._deepMatch(n)&&(0===t?i.y=s.y:1===t&&(i.y=this.chart._yPixels())),t+=1)},this),i},this._getTooltipFontSize=function(){var t;return t=this.tooltipFontSize&&"auto"!==this.tooltipFontSize.toString().toLowerCase()?isNaN(this.tooltipFontSize)?this.tooltipFontSize:this.tooltipFontSize+"px":(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px"},this._isStacked=function(){return this.stacked&&(this.x._hasCategories()||this.y._hasCategories())},this.addEventHandler=function(t,e){this._eventHandlers.push({event:t,handler:e})},this.addOrderRule=function(t,e){this._orderRules.push({ordering:t,desc:e})},this.getTooltipText=function(t){var e=[];return null!==this.categoryFields&&void 0!==this.categoryFields&&this.categoryFields.length>0&&this.categoryFields.forEach(function(i,s){null!==i&&void 0!==i&&null!==t.aggField[s]&&void 0!==t.aggField[s]&&e.push(i+(t.aggField[s]!==i?": "+t.aggField[s]:""))},this),this.p?(this.x&&this.x._hasCategories()&&this.x._getTooltipText(e,t),this.y&&this.y._hasCategories()&&this.y._getTooltipText(e,t),this.z&&this.z._hasCategories()&&this.z._getTooltipText(e,t),this.p._getTooltipText(e,t)):(this.x&&this.x._getTooltipText(e,t),this.y&&this.y._getTooltipText(e,t),this.z&&this.z._getTooltipText(e,t)),this.c&&this.c._getTooltipText(e,t),e.filter(function(t,i){return e.indexOf(t)===i})}},e.storyboard=function(t,e){null!==e&&void 0!==e&&(e=[].concat(e)),this.chart=t,this.categoryFields=e,this.autoplay=!0,this.frameDuration=3e3,this.storyLabel=null,this.onTick=null,this.fontSize="10px",this.fontFamily="sans-serif",this._frame=0,this._animationTimer=null,this._categories=[],this._cachedCategoryFields=[],this._orderRules=[],this._drawText=function(){if(!this.storyLabel){var t=this.chart,e=this,i=0;this.chart.axes.forEach(function(t){"x"===t.position&&(i+=1)},this),this.storyLabel=this.chart._group.append("text").attr("class","dimple-storyboard-label").attr("opacity",1).attr("x",this.chart._xPixels()+.01*this.chart._widthPixels()).attr("y",this.chart._yPixels()+(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)*(i>1?1.25:-1)).call(function(){t.noFormats||this.style("font-family",e.fontFamily).style("font-size",e._getFontSize())})}this.storyLabel.text(this.categoryFields.join("\\")+": "+this.getFrameValue())},this._getCategories=function(){return this._categoryFields!==this._cachedCategoryFields&&(this._categories=[],this.chart._getAllData().forEach(function(t){var e=-1,i="";null!==this.categoryFields&&(this.categoryFields.forEach(function(e,s){s>0&&(i+="/"),i+=t[e]},this),e=this._categories.indexOf(i),-1===e&&(this._categories.push(i),e=this._categories.length-1))},this),this._cachedCategoryFields=this._categoryFields),this._categories},this._getFontSize=function(){var t;return t=this.fontSize&&"auto"!==this.fontSize.toString().toLowerCase()?isNaN(this.fontSize)?this.fontSize:this.fontSize+"px":(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px"},this._goToFrameIndex=function(t){this._frame=t%this._getCategories().length,this.chart.draw(this.frameDuration/2)},this.addOrderRule=function(t,e){this._orderRules.push({ordering:t,desc:e})},this.getFrameValue=function(){var t=null;return this._frame>=0&&this._getCategories().length>this._frame&&(t=this._getCategories()[this._frame]),t},this.goToFrame=function(t){if(this._getCategories().length>0){var e=this._getCategories().indexOf(t);this._goToFrameIndex(e)}},this.pauseAnimation=function(){null!==this._animationTimer&&(window.clearInterval(this._animationTimer),this._animationTimer=null)},this.startAnimation=function(){null===this._animationTimer&&(null!==this.onTick&&this.onTick(this.getFrameValue()),this._animationTimer=window.setInterval(function(t){return function(){t._goToFrameIndex(t._frame+1),null!==t.onTick&&t.onTick(t.getFrameValue()),t._drawText(t.frameDuration/2)}}(this),this.frameDuration))},this.stopAnimation=function(){null!==this._animationTimer&&(window.clearInterval(this._animationTimer),this._animationTimer=null,this._frame=0)}},e.aggregateMethod.avg=function(t,e){return t.value=null===t.value||void 0===t.value?0:parseFloat(t.value),t.count=null===t.count||void 0===t.count?1:parseFloat(t.count),e.value=null===e.value||void 0===e.value?0:parseFloat(e.value),e.count=null===e.count||void 0===e.count?1:parseFloat(e.count),(t.value*t.count+e.value*e.count)/(t.count+e.count)},e.aggregateMethod.count=function(t,e){return t.count=null===t.count||void 0===t.count?0:parseFloat(t.count),e.count=null===e.count||void 0===e.count?0:parseFloat(e.count),t.count+e.count},e.aggregateMethod.max=function(t,e){return t.value=null===t.value||void 0===t.value?0:parseFloat(t.value),e.value=null===e.value||void 0===e.value?0:parseFloat(e.value),t.value>e.value?t.value:e.value},e.aggregateMethod.min=function(t,e){return parseFloat(null===t.value?e.value:parseFloat(t.value)<parseFloat(e.value)?t.value:e.value)},e.aggregateMethod.sum=function(t,e){return t.value=null===t.value||void 0===t.value?0:parseFloat(t.value),e.value=null===e.value||void 0===e.value?0:parseFloat(e.value),t.value+e.value},e.plot.area={stacked:!0,grouped:!0,supportedAxes:["x","y","c"],draw:function(i,s,n){var r,a,o,l,h,u,c,d,p,f,g,m,v,y,_,x,w,k,b,S,C,P,F=s._positionData,E=[],z=null,T="dimple-series-"+i.series.indexOf(s),M=s.x._hasCategories()||s.y._hasCategories()?0:1,O=!1,A={},$=[],L=[],B=function(){return function(i,s,n,r){t.select(s).style("opacity",1),e._showPointTooltip(i,s,n,r)}},D=function(i){return function(s,n,r,a){t.select(n).style("opacity",a.lineMarkers||i.data.length<2?e._helpers.opacity(s,r,a):0),e._removeTooltip(s,n,r,a)}},R=function(t,r){e._drawMarkers(t,i,s,n,T,O,B(t),D(t),r)},H=function(t,n){var r;return"step"===s.interpolation&&s[t]._hasCategories()?(r=e._helpers[t](n,i,s)+("y"===t?e._helpers.height(n,i,s):0),s[t].categoryFields.length<2&&(r+=("y"===t?1:-1)*e._helpers[t+"Gap"](i,s))):r=e._helpers["c"+t](n,i,s),parseFloat(r)},I=function(e,i){return t.svg.line().x(function(t){return s.x._hasCategories()||!i?t.x:s.x[i]}).y(function(t){return s.y._hasCategories()||!i?t.y:s.y[i]}).interpolate(e)},N=function(t,e){return parseFloat(t)-parseFloat(e)},j=function(t,e){return parseFloat(t.x)-parseFloat(e.x)},G=function(t,e,i){var s,n,r=e[e.length-1],a=9999,o=r;for(s=0;s<t.length;s+=1)(t[s].x!==r.x||t[s].y!==r.y)&&(n=180-Math.atan2(t[s].x-r.x,t[s].y-r.y)*(180/Math.PI),n>i&&a>n&&(o=t[s],a=n));return e.push(o),a};for(r="step"===s.interpolation?"step-after":s.interpolation,f=e._getSeriesOrder(s.data||i.data,s),s.c&&(s.x._hasCategories()&&s.y._hasMeasure()||s.y._hasCategories()&&s.x._hasMeasure())&&(O=!0),s.x._hasCategories()?(C="x",P="y"):s.y._hasCategories()&&(C="y",P="x"),a=0;a<F.length;a+=1){for(h=[],c=-1,l=M;l<F[a].aggField.length;l+=1)h.push(F[a].aggField[l]);for(u=e._createClass(h),l=0;l<E.length;l+=1)if(E[l].keyString===u){c=l;break}-1===c&&(c=E.length,E.push({key:h,keyString:u,color:"white",data:[],points:[],area:{},entry:{},exit:{},group:C&&F[a][C+"Field"]&&F[a][C+"Field"].length>=2?F[a][C+"Field"][0]:"All"})),E[c].data.push(F[a])}for(f&&E.sort(function(t,i){return e._arrayIndexCompare(f,t.key,i.key)}),a=0;a<E.length;a+=1){for(E[a].data.sort(e._getSeriesSortPredicate(i,s,f)),o=0;o<E[a].data.length;o+=1)E[a].points.push({x:H("x",E[a].data[o]),y:H("y",E[a].data[o])}),C&&(A[E[a].group]||(A[E[a].group]={}),A[E[a].group][E[a].points[E[a].points.length-1][C]]=s[P]._origin);g=E[a].points,"step"===s.interpolation&&g.length>1&&C&&(s.x._hasCategories()?(g.push({x:2*g[g.length-1].x-g[g.length-2].x,y:g[g.length-1].y}),A[E[a].group][g[g.length-1][C]]=s[P]._origin):s.y._hasCategories()&&(g=[{x:g[0].x,y:2*g[0].y-g[1].y}].concat(g),A[E[a].group][g[0][C]]=s[P]._origin,E[a].points=g))}for(y in A)if(A.hasOwnProperty(y)){$[y]=[];for(_ in A[y])A[y].hasOwnProperty(_)&&$[y].push(parseFloat(_));$[y].sort(N)}for(a=0;a<E.length;a+=1){if(g=E[a].points,x=E[a].group,m=[],L=[],O&&e._addGradient(E[a].key,"fill-area-gradient-"+E[a].keyString,s.x._hasCategories()?s.x:s.y,F,i,n,"fill"),$[x]&&$[x].length>0)for(o=0,l=0;o<$[x].length;o+=1)$[x][o]>=g[0][C]&&$[x][o]<=g[g.length-1][C]&&(v={},v[C]=$[x][o],v[P]=A[x][$[x][o]],m.push(v),g[l][C]>$[x][o]?L.push(v):(L.push(g[l]),A[E[a].group][$[x][o]]=g[l][P],l+=1));else if(s._orderRules&&s._orderRules.length>0)L=g.concat(g[0]);else{g=g.sort(j),L.push(g[0]),S=0;do S=G(g,L,S);while(L.length<=g.length&&(L[0].x!==L[L.length-1].x||L[0].y!==L[L.length-1].y))}m=m.reverse(),w=I(r,"_previousOrigin")(L),k=I("step-after"===r?"step-before":"step-before"===r?"step-after":r,"_previousOrigin")(m),b=I("linear","_previousOrigin")(L),E[a].entry=w+(k&&k.length>0?"L"+k.substring(1):"")+(b&&b.length>0?"L"+b.substring(1,b.indexOf("L")):0),w=I(r)(L),k=I("step-after"===r?"step-before":"step-before"===r?"step-after":r)(m),b=I("linear")(L),E[a].update=w+(k&&k.length>0?"L"+k.substring(1):"")+(b&&b.length>0?"L"+b.substring(1,b.indexOf("L")):0),w=I(r,"_origin")(L),k=I("step-after"===r?"step-before":"step-before"===r?"step-after":r,"_origin")(m),b=I("linear","_origin")(L),E[a].exit=w+(k&&k.length>0?"L"+k.substring(1):"")+(b&&b.length>0?"L"+b.substring(1,b.indexOf("L")):0),E[a].color=i.getColor(E[a].key.length>0?E[a].key[E[a].key.length-1]:"All"),E[a].css=i.getClass(E[a].key.length>0?E[a].key[E[a].key.length-1]:"All")}null!==i._tooltipGroup&&void 0!==i._tooltipGroup&&i._tooltipGroup.remove(),z=null===s.shapes||void 0===s.shapes?i._group.selectAll("."+T).data(E):s.shapes.data(E,function(t){return t.key}),z.enter().append("path").attr("id",function(t){return e._createClass([t.key])}).attr("class",function(t){return T+" dimple-line "+t.keyString+" "+i.customClassList.areaSeries+" "+t.css}).attr("d",function(t){return t.entry}).call(function(){i.noFormats||this.attr("opacity",function(t){return O?1:t.color.opacity}).style("fill",function(t){return O?"url(#"+e._createClass(["fill-area-gradient-"+t.keyString])+")":t.color.fill}).style("stroke",function(t){return O?"url(#"+e._createClass(["stroke-area-gradient-"+t.keyString])+")":t.color.stroke}).style("stroke-width",s.lineWeight)}).each(function(t){t.markerData=t.data,R(t,this)}),d=i._handleTransition(z,n,i).attr("d",function(t){return t.update}).each(function(t){t.markerData=t.data,R(t,this)}),p=i._handleTransition(z.exit(),n,i).attr("d",function(t){return t.exit}).each(function(t){t.markerData=[],R(t,this)}),e._postDrawHandling(s,d,p,n),s.shapes=z}},e.plot.bar={stacked:!0,grouped:!1,supportedAxes:["x","y","c"],draw:function(t,i,s){var n,r,a=i._positionData,o=null,l=["dimple-series-"+t.series.indexOf(i),"dimple-bar"],h=!i._isStacked()&&i.x._hasMeasure(),u=!i._isStacked()&&i.y._hasMeasure(),c="none";i.x._hasCategories()&&i.y._hasCategories()?c="both":i.x._hasCategories()?c="x":i.y._hasCategories()&&(c="y"),null!==t._tooltipGroup&&void 0!==t._tooltipGroup&&t._tooltipGroup.remove(),o=null===i.shapes||void 0===i.shapes?t._group.selectAll("."+l.join(".")).data(a):i.shapes.data(a,function(t){return t.key}),o.enter().append("rect").attr("id",function(t){return e._createClass([t.key])}).attr("class",function(i){var s=[];return s=s.concat(i.aggField),s=s.concat(i.xField),s=s.concat(i.yField),l.join(" ")+" "+e._createClass(s)+" "+t.customClassList.barSeries+" "+e._helpers.css(i,t)}).attr("x",function(s){var n=i.x._previousOrigin;return"x"===c?n=e._helpers.x(s,t,i):"both"===c&&(n=e._helpers.cx(s,t,i)),n}).attr("y",function(s){var n=i.y._previousOrigin;return"y"===c?n=e._helpers.y(s,t,i):"both"===c&&(n=e._helpers.cy(s,t,i)),n}).attr("width",function(s){return"x"===c?e._helpers.width(s,t,i):0}).attr("height",function(s){return"y"===c?e._helpers.height(s,t,i):0}).on("mouseover",function(s){e._showBarTooltip(s,this,t,i)}).on("mouseleave",function(s){e._removeTooltip(s,this,t,i)}).call(function(){t.noFormats||this.attr("opacity",function(s){return e._helpers.opacity(s,t,i)}).style("fill",function(s){return e._helpers.fill(s,t,i)}).style("stroke",function(s){return e._helpers.stroke(s,t,i)})}),n=t._handleTransition(o,s,t,i).attr("x",function(s){return h?e._helpers.cx(s,t,i)-i.x.floatingBarWidth/2:e._helpers.x(s,t,i)}).attr("y",function(s){return u?e._helpers.cy(s,t,i)-i.y.floatingBarWidth/2:e._helpers.y(s,t,i)}).attr("width",function(s){return h?i.x.floatingBarWidth:e._helpers.width(s,t,i)}).attr("height",function(s){return u?i.y.floatingBarWidth:e._helpers.height(s,t,i)}).call(function(){t.noFormats||this.attr("fill",function(s){return e._helpers.fill(s,t,i)}).attr("stroke",function(s){return e._helpers.stroke(s,t,i)})}),r=t._handleTransition(o.exit(),s,t,i).attr("x",function(s){var n=i.x._origin;return"x"===c?n=e._helpers.x(s,t,i):"both"===c&&(n=e._helpers.cx(s,t,i)),n}).attr("y",function(s){var n=i.y._origin;return"y"===c?n=e._helpers.y(s,t,i):"both"===c&&(n=e._helpers.cy(s,t,i)),n}).attr("width",function(s){return"x"===c?e._helpers.width(s,t,i):0}).attr("height",function(s){return"y"===c?e._helpers.height(s,t,i):0}),e._postDrawHandling(i,n,r,s),i.shapes=o}},e.plot.bubble={stacked:!1,grouped:!1,supportedAxes:["x","y","z","c"],draw:function(t,i,s){var n,r,a=i._positionData,o=null,l=["dimple-series-"+t.series.indexOf(i),"dimple-bubble"];null!==t._tooltipGroup&&void 0!==t._tooltipGroup&&t._tooltipGroup.remove(),o=null===i.shapes||void 0===i.shapes?t._group.selectAll("."+l.join(".")).data(a):i.shapes.data(a,function(t){return t.key}),o.enter().append("circle").attr("id",function(t){return e._createClass([t.key])}).attr("class",function(i){var s=[];return s=s.concat(i.aggField),s=s.concat(i.xField),s=s.concat(i.yField),s=s.concat(i.zField),l.join(" ")+" "+e._createClass(s)+" "+t.customClassList.bubbleSeries+" "+e._helpers.css(i,t)}).attr("cx",function(s){return i.x._hasCategories()?e._helpers.cx(s,t,i):i.x._previousOrigin}).attr("cy",function(s){return i.y._hasCategories()?e._helpers.cy(s,t,i):i.y._previousOrigin}).attr("r",0).on("mouseover",function(s){e._showPointTooltip(s,this,t,i)}).on("mouseleave",function(s){e._removeTooltip(s,this,t,i)}).call(function(){t.noFormats||this.attr("opacity",function(s){return e._helpers.opacity(s,t,i)}).style("fill",function(s){return e._helpers.fill(s,t,i)}).style("stroke",function(s){return e._helpers.stroke(s,t,i)})}),n=t._handleTransition(o,s,t,i).attr("cx",function(s){return e._helpers.cx(s,t,i)}).attr("cy",function(s){return e._helpers.cy(s,t,i)}).attr("r",function(s){return e._helpers.r(s,t,i)}).call(function(){t.noFormats||this.attr("fill",function(s){return e._helpers.fill(s,t,i)}).attr("stroke",function(s){return e._helpers.stroke(s,t,i)})}),r=t._handleTransition(o.exit(),s,t,i).attr("r",0).attr("cx",function(s){return i.x._hasCategories()?e._helpers.cx(s,t,i):i.x._origin}).attr("cy",function(s){return i.y._hasCategories()?e._helpers.cy(s,t,i):i.y._origin}),e._postDrawHandling(i,n,r,s),i.shapes=o}},e.plot.line={stacked:!1,grouped:!0,supportedAxes:["x","y","c"],draw:function(i,s,n){var r,a,o,l,h,u,c,d,p,f,g=s._positionData,m=[],v=null,y="dimple-series-"+i.series.indexOf(s),_=s.x._hasCategories()||s.y._hasCategories()?0:1,x=!1,w=function(){return function(i,s,n,r){t.select(s).style("opacity",1),e._showPointTooltip(i,s,n,r)}},k=function(i){return function(s,n,r,a){t.select(n).style("opacity",a.lineMarkers||i.data.length<2?e._helpers.opacity(s,r,a):0),e._removeTooltip(s,n,r,a)}},b=function(t,r){e._drawMarkers(t,i,s,n,y,x,w(t),k(t),r)},S=function(t,n){var r;return"step"===s.interpolation&&s[t]._hasCategories()?(s.barGap=0,s.clusterBarGap=0,r=e._helpers[t](n,i,s)+("y"===t?e._helpers.height(n,i,s):0)):r=e._helpers["c"+t](n,i,s),parseFloat(r.toFixed(1))},C=function(e,i){return t.svg.line().x(function(t){return s.x._hasCategories()||!i?t.x:s.x[i]}).y(function(t){return s.y._hasCategories()||!i?t.y:s.y[i]}).interpolate(e)};for(r="step"===s.interpolation?"step-after":s.interpolation,f=e._getSeriesOrder(s.data||i.data,s),s.c&&(s.x._hasCategories()&&s.y._hasMeasure()||s.y._hasCategories()&&s.x._hasMeasure())&&(x=!0),a=0;a<g.length;a+=1){for(h=[],c=-1,l=_;l<g[a].aggField.length;l+=1)h.push(g[a].aggField[l]);for(u=e._createClass(h),l=0;l<m.length;l+=1)if(m[l].keyString===u){c=l;break}-1===c&&(c=m.length,m.push({key:h,keyString:u,color:"white",data:[],markerData:[],points:[],line:{},entry:{},exit:{}})),m[c].data.push(g[a])}for(f&&m.sort(function(t,i){return e._arrayIndexCompare(f,t.key,i.key)}),a=0;a<m.length;a+=1){for(m[a].data.sort(e._getSeriesSortPredicate(i,s,f)),x&&e._addGradient(m[a].key,"fill-line-gradient-"+m[a].keyString,s.x._hasCategories()?s.x:s.y,g,i,n,"fill"),o=0;o<m[a].data.length;o+=1)m[a].points.push({x:S("x",m[a].data[o]),y:S("y",m[a].data[o])});"step"===s.interpolation&&m[a].points.length>1&&(s.x._hasCategories()?m[a].points.push({x:2*m[a].points[m[a].points.length-1].x-m[a].points[m[a].points.length-2].x,y:m[a].points[m[a].points.length-1].y}):s.y._hasCategories()&&(m[a].points=[{x:m[a].points[0].x,y:2*m[a].points[0].y-m[a].points[1].y}].concat(m[a].points))),m[a].entry=C(r,"_previousOrigin")(m[a].points),m[a].update=C(r)(m[a].points),m[a].exit=C(r,"_origin")(m[a].points),m[a].color=i.getColor(m[a].key.length>0?m[a].key[m[a].key.length-1]:"All"),m[a].css=i.getClass(m[a].key.length>0?m[a].key[m[a].key.length-1]:"All")}null!==i._tooltipGroup&&void 0!==i._tooltipGroup&&i._tooltipGroup.remove(),v=null===s.shapes||void 0===s.shapes?i._group.selectAll("."+y).data(m):s.shapes.data(m,function(t){return t.key}),v.enter().append("path").attr("id",function(t){return e._createClass([t.key])}).attr("class",function(t){return y+" dimple-line "+t.keyString+" "+i.customClassList.lineSeries+" "+t.css}).attr("d",function(t){return t.entry}).call(function(){i.noFormats||this.attr("opacity",function(t){return x?1:t.color.opacity}).style("fill","none").style("stroke",function(t){return x?"url(#"+e._createClass(["fill-line-gradient-"+t.keyString])+")":t.color.stroke;

}).style("stroke-width",s.lineWeight)}).each(function(t){t.markerData=t.data,b(t,this)}),d=i._handleTransition(v,n,i).attr("d",function(t){return t.update}).each(function(t){t.markerData=t.data,b(t,this)}),p=i._handleTransition(v.exit(),n,i).attr("d",function(t){return t.exit}).each(function(t){t.markerData=[],b(t,this)}),e._postDrawHandling(s,d,p,n),s.shapes=v}},e.plot.pie={stacked:!1,grouped:!1,supportedAxes:["x","y","c","z","p"],draw:function(i,s,n){var r,a,o=s._positionData,l=null,h=["dimple-series-"+i.series.indexOf(s),"dimple-pie"],u=function(t){var n;return n=s.x&&s.y?e._helpers.r(t,i,s):i._widthPixels()<i._heightPixels()?i._widthPixels()/2:i._heightPixels()/2},c=function(t){var i=u(t);return s.outerRadius&&(i=e._parsePosition(s.outerRadius,i)),Math.max(i,0)},d=function(t){var i=0;return s.innerRadius&&(i=e._parsePosition(s.innerRadius,u(t))),Math.max(i,0)},p=function(e){var i;return(i=t.svg.arc().innerRadius(d(e)).outerRadius(c(e)))(e)},f=function(e){e.innerRadius=d(e),e.outerRadius=c(e);var i,s=t.interpolate(this._current,e);return i=t.svg.arc().innerRadius(function(t){return t.innerRadius}).outerRadius(function(t){return t.outerRadius}),this._current=s(0),function(t){return i(s(t))}},g=function(t){return function(n){var r,a;return s.x&&s.y?(r=!t||s.x._hasCategories()?e._helpers.cx(n,i,s):s.x._previousOrigin,a=!t||s.y._hasCategories()?e._helpers.cy(n,i,s):s.y._previousOrigin):(r=i._xPixels()+i._widthPixels()/2,a=i._yPixels()+i._heightPixels()/2),"translate("+r+","+a+")"}};null!==i._tooltipGroup&&void 0!==i._tooltipGroup&&i._tooltipGroup.remove(),l=null===s.shapes||void 0===s.shapes?i._group.selectAll("."+h.join(".")).data(o):s.shapes.data(o,function(t){return t.key}),l.enter().append("path").attr("id",function(t){return e._createClass([t.key])}).attr("class",function(t){var s=[];return s=s.concat(t.aggField),s=s.concat(t.pField),h.join(" ")+" "+e._createClass(s)+" "+i.customClassList.pieSeries+" "+e._helpers.css(t,i)}).attr("d",p).on("mouseover",function(t){e._showBarTooltip(t,this,i,s)}).on("mouseleave",function(t){e._removeTooltip(t,this,i,s)}).call(function(){i.noFormats||this.attr("opacity",function(t){return e._helpers.opacity(t,i,s)}).style("fill",function(t){return e._helpers.fill(t,i,s)}).style("stroke",function(t){return e._helpers.stroke(t,i,s)})}).attr("transform",g(!0)).each(function(t){this._current=t,t.innerRadius=d(t),t.outerRadius=c(t)}),r=i._handleTransition(l,n,i,s).call(function(){n&&n>0?this.attrTween("d",f):this.attr("d",p),i.noFormats||this.attr("fill",function(t){return e._helpers.fill(t,i,s)}).attr("stroke",function(t){return e._helpers.stroke(t,i,s)})}).attr("transform",g(!1)),a=i._handleTransition(l.exit(),n,i,s).attr("transform",g(!0)).attr("d",p),e._postDrawHandling(s,r,a,n),s.shapes=l}},e._addGradient=function(t,i,s,n,r,a,o){var l=[].concat(t),h=r.svg.select("#"+e._createClass([i])),u=[],c=s.position+"Field",d=!0,p=[];n.forEach(function(t){-1===u.indexOf(t[c])&&t.aggField.join("_")===l.join("_")&&u.push(t[c])},this),u=u.sort(function(t,e){return s._scale(t)-s._scale(e)}),null===h.node()&&(d=!1,h=r.svg.append("defs").append("linearGradient").attr("id",e._createClass([i])).attr("gradientUnits","userSpaceOnUse").attr("x1","x"===s.position?s._scale(u[0])+r._widthPixels()/u.length/2:0).attr("y1","y"===s.position?s._scale(u[0])-r._heightPixels()/u.length/2:0).attr("x2","x"===s.position?s._scale(u[u.length-1])+r._widthPixels()/u.length/2:0).attr("y2","y"===s.position?s._scale(u[u.length-1])-r._heightPixels()/u.length/2:0)),u.forEach(function(t,e){var i={},s=0;for(s=0;s<n.length;s+=1)if(n[s].aggField.join("_")===l.join("_")&&n[s][c].join("_")===t.join("_")){i=n[s];break}p.push({offset:Math.round(e/(u.length-1)*100)+"%",color:i[o]})},this),d?r._handleTransition(h.selectAll("stop").data(p),a,r).attr("offset",function(t){return t.offset}).attr("stop-color",function(t){return t.color}):h.selectAll("stop").data(p).enter().append("stop").attr("offset",function(t){return t.offset}).attr("stop-color",function(t){return t.color})},e._arrayIndexCompare=function(t,e,i){var s,n,r,a,o,l;for(n=0;n<t.length;n+=1){for(a=!0,o=!0,l=[].concat(t[n]),r=0;r<e.length;r+=1)a=a&&e[r]===l[r];for(r=0;r<i.length;r+=1)o=o&&i[r]===l[r];if(a&&o){s=0;break}if(a){s=-1;break}if(o){s=1;break}}return s},e._createClass=function(t){var e,i,s=[];if(i=function(t){var e=t.charCodeAt(0),i="-";return e>=65&&90>=e&&(i=t.toLowerCase()),i},t.length>0)for(e=0;e<t.length;e+=1)t[e]&&s.push("dimple-"+t[e].toString().replace(/[^a-z0-9]/g,i));else s=["dimple-all"];return s.join(" ")},e._drawMarkerBacks=function(i,s,n,r,a,o){var l,h,u,c=["dimple-marker-back",a,i.keyString];n.lineMarkers&&(l=null===n._markerBacks||void 0===n._markerBacks||void 0===n._markerBacks[i.keyString]?s._group.selectAll("."+c.join(".")).data(i.markerData):n._markerBacks[i.keyString].data(i.markerData,function(t){return t.key}),u=o.nextSibling&&o.nextSibling.id?l.enter().insert("circle","#"+o.nextSibling.id):l.enter().append("circle"),u.attr("id",function(t){return e._createClass([t.key+" Marker Back"])}).attr("class",function(t){var i=[];return n.x._hasCategories()&&(i=i.concat(t.xField)),n.y._hasCategories()&&(i=i.concat(t.yField)),e._createClass(i)+" "+c.join(" ")}).attr("cx",function(t){return n.x._hasCategories()?e._helpers.cx(t,s,n):n.x._previousOrigin}).attr("cy",function(t){return n.y._hasCategories()?e._helpers.cy(t,s,n):n.y._previousOrigin}).attr("r",0).attr("fill","white").attr("stroke","none"),s._handleTransition(l,r,s).attr("cx",function(t){return e._helpers.cx(t,s,n)}).attr("cy",function(t){return e._helpers.cy(t,s,n)}).attr("r",2+n.lineWeight),h=s._handleTransition(l.exit(),r,s).attr("cx",function(t){return n.x._hasCategories()?e._helpers.cx(t,s,n):n.x._origin}).attr("cy",function(t){return n.y._hasCategories()?e._helpers.cy(t,s,n):n.y._origin}).attr("r",0),0===r?h.remove():h.each("end",function(){t.select(this).remove()}),(void 0===n._markerBacks||null===n._markerBacks)&&(n._markerBacks={}),n._markerBacks[i.keyString]=l)},e._drawMarkers=function(i,s,n,r,a,o,l,h,u){var c,d,p,f=["dimple-marker",a,i.keyString];c=null===n._markers||void 0===n._markers||void 0===n._markers[i.keyString]?s._group.selectAll("."+f.join(".")).data(i.markerData):n._markers[i.keyString].data(i.markerData,function(t){return t.key}),p=u.nextSibling&&u.nextSibling.id?c.enter().insert("circle","#"+u.nextSibling.id):c.enter().append("circle"),p.attr("id",function(t){return e._createClass([t.key+" Marker"])}).attr("class",function(t){var i=[],r=s.getClass(t.aggField.length>0?t.aggField[t.aggField.length-1]:"All");return n.x._hasCategories()&&(i=i.concat(t.xField)),n.y._hasCategories()&&(i=i.concat(t.yField)),e._createClass(i)+" "+f.join(" ")+" "+s.customClassList.lineMarker+" "+r}).on("mouseover",function(t){l(t,this,s,n)}).on("mouseleave",function(t){h(t,this,s,n)}).attr("cx",function(t){return n.x._hasCategories()?e._helpers.cx(t,s,n):n.x._previousOrigin}).attr("cy",function(t){return n.y._hasCategories()?e._helpers.cy(t,s,n):n.y._previousOrigin}).attr("r",0).attr("opacity",n.lineMarkers||i.data.length<2?i.color.opacity:0).call(function(){s.noFormats||this.attr("fill","white").style("stroke-width",n.lineWeight).attr("stroke",function(t){return o?e._helpers.fill(t,s,n):i.color.stroke})}),s._handleTransition(c,r,s).attr("cx",function(t){return e._helpers.cx(t,s,n)}).attr("cy",function(t){return e._helpers.cy(t,s,n)}).attr("r",2+n.lineWeight).attr("opacity",n.lineMarkers||i.data.length<2?i.color.opacity:0).call(function(){s.noFormats||this.attr("fill","white").style("stroke-width",n.lineWeight).attr("stroke",function(t){return o?e._helpers.fill(t,s,n):i.color.stroke})}),d=s._handleTransition(c.exit(),r,s).attr("cx",function(t){return n.x._hasCategories()?e._helpers.cx(t,s,n):n.x._origin}).attr("cy",function(t){return n.y._hasCategories()?e._helpers.cy(t,s,n):n.y._origin}).attr("r",0),0===r?d.remove():d.each("end",function(){t.select(this).remove()}),(void 0===n._markers||null===n._markers)&&(n._markers={}),n._markers[i.keyString]=c,e._drawMarkerBacks(i,s,n,r,a,u)},e._getOrderedList=function(t,i,s){var n,r=[],a=[],o=[].concat(i),l=[].concat(i),h=[];return null!==s&&void 0!==s&&(h=h.concat(s)),h=h.concat({ordering:o,desc:!1}),h.forEach(function(e){var i,s=[],n=[];if("function"==typeof e.ordering){if(t&&t.length>0)for(i in t[0])t[0].hasOwnProperty(i)&&-1===l.indexOf(i)&&l.push(i)}else if(e.ordering instanceof Array){for(i=0;i<e.ordering.length;i+=1)t&&t.length>0&&t[0].hasOwnProperty(e.ordering[i])&&n.push(e.ordering[i]),s.push(e.ordering[i]);n.length>s.length/2?l.concat(n):e.values=s}else l.push(e.ordering)},this),n=e._rollUp(t,o,l),h.length>=1&&(h.forEach(function(t){var e=null===t.desc||void 0===t.desc?!1:t.desc,i=t.ordering,s=[],n=function(t){var e,i=0;for(e=0;e<t.length;e+=1){if(isNaN(t[e])){i=void 0;break}i+=parseFloat(t[e])}return i},a=function(t,e){var i=0,s=n(t),r=n(e);return isNaN(s)||isNaN(r)?isNaN(Date.parse(t[0]))||isNaN(Date.parse(e[0]))?t[0]<e[0]?i=-1:t[0]>e[0]&&(i=1):i=Date.parse(t[0])-Date.parse(e[0]):i=parseFloat(s)-parseFloat(r),i};"function"==typeof i?r.push(function(t,s){return(e?-1:1)*i(t,s)}):t.values&&t.values.length>0?(t.values.forEach(function(t){s.push([].concat(t).join("|"))},this),r.push(function(t,i){var n,r,a,l="",h="";for(a=0;a<o.length;a+=1)a>0&&(l+="|",h+="|"),l+=t[o[a]],h+=i[o[a]];return n=s.indexOf(l),r=s.indexOf(h),n=0>n?e?-1:s.length:n,r=0>r?e?-1:s.length:r,(e?-1:1)*(n-r)})):[].concat(t.ordering).forEach(function(t){r.push(function(i,s){var n=0;return void 0!==i[t]&&void 0!==s[t]&&(n=a([].concat(i[t]),[].concat(s[t]))),(e?-1:1)*n})})}),n.sort(function(t,e){for(var i=0,s=0;i<r.length&&0===s;)s=r[i](t,e),i+=1;return s}),n.forEach(function(t){var e,i=[];if(1===o.length)a.push(t[o[0]]);else{for(e=0;e<o.length;e+=1)i.push(t[o[e]]);a.push(i)}},this)),a},e._getSeriesOrder=function(t,i){var s=[].concat(i._orderRules),n=i.categoryFields,r=[];return null!==n&&void 0!==n&&n.length>0&&(null!==i.c&&void 0!==i.c&&i.c._hasMeasure()&&s.push({ordering:i.c.measure,desc:!0}),i.x._hasMeasure()&&s.push({ordering:i.x.measure,desc:!0}),i.y._hasMeasure()&&s.push({ordering:i.y.measure,desc:!0}),r=e._getOrderedList(t,n,s)),r},e._getSeriesSortPredicate=function(t,i,s){return function(n,r){var a=0;return i.x._hasCategories()&&(a=e._helpers.cx(n,t,i)-e._helpers.cx(r,t,i)),0===a&&i.y._hasCategories()&&(a=e._helpers.cy(n,t,i)-e._helpers.cy(r,t,i)),0===a&&s&&(a=e._arrayIndexCompare(s,n.aggField,r.aggField)),a}},e._helpers={cx:function(t,i,s){var n=0;return n=null!==s.x.measure&&void 0!==s.x.measure?s.x._scale(t.cx):s.x._hasCategories()&&s.x.categoryFields.length>=2?s.x._scale(t.cx)+e._helpers.xGap(i,s)+(t.xOffset+.5)*(i._widthPixels()/s.x._max-2*e._helpers.xGap(i,s))*t.width:s.x._scale(t.cx)+i._widthPixels()/s.x._max/2},cy:function(t,i,s){var n=0;return n=null!==s.y.measure&&void 0!==s.y.measure?s.y._scale(t.cy):null!==s.y.categoryFields&&void 0!==s.y.categoryFields&&s.y.categoryFields.length>=2?s.y._scale(t.cy)-i._heightPixels()/s.y._max+e._helpers.yGap(i,s)+(t.yOffset+.5)*(i._heightPixels()/s.y._max-2*e._helpers.yGap(i,s))*t.height:s.y._scale(t.cy)-i._heightPixels()/s.y._max/2},r:function(t,e,i){var s=0,n=1;return null===i.z||void 0===i.z?s=i.radius&&"auto"!==i.radius?i.radius:5:(i.radius&&"auto"!==i.radius&&i.radius>1&&(n=i.radius/i.z._scale(i.z._max)),s=i.z._hasMeasure()?i.z._scale(t.r)*n:i.z._scale(e._heightPixels()/100)*n),s},xGap:function(t,e){var i=0;return(null===e.x.measure||void 0===e.x.measure)&&e.barGap>0&&(i=t._widthPixels()/e.x._max*(e.barGap>.99?.99:e.barGap)/2),i},xClusterGap:function(t,i,s){var n=0;return null!==s.x.categoryFields&&void 0!==s.x.categoryFields&&s.x.categoryFields.length>=2&&s.clusterBarGap>0&&!s.x._hasMeasure()&&(n=t.width*(i._widthPixels()/s.x._max-2*e._helpers.xGap(i,s))*(s.clusterBarGap>.99?.99:s.clusterBarGap)/2),n},yGap:function(t,e){var i=0;return(null===e.y.measure||void 0===e.y.measure)&&e.barGap>0&&(i=t._heightPixels()/e.y._max*(e.barGap>.99?.99:e.barGap)/2),i},yClusterGap:function(t,i,s){var n=0;return null!==s.y.categoryFields&&void 0!==s.y.categoryFields&&s.y.categoryFields.length>=2&&s.clusterBarGap>0&&!s.y._hasMeasure()&&(n=t.height*(i._heightPixels()/s.y._max-2*e._helpers.yGap(i,s))*(s.clusterBarGap>.99?.99:s.clusterBarGap)/2),n},x:function(t,i,s){var n=0;return n=s.x._hasTimeField()?s.x._scale(t.x)-e._helpers.width(t,i,s)/2:null!==s.x.measure&&void 0!==s.x.measure?s.x._scale(t.x):s.x._scale(t.x)+e._helpers.xGap(i,s)+t.xOffset*(e._helpers.width(t,i,s)+2*e._helpers.xClusterGap(t,i,s))+e._helpers.xClusterGap(t,i,s)},y:function(t,i,s){var n=0;return n=s.y._hasTimeField()?s.y._scale(t.y)-e._helpers.height(t,i,s)/2:null!==s.y.measure&&void 0!==s.y.measure?s.y._scale(t.y):s.y._scale(t.y)-i._heightPixels()/s.y._max+e._helpers.yGap(i,s)+t.yOffset*(e._helpers.height(t,i,s)+2*e._helpers.yClusterGap(t,i,s))+e._helpers.yClusterGap(t,i,s)},width:function(t,i,s){var n=0;return n=null!==s.x.measure&&void 0!==s.x.measure?Math.abs(s.x._scale(t.x<0?t.x-t.width:t.x+t.width)-s.x._scale(t.x)):s.x._hasTimeField()?s.x.floatingBarWidth:t.width*(i._widthPixels()/s.x._max-2*e._helpers.xGap(i,s))-2*e._helpers.xClusterGap(t,i,s)},height:function(t,i,s){var n=0;return n=s.y._hasTimeField()?s.y.floatingBarWidth:null!==s.y.measure&&void 0!==s.y.measure?Math.abs(s.y._scale(t.y)-s.y._scale(t.y<=0?t.y+t.height:t.y-t.height)):t.height*(i._heightPixels()/s.y._max-2*e._helpers.yGap(i,s))-2*e._helpers.yClusterGap(t,i,s)},opacity:function(t,e,i){var s=0;return s=null!==i.c&&void 0!==i.c?t.opacity:e.getColor(t.aggField.slice(-1)[0]).opacity},fill:function(t,e,i){var s=0;return s=null!==i.c&&void 0!==i.c?t.fill:e.getColor(t.aggField.slice(-1)[0]).fill},stroke:function(t,e,i){var s=0;return s=null!==i.c&&void 0!==i.c?t.stroke:e.getColor(t.aggField.slice(-1)[0]).stroke},css:function(t,e){return e.getClass(t.aggField.slice(-1)[0])}},e._parentHeight=function(t){var i=t.offsetHeight;return(0>=i||null===i||void 0===i)&&(i=t.clientHeight),(0>=i||null===i||void 0===i)&&(i=null===t.parentNode||void 0===t.parentNode?0:e._parentHeight(t.parentNode)),i},e._parentWidth=function(t){var i=t.offsetWidth;return(!i||0>i)&&(i=t.clientWidth),(!i||0>i)&&(i=t.parentNode?e._parentWidth(t.parentNode):0),i},e._parsePosition=function(t,e){var i,s=0;return t&&(i=t.toString().split(","),i.forEach(function(i){i&&(isNaN(i)?"%"===i.slice(-1)?s+=e*(parseFloat(i.slice(0,i.length-1))/100):"px"===i.slice(-2)?s+=parseFloat(i.slice(0,i.length-2)):s=t:s+=parseFloat(i))},this)),0>s&&(s=e+s),s},e._parseXPosition=function(t,i){return e._parsePosition(t,e._parentWidth(i))},e._parseYPosition=function(t,i){return e._parsePosition(t,e._parentHeight(i))},e._postDrawHandling=function(e,i,s,n){0===n?(i.each(function(t,i){null!==e.afterDraw&&void 0!==e.afterDraw&&e.afterDraw(this,t,i)}),s.remove()):(i.each("end",function(t,i){null!==e.afterDraw&&void 0!==e.afterDraw&&e.afterDraw(this,t,i)}),s.each("end",function(){t.select(this).remove()}))},e._removeTooltip=function(t,e,i,s){i._tooltipGroup&&i._tooltipGroup.remove()},e._rollUp=function(t,e,i){var s=[];return e=null!==e&&void 0!==e?[].concat(e):[],t.forEach(function(t){var n=-1,r={},a=!0;s.forEach(function(i,s){-1===n&&(a=!0,e.forEach(function(e){a=a&&t[e]===i[e]},this),a&&(n=s))},this),-1!==n?r=s[n]:(e.forEach(function(e){r[e]=t[e]},this),s.push(r),n=s.length-1),i.forEach(function(i){-1===e.indexOf(i)&&(void 0===r[i]&&(r[i]=[]),r[i]=r[i].concat(t[i]))},this),s[n]=r},this),s},e._showBarTooltip=function(e,i,s,n){var r,a,o,l,h,u,c=5,d=10,p=750,f=t.select(i),g=f.node().getBBox().x,m=f.node().getBBox().y,v=f.node().getBBox().width,y=f.node().getBBox().height,_=f.attr("opacity"),x=f.attr("fill"),w=n._dropLineOrigin(),k=t.rgb(t.rgb(x).r+.6*(255-t.rgb(x).r),t.rgb(x).g+.6*(255-t.rgb(x).g),t.rgb(x).b+.6*(255-t.rgb(x).b)),b=t.rgb(t.rgb(x).r+.8*(255-t.rgb(x).r),t.rgb(x).g+.8*(255-t.rgb(x).g),t.rgb(x).b+.8*(255-t.rgb(x).b)),S=n.getTooltipText(e),C=0,P=0,F=0,E=function(t,e){var i=f.node().getCTM(),n=s.svg.node().createSVGPoint();return n.x=t||0,n.y=e||0,n.matrixTransform(i)};null!==s._tooltipGroup&&void 0!==s._tooltipGroup&&s._tooltipGroup.remove(),s._tooltipGroup=s.svg.append("g"),n.p||(u=n._isStacked()?1:v/2,n.x._hasCategories()||null===w.y||s._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+s.customClassList.tooltipDropLine).attr("x1",g<n.x._origin?g+u:g+v-u).attr("y1",m<w.y?m+y:m).attr("x2",g<n.x._origin?g+u:g+v-u).attr("y2",m<w.y?m+y:m).call(function(){s.noFormats||this.style("fill","none").style("stroke",x).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",_)}).transition().delay(p/2).duration(p/2).ease("linear").attr("y2",m<w.y?w.y-1:w.y+1),u=n._isStacked()?1:y/2,n.y._hasCategories()||null===w.x||s._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+s.customClassList.tooltipDropLine).attr("x1",g<w.x?g+v:g).attr("y1",m<n.y._origin?m+u:m+y-u).attr("x2",g<w.x?g+v:g).attr("y2",m<n.y._origin?m+u:m+y-u).call(function(){s.noFormats||this.style("fill","none").style("stroke",x).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",_)}).transition().delay(p/2).duration(p/2).ease("linear").attr("x2",g<w.x?w.x-1:w.x+1)),r=s._tooltipGroup.append("g"),a=r.append("rect").attr("class","dimple-tooltip "+s.customClassList.tooltipBox),r.selectAll(".dimple-dont-select-any").data(S).enter().append("text").attr("class","dimple-tooltip "+s.customClassList.tooltipLabel).text(function(t){return t}).call(function(){s.noFormats||this.style("font-family",n.tooltipFontFamily).style("font-size",n._getTooltipFontSize())}),r.each(function(){P=this.getBBox().width>P?this.getBBox().width:P,F=this.getBBox().width>F?this.getBBox().height:F}),r.selectAll("text").attr("x",0).attr("y",function(){return C+=this.getBBox().height,C-this.getBBox().height/2}),a.attr("x",-c).attr("y",-c).attr("height",Math.floor(C+c)-.5).attr("width",P+2*c).attr("rx",5).attr("ry",5).call(function(){s.noFormats||this.style("fill",b).style("stroke",k).style("stroke-width",2).style("opacity",.95)}),E(g+v+c+d+P).x<parseFloat(s.svg.node().getBBox().width)?(o=g+v+c+d,l=m+y/2-(C-(F-c))/2):E(g-(c+d+P)).x>0?(o=g-(c+d+P),l=m+y/2-(C-(F-c))/2):E(0,m+y+C+d+c).y<parseFloat(s.svg.node().getBBox().height)?(o=g+v/2-(2*c+P)/2,o=o>0?o:d,o=o+P<parseFloat(s.svg.node().getBBox().width)?o:parseFloat(s.svg.node().getBBox().width)-P-d,l=m+y+2*c):(o=g+v/2-(2*c+P)/2,o=o>0?o:d,o=o+P<parseFloat(s.svg.node().getBBox().width)?o:parseFloat(s.svg.node().getBBox().width)-P-d,l=m-C-(F-c)),h=E(o,l),r.attr("transform","translate("+h.x+" , "+h.y+")")},e._showPointTooltip=function(i,s,n,r){var a,o,l,h,u=5,c=10,d=750,p=t.select(s),f=parseFloat(p.attr("cx")),g=parseFloat(p.attr("cy")),m=parseFloat(p.attr("r")),v=e._helpers.opacity(i,n,r),y=p.attr("stroke"),_=r._dropLineOrigin(),x=t.rgb(t.rgb(y).r+.6*(255-t.rgb(y).r),t.rgb(y).g+.6*(255-t.rgb(y).g),t.rgb(y).b+.6*(255-t.rgb(y).b)),w=t.rgb(t.rgb(y).r+.8*(255-t.rgb(y).r),t.rgb(y).g+.8*(255-t.rgb(y).g),t.rgb(y).b+.8*(255-t.rgb(y).b)),k=0,b=0,S=0,C=r.getTooltipText(i);null!==n._tooltipGroup&&void 0!==n._tooltipGroup&&n._tooltipGroup.remove(),n._tooltipGroup=n.svg.append("g"),n._tooltipGroup.append("circle").attr("cx",f).attr("cy",g).attr("r",m).call(function(){n.noFormats||this.attr("opacity",0).style("fill","none").style("stroke",y).style("stroke-width",1)}).transition().duration(d/2).ease("linear").attr("r",m+r.lineWeight+2).call(function(){n.noFormats||this.attr("opacity",1).style("stroke-width",2)}),null!==_.y&&n._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+n.customClassList.tooltipDropLine).attr("x1",f).attr("y1",g<_.y?g+m+r.lineWeight+2:g-m-r.lineWeight-2).attr("x2",f).attr("y2",g<_.y?g+m+r.lineWeight+2:g-m-r.lineWeight-2).call(function(){n.noFormats||this.style("fill","none").style("stroke",y).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",v)}).transition().delay(d/2).duration(d/2).ease("linear").attr("y2",g<_.y?_.y-1:_.y+1),null!==_.x&&n._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+n.customClassList.tooltipDropLine).attr("x1",f<_.x?f+m+r.lineWeight+2:f-m-r.lineWeight-2).attr("y1",g).attr("x2",f<_.x?f+m+r.lineWeight+2:f-m-r.lineWeight-2).attr("y2",g).call(function(){n.noFormats||this.style("fill","none").style("stroke",y).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",v)}).transition().delay(d/2).duration(d/2).ease("linear").attr("x2",f<_.x?_.x-1:_.x+1),a=n._tooltipGroup.append("g"),o=a.append("rect").attr("class","dimple-tooltip "+n.customClassList.tooltipBox),a.selectAll(".dont-select-any").data(C).enter().append("text").attr("class","dimple-tooltip "+n.customClassList.tooltipLabel).text(function(t){return t}).call(function(){n.noFormats||this.style("font-family",r.tooltipFontFamily).style("font-size",r._getTooltipFontSize())}),a.each(function(){b=this.getBBox().width>b?this.getBBox().width:b,S=this.getBBox().width>S?this.getBBox().height:S}),a.selectAll("text").attr("x",0).attr("y",function(){return k+=this.getBBox().height,k-this.getBBox().height/2}),o.attr("x",-u).attr("y",-u).attr("height",Math.floor(k+u)-.5).attr("width",b+2*u).attr("rx",5).attr("ry",5).call(function(){n.noFormats||this.style("fill",w).style("stroke",x).style("stroke-width",2).style("opacity",.95)}),f+m+u+c+b<parseFloat(n.svg.node().getBBox().width)?(l=f+m+u+c,h=g-(k-(S-u))/2):f-m-(u+c+b)>0?(l=f-m-(u+c+b),h=g-(k-(S-u))/2):g+m+k+c+u<parseFloat(n.svg.node().getBBox().height)?(l=f-(2*u+b)/2,l=l>0?l:c,l=l+b<parseFloat(n.svg.node().getBBox().width)?l:parseFloat(n.svg.node().getBBox().width)-b-c,h=g+m+2*u):(l=f-(2*u+b)/2,l=l>0?l:c,l=l+b<parseFloat(n.svg.node().getBBox().width)?l:parseFloat(n.svg.node().getBBox().width)-b-c,h=g-k-(S-u)),a.attr("transform","translate("+l+" , "+h+")")},e.filterData=function(t,e,i){var s=t;return null!==e&&null!==i&&(null!==i&&void 0!==i&&(i=[].concat(i)),s=[],t.forEach(function(t){null===t[e]?s.push(t):i.indexOf([].concat(t[e]).join("/"))>-1&&s.push(t)},this)),s},e.getUniqueValues=function(t,e){var i=[];return null!==e&&void 0!==e&&(e=[].concat(e),t.forEach(function(t){var s="";e.forEach(function(e,i){i>0&&(s+="/"),s+=t[e]},this),-1===i.indexOf(s)&&i.push(s)},this)),i},e.newSvg=function(e,i,s){var n=null;if((null===e||void 0===e)&&(e="body"),n=t.select(e),n.empty())throw"The '"+e+"' selector did not match any elements.  Please prefix with '#' to select by id or '.' to select by class";return n.append("svg").attr("width",i).attr("height",s)},e}),angular.module("rzModule",[]).run(["$templateCache",function(t){"use strict";var e='<span class="rz-bar"></span><span class="rz-bar rz-selection"></span><span class="rz-pointer"></span><span class="rz-pointer"></span><span class="rz-bubble rz-limit"></span><span class="rz-bubble rz-limit"></span><span class="rz-bubble"></span><span class="rz-bubble"></span><span class="rz-bubble"></span>';t.put("rzSliderTpl.html",e)}]).value("throttle",function(t,e,i){"use strict";var s,n,r,a=Date.now||function(){return(new Date).getTime()},o=null,l=0;i=i||{};var h=function(){l=i.leading===!1?0:a(),o=null,r=t.apply(s,n),s=n=null};return function(){var u=a();l||i.leading!==!1||(l=u);var c=e-(u-l);return s=this,n=arguments,0>=c?(clearTimeout(o),o=null,l=u,r=t.apply(s,n),s=n=null):o||i.trailing===!1||(o=setTimeout(h,c)),r}}).factory("RzSlider",["$timeout","$document","$window","throttle",function(t,e,i,s){"use strict";var n=function(t,e,i){this.scope=t,this.attributes=i,this.sliderElem=e,this.range=void 0!==i.rzSliderHigh&&void 0!==i.rzSliderModel,this.handleHalfWidth=0,this.alwaysShowBar=!!i.rzSliderAlwaysShowBar,this.maxLeft=0,this.precision=0,this.step=0,this.tracking="",this.minValue=0,this.maxValue=0,this.hideLimitLabels=!!i.rzSliderHideLimitLabels,this.presentOnly="true"===i.rzSliderPresentOnly,this.valueRange=0,this.initHasRun=!1,this.customTrFn=this.scope.rzSliderTranslate()||function(t){return String(t)},this.deRegFuncs=[],this.fullBar=null,this.selBar=null,this.minH=null,this.maxH=null,this.flrLab=null,this.ceilLab=null,this.minLab=null,this.maxLab=null,this.cmbLab=null,this.init()};return n.prototype={init:function(){var e,n,r,a=angular.bind(this,this.calcViewDimensions),o=this;this.initElemHandles(),this.calcViewDimensions(),this.setMinAndMax(),this.precision=void 0===this.scope.rzSliderPrecision?0:+this.scope.rzSliderPrecision,this.step=void 0===this.scope.rzSliderStep?1:+this.scope.rzSliderStep,t(function(){o.updateCeilLab(),o.updateFloorLab(),o.initHandles(),o.presentOnly||o.bindEvents()}),r=this.scope.$on("reCalcViewDimensions",a),this.deRegFuncs.push(r),angular.element(i).on("resize",a),this.initHasRun=!0,e=s(function(){o.setMinAndMax(),o.updateLowHandle(o.valueToOffset(o.scope.rzSliderModel)),o.updateSelectionBar(),o.range&&o.updateCmbLabel()},350,{leading:!1}),n=s(function(){o.setMinAndMax(),o.updateHighHandle(o.valueToOffset(o.scope.rzSliderHigh)),o.updateSelectionBar(),o.updateCmbLabel()},350,{leading:!1}),this.scope.$on("rzSliderForceRender",function(){o.resetLabelsValue(),e(),o.range&&n(),o.resetSlider()}),r=this.scope.$watch("rzSliderModel",function(t,i){t!==i&&e()}),this.deRegFuncs.push(r),r=this.scope.$watch("rzSliderHigh",function(t,e){t!==e&&n()}),this.deRegFuncs.push(r),this.scope.$watch("rzSliderFloor",function(t,e){t!==e&&o.resetSlider()}),this.deRegFuncs.push(r),r=this.scope.$watch("rzSliderCeil",function(t,e){t!==e&&o.resetSlider()}),this.deRegFuncs.push(r),this.scope.$on("$destroy",function(){o.minH.off(),o.maxH.off(),angular.element(i).off("resize",a),o.deRegFuncs.map(function(t){t()})})},resetSlider:function(){this.setMinAndMax(),this.calcViewDimensions(),this.updateCeilLab(),this.updateFloorLab()},resetLabelsValue:function(){this.minLab.rzsv=void 0,this.maxLab.rzsv=void 0},initHandles:function(){this.updateLowHandle(this.valueToOffset(this.scope.rzSliderModel)),this.range&&(this.updateHighHandle(this.valueToOffset(this.scope.rzSliderHigh)),this.updateCmbLabel()),this.updateSelectionBar()},translateFn:function(t,e,i){i=void 0===i?!0:i;var s=String(i?this.customTrFn(t):t),n=!1;(void 0===e.rzsv||e.rzsv.length!==s.length||e.rzsv.length>0&&0===e.rzsw)&&(n=!0,e.rzsv=s),e.text(s),n&&this.getWidth(e)},setMinAndMax:function(){this.minValue=this.scope.rzSliderFloor?+this.scope.rzSliderFloor:this.scope.rzSliderFloor=0,this.scope.rzSliderCeil?this.maxValue=+this.scope.rzSliderCeil:this.scope.rzSliderCeil=this.maxValue=this.range?this.scope.rzSliderHigh:this.scope.rzSliderModel,this.scope.rzSliderStep&&(this.step=+this.scope.rzSliderStep),this.valueRange=this.maxValue-this.minValue},initElemHandles:function(){angular.forEach(this.sliderElem.children(),function(t,e){var i=angular.element(t);switch(e){case 0:this.fullBar=i;break;case 1:this.selBar=i;break;case 2:this.minH=i;break;case 3:this.maxH=i;break;case 4:this.flrLab=i;break;case 5:this.ceilLab=i;break;case 6:this.minLab=i;break;case 7:this.maxLab=i;break;case 8:this.cmbLab=i}},this),this.fullBar.rzsl=0,this.selBar.rzsl=0,this.minH.rzsl=0,this.maxH.rzsl=0,this.flrLab.rzsl=0,this.ceilLab.rzsl=0,this.minLab.rzsl=0,this.maxLab.rzsl=0,this.cmbLab.rzsl=0,this.hideLimitLabels&&(this.flrLab.rzAlwaysHide=!0,this.ceilLab.rzAlwaysHide=!0,this.hideEl(this.flrLab),this.hideEl(this.ceilLab)),this.range===!1&&(this.cmbLab.remove(),this.maxLab.remove(),this.maxH.rzAlwaysHide=!0,this.maxH[0].style.zIndex="-1000",this.hideEl(this.maxH)),this.range===!1&&this.alwaysShowBar===!1&&(this.maxH.remove(),this.selBar.remove())},calcViewDimensions:function(){var t=this.getWidth(this.minH);this.handleHalfWidth=t/2,this.barWidth=this.getWidth(this.fullBar),this.maxLeft=this.barWidth-t,this.getWidth(this.sliderElem),this.sliderElem.rzsl=this.sliderElem[0].getBoundingClientRect().left,this.initHasRun&&(this.updateCeilLab(),this.initHandles())},updateCeilLab:function(){this.translateFn(this.scope.rzSliderCeil,this.ceilLab),this.setLeft(this.ceilLab,this.barWidth-this.ceilLab.rzsw),this.getWidth(this.ceilLab)},updateFloorLab:function(){this.translateFn(this.scope.rzSliderFloor,this.flrLab),this.getWidth(this.flrLab)},updateHandles:function(t,e){return"rzSliderModel"===t?(this.updateLowHandle(e),this.updateSelectionBar(),void(this.range&&this.updateCmbLabel())):"rzSliderHigh"===t?(this.updateHighHandle(e),this.updateSelectionBar(),void(this.range&&this.updateCmbLabel())):(this.updateLowHandle(e),this.updateHighHandle(e),this.updateSelectionBar(),void this.updateCmbLabel())},updateLowHandle:function(t){var e=Math.abs(this.minH.rzsl-t);0>=e&&1>e||(this.setLeft(this.minH,t),this.translateFn(this.scope.rzSliderModel,this.minLab),this.setLeft(this.minLab,t-this.minLab.rzsw/2+this.handleHalfWidth),this.shFloorCeil())},updateHighHandle:function(t){this.setLeft(this.maxH,t),this.translateFn(this.scope.rzSliderHigh,this.maxLab),this.setLeft(this.maxLab,t-this.maxLab.rzsw/2+this.handleHalfWidth),this.shFloorCeil()},shFloorCeil:function(){var t=!1,e=!1;this.minLab.rzsl<=this.flrLab.rzsl+this.flrLab.rzsw+5?(t=!0,this.hideEl(this.flrLab)):(t=!1,this.showEl(this.flrLab)),this.minLab.rzsl+this.minLab.rzsw>=this.ceilLab.rzsl-this.handleHalfWidth-10?(e=!0,this.hideEl(this.ceilLab)):(e=!1,this.showEl(this.ceilLab)),this.range&&(this.maxLab.rzsl+this.maxLab.rzsw>=this.ceilLab.rzsl-10?this.hideEl(this.ceilLab):e||this.showEl(this.ceilLab),this.maxLab.rzsl<=this.flrLab.rzsl+this.flrLab.rzsw+this.handleHalfWidth?this.hideEl(this.flrLab):t||this.showEl(this.flrLab))},updateSelectionBar:function(){this.setWidth(this.selBar,Math.abs(this.maxH.rzsl-this.minH.rzsl)),this.setLeft(this.selBar,this.range?this.minH.rzsl+this.handleHalfWidth:0)},updateCmbLabel:function(){var t,e;this.minLab.rzsl+this.minLab.rzsw+10>=this.maxLab.rzsl?(this.customTrFn?(t=this.customTrFn(this.scope.rzSliderModel),e=this.customTrFn(this.scope.rzSliderHigh)):(t=this.scope.rzSliderModel,e=this.scope.rzSliderHigh),this.translateFn(t+" - "+e,this.cmbLab,!1),this.setLeft(this.cmbLab,this.selBar.rzsl+this.selBar.rzsw/2-this.cmbLab.rzsw/2),this.hideEl(this.minLab),this.hideEl(this.maxLab),this.showEl(this.cmbLab)):(this.showEl(this.maxLab),this.showEl(this.minLab),this.hideEl(this.cmbLab))},roundStep:function(t){var e=this.step,i=+((t-this.minValue)%e).toFixed(3),s=i>e/2?t+e-i:t-i;return s=s.toFixed(this.precision),+s},hideEl:function(t){return t.css({opacity:0})},showEl:function(t){return t.rzAlwaysHide?t:t.css({opacity:1})},setLeft:function(t,e){return t.rzsl=e,t.css({left:e+"px"}),e},getWidth:function(t){var e=t[0].getBoundingClientRect();return t.rzsw=e.right-e.left,t.rzsw},setWidth:function(t,e){return t.rzsw=e,t.css({width:e+"px"}),e},valueToOffset:function(t){return(t-this.minValue)*this.maxLeft/this.valueRange},offsetToValue:function(t){return t/this.maxLeft*this.valueRange+this.minValue},bindEvents:function(){this.minH.on("mousedown",angular.bind(this,this.onStart,this.minH,"rzSliderModel")),this.range&&this.maxH.on("mousedown",angular.bind(this,this.onStart,this.maxH,"rzSliderHigh")),this.minH.on("touchstart",angular.bind(this,this.onStart,this.minH,"rzSliderModel")),this.range&&this.maxH.on("touchstart",angular.bind(this,this.onStart,this.maxH,"rzSliderHigh"))},onStart:function(t,i,s){var n,r,a=this.getEventNames(s);s.stopPropagation(),s.preventDefault(),""===this.tracking&&(this.calcViewDimensions(),this.tracking=i,t.addClass("rz-active"),n=angular.bind(this,this.onMove,t),r=angular.bind(this,this.onEnd,n),e.on(a.moveEvent,n),e.one(a.endEvent,r))},onMove:function(t,e){var i,s,n,r;return i="clientX"in e?e.clientX:void 0===e.originalEvent?e.touches[0].clientX:e.originalEvent.touches[0].clientX,s=this.sliderElem.rzsl,n=i-s-this.handleHalfWidth,0>=n?void(0!==t.rzsl&&(this.scope[this.tracking]=this.minValue,this.updateHandles(this.tracking,0),this.scope.$apply())):n>=this.maxLeft?void(t.rzsl!==this.maxLeft&&(this.scope[this.tracking]=this.maxValue,this.updateHandles(this.tracking,this.maxLeft),this.scope.$apply())):(r=this.offsetToValue(n),r=this.roundStep(r),n=this.valueToOffset(r),this.range&&("rzSliderModel"===this.tracking&&r>=this.scope.rzSliderHigh?(this.scope[this.tracking]=this.scope.rzSliderHigh,this.updateHandles(this.tracking,this.maxH.rzsl),
this.tracking="rzSliderHigh",this.minH.removeClass("rz-active"),this.maxH.addClass("rz-active")):"rzSliderHigh"===this.tracking&&r<=this.scope.rzSliderModel&&(this.scope[this.tracking]=this.scope.rzSliderModel,this.updateHandles(this.tracking,this.minH.rzsl),this.tracking="rzSliderModel",this.maxH.removeClass("rz-active"),this.minH.addClass("rz-active"))),void(this.scope[this.tracking]!==r&&(this.scope[this.tracking]=r,this.updateHandles(this.tracking,n),this.scope.$apply())))},onEnd:function(t,i){var s=this.getEventNames(i).moveEvent;this.minH.removeClass("rz-active"),this.maxH.removeClass("rz-active"),e.off(s,t),this.scope.$emit("slideEnded"),this.tracking=""},getEventNames:function(t){var e={moveEvent:"",endEvent:""};return t.touches||void 0!==t.originalEvent&&t.originalEvent.touches?(e.moveEvent="touchmove",e.endEvent="touchend"):(e.moveEvent="mousemove",e.endEvent="mouseup"),e}},n}]).directive("rzslider",["RzSlider",function(t){"use strict";return{restrict:"E",scope:{rzSliderFloor:"=?",rzSliderCeil:"=?",rzSliderStep:"@",rzSliderPrecision:"@",rzSliderModel:"=?",rzSliderHigh:"=?",rzSliderTranslate:"&",rzSliderHideLimitLabels:"=?",rzSliderAlwaysShowBar:"=?",rzSliderPresentOnly:"@"},templateUrl:function(t,e){return e.rzSliderTplUrl||"rzSliderTpl.html"},link:function(e,i,s){return new t(e,i,s)}}}]),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.ProgressBar=t()}}(function(){var t;return function e(t,i,s){function n(a,o){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!o&&l)return l(a,!0);if(r)return r(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var u=i[a]={exports:{}};t[a][0].call(u.exports,function(e){var i=t[a][1][e];return n(i?i:e)},u,u.exports,e,t,i,s)}return i[a].exports}for(var r="function"==typeof require&&require,a=0;a<s.length;a++)n(s[a]);return n}({1:[function(e,i,s){(function(){var e=this,n=function(){"use strict";function n(){}function r(t,e){var i;for(i in t)Object.hasOwnProperty.call(t,i)&&e(i)}function a(t,e){return r(e,function(i){t[i]=e[i]}),t}function o(t,e){r(e,function(i){"undefined"==typeof t[i]&&(t[i]=e[i])})}function l(t,e,i,s,n,r,a){var o,l,u,c=r>t?0:(t-r)/n;for(o in e)e.hasOwnProperty(o)&&(l=a[o],u="function"==typeof l?l:f[l],e[o]=h(i[o],s[o],u,c));return e}function h(t,e,i,s){return t+(e-t)*i(s)}function u(t,e){var i=p.prototype.filter,s=t._filterArgs;r(i,function(n){"undefined"!=typeof i[n][e]&&i[n][e].apply(t,s)})}function c(t,e,i,s,n,r,a,o,h,c,d){w=e+i+s,k=Math.min(d||x(),w),b=k>=w,S=s-(w-k),t.isPlaying()&&!b?(t._scheduleId=c(t._timeoutHandler,y),u(t,"beforeTween"),e+i>k?l(1,n,r,a,1,1,o):l(k,n,r,a,s,e+i,o),u(t,"afterTween"),h(n,t._attachment,S)):t.isPlaying()&&b&&(h(a,t._attachment,S),t.stop(!0))}function d(t,e){var i={},s=typeof e;return"string"===s||"function"===s?r(t,function(t){i[t]=e}):r(t,function(t){i[t]||(i[t]=e[t]||m)}),i}function p(t,e){this._currentState=t||{},this._configured=!1,this._scheduleFunction=g,"undefined"!=typeof e&&this.setConfig(e)}var f,g,m="linear",v=500,y=1e3/60,_=Date.now?Date.now:function(){return+new Date},x="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:_;g="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout;var w,k,b,S;return p.prototype.tween=function(t){return this._isTweening?this:(void 0===t&&this._configured||this.setConfig(t),this._timestamp=x(),this._start(this.get(),this._attachment),this.resume())},p.prototype.setConfig=function(t){t=t||{},this._configured=!0,this._attachment=t.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=t.delay||0,this._start=t.start||n,this._step=t.step||n,this._finish=t.finish||n,this._duration=t.duration||v,this._currentState=a({},t.from)||this.get(),this._originalState=this.get(),this._targetState=a({},t.to)||this.get();var e=this;this._timeoutHandler=function(){c(e,e._timestamp,e._delay,e._duration,e._currentState,e._originalState,e._targetState,e._easing,e._step,e._scheduleFunction)};var i=this._currentState,s=this._targetState;return o(s,i),this._easing=d(i,t.easing||m),this._filterArgs=[i,this._originalState,s,this._easing],u(this,"tweenCreated"),this},p.prototype.get=function(){return a({},this._currentState)},p.prototype.set=function(t){this._currentState=t},p.prototype.pause=function(){return this._pausedAtTime=x(),this._isPaused=!0,this},p.prototype.resume=function(){return this._isPaused&&(this._timestamp+=x()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},p.prototype.seek=function(t){t=Math.max(t,0);var e=x();return this._timestamp+t===0?this:(this._timestamp=e-t,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,c(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,e),this.pause()),this)},p.prototype.stop=function(t){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=n,(e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.oCancelAnimationFrame||e.msCancelAnimationFrame||e.mozCancelRequestAnimationFrame||e.clearTimeout)(this._scheduleId),t&&(u(this,"beforeTween"),l(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),u(this,"afterTween"),u(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},p.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},p.prototype.setScheduleFunction=function(t){this._scheduleFunction=t},p.prototype.dispose=function(){var t;for(t in this)this.hasOwnProperty(t)&&delete this[t]},p.prototype.filter={},p.prototype.formula={linear:function(t){return t}},f=p.prototype.formula,a(p,{now:x,each:r,tweenProps:l,tweenProp:h,applyFilter:u,shallowCopy:a,defaults:o,composeEasingObject:d}),"function"==typeof SHIFTY_DEBUG_NOW&&(e.timeoutHandler=c),"object"==typeof s?i.exports=p:"function"==typeof t&&t.amd?t(function(){return p}):"undefined"==typeof e.Tweenable&&(e.Tweenable=p),p}();!function(){n.shallowCopy(n.prototype.formula,{easeInQuad:function(t){return Math.pow(t,2)},easeOutQuad:function(t){return-(Math.pow(t-1,2)-1)},easeInOutQuad:function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},easeInCubic:function(t){return Math.pow(t,3)},easeOutCubic:function(t){return Math.pow(t-1,3)+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},easeInQuart:function(t){return Math.pow(t,4)},easeOutQuart:function(t){return-(Math.pow(t-1,4)-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeInQuint:function(t){return Math.pow(t,5)},easeOutQuint:function(t){return Math.pow(t-1,5)+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},easeInSine:function(t){return-Math.cos(t*(Math.PI/2))+1},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:-Math.pow(2,-10*t)+1},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-Math.pow(t-1,2))},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeOutBounce:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?.5*t*t*(((e*=1.525)+1)*t-e):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},elastic:function(t){return-1*Math.pow(4,-8*t)*Math.sin(2*(6*t-1)*Math.PI/2)+1},swingFromTo:function(t){var e=1.70158;return(t/=.5)<1?.5*t*t*(((e*=1.525)+1)*t-e):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},swingFrom:function(t){var e=1.70158;return t*t*((e+1)*t-e)},swingTo:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},bounce:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bouncePast:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?2-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},easeFromTo:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeFrom:function(t){return Math.pow(t,4)},easeTo:function(t){return Math.pow(t,.25)}})}(),function(){function t(t,e,i,s,n,r){function a(t){return((p*t+f)*t+g)*t}function o(t){return((m*t+v)*t+y)*t}function l(t){return(3*p*t+2*f)*t+g}function h(t){return 1/(200*t)}function u(t,e){return o(d(t,e))}function c(t){return t>=0?t:0-t}function d(t,e){var i,s,n,r,o,h;for(n=t,h=0;8>h;h++){if(r=a(n)-t,c(r)<e)return n;if(o=l(n),c(o)<1e-6)break;n-=r/o}if(i=0,s=1,n=t,i>n)return i;if(n>s)return s;for(;s>i;){if(r=a(n),c(r-t)<e)return n;t>r?i=n:s=n,n=.5*(s-i)+i}return n}var p=0,f=0,g=0,m=0,v=0,y=0;return g=3*e,f=3*(s-e)-g,p=1-g-f,y=3*i,v=3*(n-i)-y,m=1-y-v,u(t,h(r))}function e(e,i,s,n){return function(r){return t(r,e,i,s,n,1)}}n.setBezierFunction=function(t,i,s,r,a){var o=e(i,s,r,a);return o.displayName=t,o.x1=i,o.y1=s,o.x2=r,o.y2=a,n.prototype.formula[t]=o},n.unsetBezierFunction=function(t){delete n.prototype.formula[t]}}(),function(){function t(t,e,i,s,r,a){return n.tweenProps(s,e,t,i,1,a,r)}var e=new n;e._filterArgs=[],n.interpolate=function(i,s,r,a,o){var l=n.shallowCopy({},i),h=o||0,u=n.composeEasingObject(i,a||"linear");e.set({});var c=e._filterArgs;c.length=0,c[0]=l,c[1]=i,c[2]=s,c[3]=u,n.applyFilter(e,"tweenCreated"),n.applyFilter(e,"beforeTween");var d=t(i,l,s,r,u,h);return n.applyFilter(e,"afterTween"),d}}(),function(t){function e(t,e){var i,s=[],n=t.length;for(i=0;n>i;i++)s.push("_"+e+"_"+i);return s}function i(t){var e=t.match(w);return e?(1===e.length||t[0].match(x))&&e.unshift(""):e=["",""],e.join(P)}function s(e){t.each(e,function(t){var i=e[t];"string"==typeof i&&i.match(C)&&(e[t]=n(i))})}function n(t){return l(C,t,r)}function r(t){var e=a(t);return"rgb("+e[0]+","+e[1]+","+e[2]+")"}function a(t){return t=t.replace(/#/,""),3===t.length&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),F[0]=o(t.substr(0,2)),F[1]=o(t.substr(2,2)),F[2]=o(t.substr(4,2)),F}function o(t){return parseInt(t,16)}function l(t,e,i){var s=e.match(t),n=e.replace(t,P);if(s)for(var r,a=s.length,o=0;a>o;o++)r=s.shift(),n=n.replace(P,i(r));return n}function h(t){return l(b,t,u)}function u(t){for(var e=t.match(k),i=e.length,s=t.match(S)[0],n=0;i>n;n++)s+=parseInt(e[n],10)+",";return s=s.slice(0,-1)+")"}function c(s){var n={};return t.each(s,function(t){var r=s[t];if("string"==typeof r){var a=v(r);n[t]={formatString:i(r),chunkNames:e(a,t)}}}),n}function d(e,i){t.each(i,function(t){for(var s=e[t],n=v(s),r=n.length,a=0;r>a;a++)e[i[t].chunkNames[a]]=+n[a];delete e[t]})}function p(e,i){t.each(i,function(t){var s=e[t],n=f(e,i[t].chunkNames),r=g(n,i[t].chunkNames);s=m(i[t].formatString,r),e[t]=h(s)})}function f(t,e){for(var i,s={},n=e.length,r=0;n>r;r++)i=e[r],s[i]=t[i],delete t[i];return s}function g(t,e){E.length=0;for(var i=e.length,s=0;i>s;s++)E.push(t[e[s]]);return E}function m(t,e){for(var i=t,s=e.length,n=0;s>n;n++)i=i.replace(P,+e[n].toFixed(4));return i}function v(t){return t.match(k)}function y(e,i){t.each(i,function(t){var s,n=i[t],r=n.chunkNames,a=r.length,o=e[t];if("string"==typeof o){var l=o.split(" "),h=l[l.length-1];for(s=0;a>s;s++)e[r[s]]=l[s]||h}else for(s=0;a>s;s++)e[r[s]]=o;delete e[t]})}function _(e,i){t.each(i,function(t){var s=i[t],n=s.chunkNames,r=n.length,a=e[n[0]],o=typeof a;if("string"===o){for(var l="",h=0;r>h;h++)l+=" "+e[n[h]],delete e[n[h]];e[t]=l.substr(1)}else e[t]=a})}var x=/(\d|\-|\.)/,w=/([^\-0-9\.]+)/g,k=/[0-9.\-]+/g,b=new RegExp("rgb\\("+k.source+/,\s*/.source+k.source+/,\s*/.source+k.source+"\\)","g"),S=/^.*\(/,C=/#([0-9]|[a-f]){3,6}/gi,P="VAL",F=[],E=[];t.prototype.filter.token={tweenCreated:function(t,e,i,n){s(t),s(e),s(i),this._tokenData=c(t)},beforeTween:function(t,e,i,s){y(s,this._tokenData),d(t,this._tokenData),d(e,this._tokenData),d(i,this._tokenData)},afterTween:function(t,e,i,s){p(t,this._tokenData),p(e,this._tokenData),p(i,this._tokenData),_(s,this._tokenData)}}}(n)}).call(null)},{}],2:[function(t,e,i){var s=t("./shape"),n=t("./utils"),r=function(t,e){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",s.apply(this,arguments)};r.prototype=new s,r.prototype.constructor=r,r.prototype._pathString=function(t){var e=t.strokeWidth;t.trailWidth&&t.trailWidth>t.strokeWidth&&(e=t.trailWidth);var i=50-e/2;return n.render(this._pathTemplate,{radius:i,"2radius":2*i})},r.prototype._trailString=function(t){return this._pathString(t)},e.exports=r},{"./shape":7,"./utils":8}],3:[function(t,e,i){var s=t("./shape"),n=t("./utils"),r=function(t,e){this._pathTemplate="M 0,{center} L 100,{center}",s.apply(this,arguments)};r.prototype=new s,r.prototype.constructor=r,r.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 "+e.strokeWidth),t.setAttribute("preserveAspectRatio","none")},r.prototype._pathString=function(t){return n.render(this._pathTemplate,{center:t.strokeWidth/2})},r.prototype._trailString=function(t){return this._pathString(t)},e.exports=r},{"./shape":7,"./utils":8}],4:[function(t,e,i){e.exports={Line:t("./line"),Circle:t("./circle"),SemiCircle:t("./semicircle"),Path:t("./path"),Shape:t("./shape"),utils:t("./utils")}},{"./circle":2,"./line":3,"./path":5,"./semicircle":6,"./shape":7,"./utils":8}],5:[function(t,e,i){var s=t("shifty"),n=t("./utils"),r={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},a=function(t,e){e=n.extend({duration:800,easing:"linear",from:{},to:{},step:function(){}},e);var i;i=n.isString(t)?document.querySelector(t):t,this.path=i,this._opts=e,this._tweenable=null;var s=this.path.getTotalLength();this.path.style.strokeDasharray=s+" "+s,this.set(0)};a.prototype.value=function(){var t=this._getComputedDashOffset(),e=this.path.getTotalLength(),i=1-t/e;return parseFloat(i.toFixed(6),10)},a.prototype.set=function(t){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(t);var e=this._opts.step;if(n.isFunction(e)){var i=this._easing(this._opts.easing),s=this._calculateTo(t,i),r=this._opts.shape||this;e(s,r,this._opts.attachment)}},a.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},a.prototype.animate=function(t,e,i){e=e||{},n.isFunction(e)&&(i=e,e={});var r=n.extend({},e),a=n.extend({},this._opts);e=n.extend(a,e);var o=this._easing(e.easing),l=this._resolveFromAndTo(t,o,r);this.stop(),this.path.getBoundingClientRect();var h=this._getComputedDashOffset(),u=this._progressToOffset(t),c=this;this._tweenable=new s,this._tweenable.tween({from:n.extend({offset:h},l.from),to:n.extend({offset:u},l.to),duration:e.duration,easing:o,step:function(t){c.path.style.strokeDashoffset=t.offset;var i=e.shape||c;e.step(t,i,e.attachment)},finish:function(t){n.isFunction(i)&&i()}})},a.prototype._getComputedDashOffset=function(){var t=window.getComputedStyle(this.path,null);return parseFloat(t.getPropertyValue("stroke-dashoffset"),10)},a.prototype._progressToOffset=function(t){var e=this.path.getTotalLength();return e-t*e},a.prototype._resolveFromAndTo=function(t,e,i){return i.from&&i.to?{from:i.from,to:i.to}:{from:this._calculateFrom(e),to:this._calculateTo(t,e)}},a.prototype._calculateFrom=function(t){return s.interpolate(this._opts.from,this._opts.to,this.value(),t)},a.prototype._calculateTo=function(t,e){return s.interpolate(this._opts.from,this._opts.to,t,e)},a.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable.dispose(),this._tweenable=null)},a.prototype._easing=function(t){return r.hasOwnProperty(t)?r[t]:t},e.exports=a},{"./utils":8,shifty:1}],6:[function(t,e,i){var s=t("./shape"),n=t("./circle"),r=t("./utils"),a=function(t,e){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",s.apply(this,arguments)};a.prototype=new s,a.prototype.constructor=a,a.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 50")},a.prototype._initializeTextElement=function(t,e,i){t.text.style&&(i.style.top="auto",i.style.bottom="0",t.text.alignToBottom?r.setStyle(i,"transform","translate(-50%, 0)"):r.setStyle(i,"transform","translate(-50%, 50%)"))},a.prototype._pathString=n.prototype._pathString,a.prototype._trailString=n.prototype._trailString,e.exports=a},{"./circle":2,"./shape":7,"./utils":8}],7:[function(t,e,i){var s=t("./path"),n=t("./utils"),r="Object is destroyed",a=function o(t,e){if(!(this instanceof o))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=n.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},alignToBottom:!0,value:"",className:"progressbar-text"},svgStyle:{display:"block",width:"100%"}},e,!0);var i,r=this._createSvgView(this._opts);if(i=n.isString(t)?document.querySelector(t):t,!i)throw new Error("Container does not exist: "+t);this._container=i,this._container.appendChild(r.svg),this._opts.svgStyle&&n.setStyles(r.svg,this._opts.svgStyle),this.text=null,this._opts.text.value&&(this.text=this._createTextElement(this._opts,this._container),this._container.appendChild(this.text)),this.svg=r.svg,this.path=r.path,this.trail=r.trail;var a=n.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new s(r.path,a)}};a.prototype.animate=function(t,e,i){if(null===this._progressPath)throw new Error(r);this._progressPath.animate(t,e,i)},a.prototype.stop=function(){if(null===this._progressPath)throw new Error(r);void 0!==this._progressPath&&this._progressPath.stop()},a.prototype.destroy=function(){if(null===this._progressPath)throw new Error(r);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null,null!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},a.prototype.set=function(t){if(null===this._progressPath)throw new Error(r);this._progressPath.set(t)},a.prototype.value=function(){if(null===this._progressPath)throw new Error(r);return void 0===this._progressPath?0:this._progressPath.value()},a.prototype.setText=function(t){if(null===this._progressPath)throw new Error(r);null===this.text&&(this.text=this._createTextElement(this._opts,this._container),this._container.appendChild(this.text)),this.text.removeChild(this.text.firstChild),this.text.appendChild(document.createTextNode(t))},a.prototype._createSvgView=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(e,t);var i=null;(t.trailColor||t.trailWidth)&&(i=this._createTrail(t),e.appendChild(i));var s=this._createPath(t);return e.appendChild(s),{svg:e,path:s,trail:i}},a.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 100")},a.prototype._createPath=function(t){var e=this._pathString(t);return this._createPathElement(e,t)},a.prototype._createTrail=function(t){var e=this._trailString(t),i=n.extend({},t);return i.trailColor||(i.trailColor="#eee"),i.trailWidth||(i.trailWidth=i.strokeWidth),i.color=i.trailColor,i.strokeWidth=i.trailWidth,i.fill=null,this._createPathElement(e,i)},a.prototype._createPathElement=function(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",t),i.setAttribute("stroke",e.color),i.setAttribute("stroke-width",e.strokeWidth),e.fill?i.setAttribute("fill",e.fill):i.setAttribute("fill-opacity","0"),i},a.prototype._createTextElement=function(t,e){var i=document.createElement("p");i.appendChild(document.createTextNode(t.text.value));var s=t.text.style;return s&&(e.style.position="relative",n.setStyles(i,s),s.color||(i.style.color=t.color)),i.className=t.text.className,this._initializeTextElement(t,e,i),i},a.prototype._initializeTextElement=function(t,e,i){},a.prototype._pathString=function(t){throw new Error("Override this function for each progress bar")},a.prototype._trailString=function(t){throw new Error("Override this function for each progress bar")},e.exports=a},{"./path":5,"./utils":8}],8:[function(t,e,i){function s(t,e,i){t=t||{},e=e||{},i=i||!1;for(var n in e)if(e.hasOwnProperty(n)){var r=t[n],a=e[n];t[n]=i&&c(r)&&c(a)?s(r,a,i):a}return t}function n(t,e){var i=t;for(var s in e)if(e.hasOwnProperty(s)){var n=e[s],r="\\{"+s+"\\}",a=new RegExp(r,"g");i=i.replace(a,n)}return i}function r(t,e,i){for(var s=0;s<p.length;++s){var n=p[s];t.style[n+o(e)]=i}t.style[e]=i}function a(t,e){d(e,function(e,i){null!==e&&void 0!==e&&(c(e)&&e.prefix===!0?r(t,i,e.value):t.style[i]=e)})}function o(t){return t.charAt(0).toUpperCase()+t.slice(1)}function l(t){return"string"==typeof t||t instanceof String}function h(t){return"function"==typeof t}function u(t){return"[object Array]"===Object.prototype.toString.call(t)}function c(t){if(u(t))return!1;var e=typeof t;return"object"===e&&!!t}function d(t,e){for(var i in t)if(t.hasOwnProperty(i)){var s=t[i];e(s,i)}}var p="Webkit Moz O ms".split(" ");e.exports={extend:s,render:n,setStyle:r,setStyles:a,capitalize:o,isString:l,isFunction:h,isObject:c,forEachObject:d}},{}]},{},[4])(4)}),angular.module("doctorSubapp",["utilsApp"]).controller("doctorSubappCtrl",["$scope","$http","$timeout","$q","utilsService",function(t,e,i,s,n){t.searchDoctor="",t.searchResults=[];s.defer()}]).directive("selectDoctor",["$http","$timeout","utilsService",function(t,e,i){return{restrict:"A",link:function(e,s,n){var r,a,o,l=(e.urlParams.zip,function(t){return String(t).replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})});$(s).selectize({valueField:"id",labelField:"name",searchField:"name",maxItems:null,create:!1,closeAfterSelect:!0,openOnFocus:!1,hideSelected:!0,options:[],render:{option:function(t,e){return'<div><span class="title">'+e(t.name)+'</span><span class="text">'+e(t.specialty)+'</span><span class="text">'+e(t.address1)+", "+e(t.address2)+"</span></div>"}},onInitialize:function(){0==$(".selectize-dropdown").find(".map").length&&(o=$('<div class="map" data-map ></div>'),$(".selectize-dropdown").prepend(o));var n=i.getDoctorsLookup();e.urlParams.profile&&e.urlParams.profile.providers&&_.map(e.urlParams.profile.providers,function(e){n[e]?($(s)[0].selectize.addOption({id:e,name:n[e]}),$(s)[0].selectize.addItem(e,!0)):t.get("https://honeyinsured.com/providers/"+e+"?select=providers.presentation_name").then(function(t){$(s)[0].selectize.addOption({id:e,name:t.data.provider.presentation_name}),$(s)[0].selectize.addItem(e,!0)})})},onDropdownClose:function(){$(".selectize-dropdown-content").off("mouseenter"),$(document).off("keydown");var t=$(s)[0].selectize,e=t.getValue();_.map(t.options,function(i,s){-1==e.indexOf(s)&&delete t.options[s]})},onItemAdd:function(t,i){e.doctorsLookup[t]=i[0].innerHTML},onLoad:function(){$(".selectize-dropdown-content").animate({scrollTop:0},0,function(){$(this).find("div").first().mouseover()})},onDropdownOpen:function(e){o&&!r&&(r=new google.maps.Map(o[0],{scrollwheel:!1,zoom:12})),e.on("mousedown click","[data-map]",function(t){t.preventDefault&&(t.preventDefault(),t.stopPropagation())}),$(document).on("click",".selectize-dropdown-content>div",function(t){t.preventDefault()}),""==$(s)[0].selectize.lastQuery&&$(s)[0].selectize.close();var i=function(e){t.get("https://maps.googleapis.com/maps/api/geocode/json?address="+e).then(function(t){if(a&&a.setMap(null),t.data.results[0]){var e=t.data.results[0].geometry.location;r.panTo(e),a=new google.maps.Marker({position:e,map:r})}})},n=function(){_.map($(".selectize-dropdown-content>div"),function(t){if($(t).hasClass("active")){var e=$(t).find("span").slice(-2);i(e[0].innerHTML+" "+e[1].innerHTML)}})};$(".selectize-dropdown-content").on("mouseenter","div",function(){var t=$(this).find("span").slice(-2);i(t[0].innerHTML+" "+t[1].innerHTML)}),$(document).keydown(function(t){switch(t.which){case 38:n();break;case 40:n();break;default:return}t.preventDefault()}),n()},onType:function(t){""==t&&$(s)[0].selectize.close()},load:function(t,i){return t.length?void $.ajax({url:"https://honeyinsured.com/providers/?q="+encodeURIComponent(t)+"&zip="+e.urlParams.zip,type:"GET",error:function(t){console.log(t)},success:function(e){var n=_.map(e.providers.slice(0,15),function(t){return _.object(_.map(t,function(t,e){if("address2"==e){var i=t.lastIndexOf(","),s=t.substring(0,i),n=t.substring(i+1);return[e,l(s)+","+n]}return[e,l(t)]}))});delete $(s)[0].selectize.loadedSearches[t],i(n)}}):i()}})}}}]).directive("map",["$interval","$timeout","$http","doctorFactory",function(t,e,i,s){return{restrict:"A",scope:!1,link:function(t,s,n){var r,a,o;i.get("https://maps.googleapis.com/maps/api/geocode/json?address="+t.urlParams.zip).then(function(t){o=t.data.results[0].geometry.location});var l=function(){!r&&(r=new google.maps.Map($(s)[0],{center:o,scrollwheel:!1,zoom:10}))};t.$watch("searchResults",function(e){a&&_.map(a,function(t){t.setMap(null)}),a=[],_.map(e,function(e,s){i.get("https://maps.googleapis.com/maps/api/geocode/json?address="+e.address1+e.address2).then(function(e){var i=e.data.results[0].geometry.location,n=new google.maps.Marker({position:i,label:t.ALPHABETS[s],map:r});a.push(n)})})}),e(l,400)}}}]),angular.module("healthcostSubapp",["ngRoute","rzModule"]).controller("healthcostSubappCtrl",["$scope","$http","$timeout","healthcostFactory","HEALTHCOST_CONSTANTS","$location",function(t,e,i,s,n,r){t.healthcostSlider={model:50,ceil:100,floor:0},t.healthcostHover=null,t.heathcostEdit=null,t.DEFINITIONS=n.DEFINITIONS,s.setState(t.urlParams.state),t.urlParams.profile&&+t.urlParams.profile.healthSlider&&(t.healthcostSlider.model=+t.urlParams.profile.healthSlider),t.custom=_.object(_.map(_.keys(n.KEYS),function(t){return[t,""]})),t.$watch("custom",function(t){s.setCustom(t)},!0),t.$watch("profile.persons",function(t){_rawPersons=_.map(_.map(t,_.clone),function(t){return t.age=t.age>65?65:t.age,t.age<=20&&(t.age=20),t}),s.setPersons(_rawPersons)},!0);var a=function(t){return t/100};t.$watch(function(){return r.hash()},function(e){"health"==e&&i(function(){t.$broadcast("rzSliderForceRender")},80),s.setHealthFactor(a(t.healthcostSlider.model)),s.cal()}),t.$watch("healthcostSlider.model",function(e){s.setHealthFactor(a(e)),t.profile.healthSlider=e,s.cal()}),t.useEstimate=function(){s.cal()},t.useDefault=function(e){t.custom[e]="",s.cal()},t.$watch(function(){return s.getHealthcost()},function(e){t.healthcost=e,t.profile.healthcost=s.getParsedcost()})}]).factory("healthcostFactory",["$http","HEALTHCOST_CONSTANTS",function(t,e){var i=null,s=null,n=null,r=null,a=null,o=null,l=null,h={};return h.cal=function(){var t=_.sortBy(_.map(e.PERCENTILE,function(t,e){return[e,t]}),function(t){return Math.abs(n-t[1])}),i=_.map(e.COSTS,function(i,s){return personCosts=_.map(o,function(s){return.11>n?0:(y1=i[t[0][0]],y2=i[t[1][0]],x1=t[0][1],x2=t[1][1],m=(y1-y2)/(x1-x2),_.max([0,(y1+m*(n-x1))*e.STATES[_state]*e.AGE[s.age]]))}),totalCosts=_.reduce(personCosts,function(t,e){return t+e}),r&&""!=r[s]&&(totalCosts=parseInt(r[s].substring(1))),{key:s,value:totalCosts}});s={components:i,total:_.reduce(_.pluck(i,"value"),function(t,e){return t+e})},l={},_.map(i,function(t){var i=e.KEYS[t.key];$.isArray(i)?_.map(i,function(e){l[e]=Math.round(t.value/i.length)}):l[i]=Math.round(t.value)})},h.getResults=function(){return a},h.getHealthcost=function(){return s},h.getParsedcost=function(){return l},h.setPlansFactory=function(t){i=t},h.setPersons=function(t){o=t},h.setCustom=function(t){r=t},h.setState=function(t){_state=t},h.setHealthFactor=function(t){n=t},h}]).directive("healthcostAccordion",function(){return{restrict:"A",link:function(t,e,i){$(e).next().on("show.bs.collapse",function(){$(e).find(".pull-right").hide()}).on("hide.bs.collapse",function(){$(e).find(".pull-right").show()})}}}).directive("inputmask",function(){return{restrict:"A",link:function(t,e,i){$(e).inputmask(t.$eval("{"+i.inputmask+"}"))}}}).value("HEALTHCOST_CONSTANTS",{PERCENTILE:[0,.178,.2131,.2449,.2747,.3023,.328,.3519,.3738,.3942,.4131,.4308,.4474,.4631,.478,.4921,.5054,.518,.53,.5415,.5525,.5629,.573,.5826,.592,.6009,.6095,.6178,.6257,.6335,.6409,.6481,.6549,.6616,.6681,.6744,.6804,.6862,.6918,.6973,.7027,.7078,.7128,.7176,.7224,.727,.7314,.7357,.74,.7441,.7481,.7521,.7559,.7596,.7632,.7667,.7702,.7735,.7768,.78,.7831,.7861,.7891,.792,.7948,.8198,.8641,.9144,.9413,.9569,.9667,.9734,.9782,.9816,.9844,.9951],COSTS:{"Primary Visits":[0,49.4538,76.3407,102.5038,124.2062,144.2154,161.252,174.5025,188.662,200.1068,210.6947,220.0671,226.3018,234.0591,239.9032,246.7145,250.8484,256.6648,264.4775,265.4005,272.3611,275.028,277.6096,280.5428,282.737,288.7977,293.5395,295.9921,298.2618,302.0081,304.6855,308.3947,311.4453,314.2498,317.3484,321.5979,324.4034,327.0138,328.1545,327.2365,327.3965,333.3365,341.4081,339.5008,338.0022,341.8792,342.2981,346.6998,347.9817,347.5274,348.5683,350.8383,357.2492,351.3467,358.3737,360.9306,358.7832,363.5156,361.8649,368.7035,369.6101,365.7936,369.3415,371.5876,374.2103,379.6355,397.2566,410.6176,424.833,450.9254,470.7023,490.0695,512.8181,543.9409,527.9296,584.6467],"Specialist Visits":[0,15.8021,27.4327,36.2079,44.9915,53.4251,61.6052,69.7808,77.6089,85.8637,93.2702,100.7646,106.9145,113.0367,119.7233,125.2929,132.3791,137.7498,142.9593,148.8272,152.9782,160.1669,166.1739,164.5855,170.5018,177.241,179.8019,185.9462,187.9247,194.2222,197.0366,202.7223,207.2347,213.3576,216.4901,218.7731,222.4158,230.7394,229.9338,234.7854,245.3813,242.4497,246.2472,249.1779,253.1394,252.7729,264.6411,265.528,266.3362,272.27,281.5382,280.4749,281.451,285.5311,293.984,287.5958,290.6799,298.4301,302.2678,304.2815,306.5893,315.2097,310.4776,317.756,325.9199,337.6398,381.031,436.1684,494.1655,564.8966,637.4668,705.8823,765.4402,840.5971,928.0429,1249.334],Emergency:[0,.4745,2.2635,5.8572,10.3174,15.965,22.5998,29.0313,38.0917,47.0007,55.494,65.6503,75.0033,83.5249,91.0573,100.7943,112.5841,119.6649,127.8207,138.0759,149.737,154.5803,165.5565,171.9032,183.5146,193.1062,202.7061,215.6296,219.2404,233.6666,246.3075,248.3661,253.9298,266.7122,272.1845,280.7525,284.9965,301.9602,315.0419,316.0405,331.1226,335.9852,347.7427,365.4044,360.6892,372.6741,384.4849,377.3535,411.7445,419.6603,418.102,432.8712,445.0092,448.007,446.8865,457.7156,467.7805,497.1733,503.7151,507.5712,529.1958,528.2516,538.7832,533.8281,559.8638,602.6296,745.3396,973.6616,1259.005,1531.2481,1774.3138,1913.916,2041.909,2255.7404,2237.0141,2507.6463],"Generic Drugs":[0,21.0757,31.3214,43.2162,55.7808,69.1137,84.06,98.8916,112.2548,125.8597,138.9918,150.2813,160.8417,171.2687,179.8266,189.5316,199.6906,209.4989,219.2319,227.0556,233.1293,241.1218,249.1678,253.9078,260.4124,267.1761,271.4697,276.6482,285.2642,292.3144,291.1557,293.9399,301.9997,303.1889,311.6492,311.2229,311.6258,322.2515,323.4313,326.059,326.1133,333.4162,339.9749,336.6504,343.5131,349.1604,349.7428,358.8817,340.0179,351.0943,349.0668,359.3362,358.3971,371.7198,356.9521,368.9452,365.6737,361.3587,366.5339,370.2748,374.0622,368.2237,379.0537,381.1982,394.8966,389.1591,405.4817,430.6606,464.8106,515.1149,557.2011,596.1779,636.2604,653.0487,715.2608,792.6096],"Brand Drugs":[0,4.4423,8.8291,15.3045,22.277,30.4136,40.6213,51.8966,65.5417,80.7381,97.5456,116.48,142.7806,164.4582,194.2552,215.954,239.3915,262.7765,286.8947,308.7211,336.8555,359.2905,385.5394,412.4816,435.1972,466.4179,493.6366,516.2833,546.903,575.2036,593.9675,632.1304,654.8802,682.4202,707.1662,735.4619,758.7025,770.8716,808.4797,833.6858,837.8223,873.7914,883.015,926.7747,950.5282,982.4286,999.8753,1024.9485,1042.7914,1076.8201,1094.1533,1127.5546,1136.3544,1179.7888,1186.6736,1235.9856,1249.2318,1264.435,1273.8213,1308.5126,1345.8127,1356.6867,1375.9043,1438.521,1425.8416,1541.2047,1854.0965,2257.4198,2568.4463,2892.8048,3363.9943,3726.8558,3923.2838,4104.2455,4220.6661,4456.2383],
"Lab Tests & Imaging":[0,7.5,17.2468,29.7627,41.7229,54.3231,67.4693,81.0787,94.9944,110.3684,124.8458,137.0574,150.2498,163.4919,174.26,186.5585,196.6611,210.172,220.9016,232.643,245.1898,255.6925,262.2367,273.7883,283.61170000000004,293.55920000000003,300.7637,311.98929999999996,319.52959999999996,327.8713,342.73699999999997,348.84799999999996,359.5904,375.7185,378.2492,387.2627,395.0588,408.0547,412.228,426.7348,441.6537,443.769,452.4871,461.94579999999996,469.04859999999996,475.4235,477.99559999999997,502.7163,506.8478,512.409,522.6363,530.1034,538.9307,533.4899,556.0533,561.1116999999999,575.8874000000001,572.1243,588.5206000000001,603.5378000000001,610.1509,609.7442,614.5205000000001,623.2659,632.9005,678.2843,805.9721999999999,1022.2777,1323.6486,1643.3491,1907.4382,2117.6429,2339.6822,2588.1062,2785.4191,4324.503500000001],"Preventive Care":[0,17.8889,28.9223,42.327,57.0063,71.527,86.239,100.0676,111.2723,120.7065,130.1568,137.448,144.887,152.6814,158.1576,165.8601,173.0643,179.5426,187.5843,193.0891,204.4094,211.8721,220.3244,231.3429,237.4387,243.5526,256.6486,259.2762,267.2755,274.7,285.4871,293.063,296.3507,303.8848,307.7132,318.5106,320.2809,330.6141,330.2088,329.815,342.8752,351.2992,351.1774,356.4717,360.0367,359.3344,362.1783,375.5191,371.6404,380.0976,373.2121,382.5778,389.9611,383.218,398.22,397.4342,411.8161,397.5081,416.5438,407.6761,396.948,413.0578,417.184,405.4901,415.7294,420.0731,440.1533,453.856,462.958,485.8835,492.4253,508.7005,526.8956,527.061,538.2795,548.7049],"In Patient Care":[0,0,0,0,0,.0811,.0207,.1286,.0483,.1896,.2216,.3141,.5953,.9154,1.0191,1.2958,2.0647,2.6201,3.1044,3.6921,4.706,6.2175,7.796,8.1943,11.1302,11.6575,13.632,17.195,17.0636,18.0037,18.8625,22.3451,23.8181,23.973,28.7719,29.7581,32.2966,35.3209,36.0458,41.0047,40.2346,44.5056,44.6011,46.5825,50.034,54.1438,55.7745,56.0692,59.1447,57.6328,61.1126,64.8317,67.2041,64.7223,65.4281,71.2672,73.8316,70.3062,76.2939,76.7068,69.9939,79.4701,74.9164,86.7952,82.3685,108.0071,257.641,1201.8871,3026.3166,4707.7291,6436.8837,8449.1942,10956.0021,13634.0972,16695.0507,27236.079],"Out Patient Care":[0,22.1025,36.6107,46.9204,58.9817,69.4044,81.1243,93.2181,105.1547,115.4449,127.9966,137.9648,150.2111,162.8487,173.4187,180.6407,192.3196,204.356,214.1422,224.6603,234.7424,244.8433,256.3992,269.8896,280.5036,290.3507,297.4218,310.402,321.525,333.3185,344.6483,352.934,362.3896,378.2154,383.0368,405.8149,415.9897,424.5677,438.9185,458.2908,471.5181,482.1169,495.4185,505.359,526.293,533.9047,548.2004,558.6113,581.9854,596.6223,611.7091,612.9059,637.6578,646.7905,676.3576,676.5292,696.4262,709.9175,725.3598,737.3296,753.3535,765.6066,794.5198,794.015,829.2868,900.5458,1165.5431,1688.4361,2350.9254,2908.3214,3386.6268,3733.1116,4224.1272,4695.8999,5078.7971,7237.8064]},DEFINITIONS:{"Primary Visits":"These are visits to your primary care doctor for basic health needs. If required, your primary care doctor can also refer you to specialists.","Specialist Visits":"These are visits to doctors who specialize in specific medical services. Some examples include cardiologists, gastroenterologists and paediaricians.",Emergency:"Emergencies may happen but you probably can't predict this.","Brand Drugs":"These are drugs with brand name and usually costs more than generic drugs.","Generic Drugs":"These are cheaper versions of brand drugs and usually have similar medical effects as brand ones.","Lab Tests & Imaging":"Examples include blood tests, X-rays and CT scans.","Preventive Care":"Examples include health checkups and vaccinations that can help you stay healthy.","In Patient Care":"These include hospital stay and surgery fees.","Out Patient Care":"These are medical procedures that can be done in a medical center without an overnight stay."},KEYS:{"Brand Drugs":44,"Generic Drugs":18,"In Patient Care":[26,27],"Lab Tests & Imaging":[28,68],"Out Patient Care":[41,43],"Preventive Care":46,"Primary Visits":47,"Specialist Visits":59,Emergency:[15,16]},COLORS:{"Brand Drugs":"#ff7f0e","Generic Drugs":"#2ca02c","In Patient Care":"#bcbd22","Lab Tests & Imaging":"#d62728","Out Patient Care":"#9467bd","Preventive Care":"#8c564b","Primary Visits":"#1f77b4","Specialist Visits":"#e377c2",Emergency:"#7f7f7f"},STATES:{FL:1.1151,GA:.9434,MO:.9755,NC:1.3,OH:1.0528,PA:1.033,TX:1.0368,VA:1.1028,CA:1.1028,AZ:.9432,IL:1.033,OR:.9434},AGE:{20:.3556,21:.4299,22:.4699,23:.5019,24:.5599,25:.5621,26:.5734,27:.5868,28:.6086,29:.6265,30:.6355,31:.6489,32:.6624,33:.6708,34:.6797,35:.6842,36:.6887,37:.6932,38:.6977,39:.7066,40:.7156,41:.729,42:.7419,43:.7598,44:.7822,45:.8085,46:.8399,47:.8751,48:.9154,49:.9552,50:1,51:1.0442,52:1.093,53:1.1422,54:1.1954,55:1.2486,56:1.3063,57:1.3645,58:1.4266,59:1.4575,60:1.5196,61:1.5733,62:1.6086,63:1.6529,64:1.6797,65:1.6797}}),angular.module("uninsuredSubapp",[]).controller("uninsuredSubappCtrl",["$scope","$http","$timeout",function(t,e,i){t.selectedScenario="Bad Flu",t.toggleScenario=function(e){window.tagEvent("toggle scenario",{name:e}),t.selectedScenario=e}}]).directive("counter",["$timeout",function(t){return{restrict:"A",link:function(t,e,i){var s=_.max(_.map(t.planSelected.scenarios,function(t){return t.costs.medcost+t.costs.drugcost})),n=d3.scale.linear().domain([0,.5,1]).range(["#2ca02c","#ff7f0e","#ce2627"]),r=function(){return new ProgressBar.Circle($(e)[0],{strokeWidth:10,trailWidth:10,trailColor:"#eee",duration:2e3,easing:"easeInOut",text:{value:"$0"}})},a=r();t.$watch("selectedScenario",function(e){if(e){var r=t.planSelected.scenarios[e].costs;a.animate((r.medcost+r.drugcost)/s,{step:function(t,e){e.text.innerHTML='<div class = "text-center">'+i.name+' <br style="line-height:0px;"><h3 style = "font-weight:300;">$'+(e.value()*s).toFixed(0)+'<span class = "h4" style ="font-weight:300;">/yr</span></h3></div>',e.path.setAttribute("stroke",n(e.value()))}})}})}}}]),angular.module("visualizationSubapp",[]).controller("visualizationSubappCtrl",["$scope","$http","$timeout",function(t,e,i){t.visualizeSelected=null,t.$watch("planSelected",function(e){e&&(t.visualizeSelected=e)}),t.legend={}}]).directive("chart",["$interval","$timeout",function(t,e){return{restrict:"A",link:function(t,i,s){var n,a,o=function(){var r={medDed:"Deductible",moop:"Max Out Of Pocket",issuer:"Issuer",metal:"Metal Level",type:"Network"},o=t.plans,u=t.$eval(s.chartX),c=t.$eval(s.chartColor);n&&n.remove(),n=dimple.newSvg(i[0],"100%","100%");var d=new dimple.chart(n,o);d.setMargins("60px","30px","10%","50px");var p=d.addMeasureAxis("x",u);p.title=r[u];var f=d.addMeasureAxis("y","premium");f.title="Monthly Premium";var g=10*Math.floor(_.min(_.pluck(o,"premium"))/10)-20;f.overrideMin=g,a=d.addSeries(["name","id","premium","medDed","metal","type",c],dimple.plot.bubble),a.getTooltipText=function(t){return[t.aggField[0],"Monthly Premium: "+Math.round(t.aggField[2]),"Deductible: "+Math.round(t.aggField[3]),"Click to view details "+($(window).width()>767?"on the right.":"below.")]},d.assignColor("platinum","#80B1D3"),d.assignColor("gold","#FFED6F"),d.assignColor("silver","#B5B5B5"),d.assignColor("bronze","#FDB462"),d.assignColor("catastrophic","#FB8072"),p.fontSize=f.fontSize=14,a.tooltipFontSize=14,a.tooltipFontFamily=p.fontFamily=f.fontFamily="Lato",p.ticks=f.ticks=5,h(d,p,f),l(),a.shapes.style("cursor","pointer").on("click",function(i){var s=i.aggField[1];t.visualizeSelected.id!=s&&e(function(){t.visualizeSelected=null,l(),e(function(){t.visualizeSelected=_.filter(t.plans,function(t){return t.id==s})[0],window.tagEvent("click visualization",{planId:s}),l()},500)},1)}),t.legend={},_.chain(t.plans).pluck(c).uniq().map(function(e){t.legend[e]=d.getColor(e).fill}),window.onresize=function(){d.draw(0,!0),l(),p.overrideMin>0&&(p._origin=d._xPixels()),f.overrideMin>0&&(f._origin=d._yPixels()+d._heightPixels())}},l=function(){var e=a.chart;e._favorites?e._favorites.selectAll("*").remove():e._favorites=n.append("g"),a.shapes.each(function(i){t.visualizeSelected&&t.visualizeSelected.id==i.aggField[1]&&(shape=d3.select(this),cx=parseFloat(shape.attr("cx")),cy=parseFloat(shape.attr("cy")),r=parseFloat(shape.attr("r")),fill=shape.attr("stroke"),e._favorites.append("circle").attr("cx",cx).attr("cy",cy).attr("r",r+a.lineWeight+2).attr("opacity",1).style("fill","none").style("stroke",fill).style("stroke-width",2))})},h=function(t,e,i,s,n){var r=0;n&&(r=n),t.draw(r,s),e.overrideMin>0&&(e._origin=t._xPixels()),i.overrideMin>0&&(i._origin=t._yPixels()+t._heightPixels())},u=t.$watch("visualizeSelected",function(t){t&&e(o,400),u()});t.$watch(s.chartColor,function(t,e){o()}),t.$watch(s.chartX,function(t,e){o()})}}}]),REQUIRED_PARAMS=["zip","fip","state","profile"];var urlParams=window.getJsonFromUrl();try{if(_.map(REQUIRED_PARAMS,function(t){if(!(t in urlParams))throw"Missing parameters";["profile"].indexOf(t)>-1&&(urlParams[t]=window.decodeJson(urlParams[t]))}),_.map(urlParams.profile.persons,function(t){if(!+t.age)throw"Incorrect persons"}),urlParams.profile.fip!=urlParams.fip||urlParams.profile.zip!=urlParams.zip)throw"Incorrect zip or fip"}catch(err){window.location="/index.html"}$(function(){window.setTimeout(function(){var t=document.createElement("a");t.href=document.referrer,window.tagEvent("recommend",{referrer:document.referrer})},400)});var tagHighQuality=function(t){if("true"==getCookie("isCorrectState")||getCookie("prevStates")&&_.uniq(getCookie("prevStates").split(","))==urlParams.profile.state&&75001!=urlParams.profile.zip){$("#phone").show(),window.tagEvent("good"),window._pq=window._pq||[],flatProfile=_.chain(urlParams.profile.persons).map(function(t){return t.age+"+"+t.smoker}).reduce(function(t,e){return t+","+e}).value(),flatProfile+="|"+urlParams.profile.size+","+urlParams.profile.income,_pq.push(["track","recommend"],{zip:urlParams.profile.zip,state:urlParams.profile.state,fip:urlParams.profile.fip,profile:flatProfile,url:t});try{__adroll.record_user({adroll_segments:"907fefc1"})}catch(e){}}},refreshOwlCarousel=function(){var t=$(".owl-carousel");t.trigger("destroy.owl.carousel"),t.owlCarousel({dots:!1,lazyLoad:!1,responsive:{0:{items:1},600:{items:2},992:{items:3}}}),$(".owl-arrow-right").click(function(e){t.trigger("next.owl.carousel"),e.stopPropagation()}),$(".owl-arrow-left").click(function(e){t.trigger("prev.owl.carousel"),e.stopPropagation()}),t.on("changed.owl.carousel",function(t){t.item.index+t.page.size==t.item.count?$(".owl-arrow-right").addClass("owl-arrow-hide"):$(".owl-arrow-right").removeClass("owl-arrow-hide"),0==t.item.index?$(".owl-arrow-left").addClass("owl-arrow-hide"):$(".owl-arrow-left").removeClass("owl-arrow-hide")});var e=$(window).width()<992?2:$(window).width()<600?1:3;t.find(".panel.summary-card.card-link").length<=e&&$(".owl-arrow-right").addClass("owl-arrow-hide"),$(".owl-arrow-left").addClass("owl-arrow-hide")};angular.module("recommendApp",["ngRoute","ngAnimate","utilsApp","healthcostSubapp","uninsuredSubapp","visualizationSubapp"]).value("CONSTANTS",{BENEFITS:{Basic:[["Primary Visit",47],["Generic Rx",18],["Emergency Room Services",15]],Doctors:[["Primary Visit",47],["Specialist",59],["Preventive Care",46]],Drugs:[["Generic Rx",18],["Preferred Brand",44],["Non-preferred Brand",35],["Specialty",60]],Emergency:[["Emergency Room Services",15],["Emergency Transportation",16]],Inpatient:[["Hospital Stay",26],["Surgeon",27]],Tests:[["Laboratory",28],["X-rays",68],["Imaging",23]]},BENEFITS_OTHER:{Outpatient:[["Facility",41],["Surgery",43]],Pregnancy:[["Prenatal and Postnatal",45],["Well Baby Visits and Care",67],["Delivery + Inpatient Maternity Care",10]],"Mental Health":[["Outpatient Services",33],["Inpatient Services",32]],Dental:[["Accidental",1],["Basic Dental - Adult",5],["Basic Dental - Child",6]]},DRUGS:["Generic Rx","Preferred Brand","Non-preferred Brand","Specialty"],recommended:"We recommended this plan based on your preferences"}).controller("recommendCtrl",["$scope","$http","$q","$timeout","CONSTANTS","utilsService","$location","UTILS_CONSTANTS",function(t,e,i,s,n,r,a,o){t.CONSTANTS=n,t.CONSTANTS.DEFINITIONS=o.DEFINITIONS,t.CONSTANTS.COMBINED_BENEFITS=_.defaults(_.clone(n.BENEFITS),n.BENEFITS_OTHER),t.urlParams=urlParams,t.plans=null,t.planSelected=null,t.similarPlans=null,t.doctorsLookup=r.getDoctorsLookup(),t.error=null;var l="Oops our HoneyInsured bot found an error. Please contact us via support@honeyinsured.com or chat and we will assist you as soon as possible!",h=function(i){return t.doctorsLookup[i]?void 0:e.get("https://honeyinsured.com/providers/"+i+"?select=providers.presentation_name").then(function(e){t.doctorsLookup[i]=e.data.provider.presentation_name})},u=function(i,s){urlParams.profile.providers&&_.map(urlParams.profile.providers,function(t){h(t)}),e.get(r.RECOMMEND_ENDPOINT+window.encodeJson(urlParams.profile)).then(function(e){t.plans=e.data,t.similarPlans=_.sortBy(_.filter(t.plans,function(t){return t.tags&&t.tags.indexOf("handpicked")>-1}),function(t){return t.premium}),t.hsaPlans=_.sortBy(_.filter(t.plans,function(t){return t.hsa}),function(t){return t.premium}),t.doctorPlans=_.sortBy(_.filter(t.plans,function(t){return t.providers&&t.providers.length}),function(t){return t.premium}),i()},function(e){s?s():(t.error=l,window.reportBug("recommend plans not found",JSON.stringify(e)))})},c=function(e){var s=_.first(_.filter(t.plans,function(t){return t.tags&&t.tags.indexOf("recommended")>-1}));selected=s,e&&(selected=_.first(_.filter(t.plans,function(t){return t.id==e}))),!selected&&(selected=s),selected?i.all(_.chain(selected.providers).map(function(t){return h(t)}).compact().value()).then(function(){t.planSelected=selected,t.error=null},function(){t.error=l,window.reportBug("recommend doctors not found")}):(t.error=l,window.reportBug("recommend selected plan not found"))};t.$watch(function(){return a.hash()},function(e){t.plans?(t.planSelected=null,s(function(){c(e)},600)):u(function(){c(e)},function(){u(function(){c(e)})})}),t.parseBenefit=function(t){return"Full"==t.trim()?"the full amount":t},t.hasBenefit=function(e){return!_.every(n.COMBINED_BENEFITS[e],function(e){return!t.planSelected.benefit[e[1]]})},t.getBenefitText=function(e,i){if(e){if(-1==e.indexOf("/"))return"You will pay "+t.parseBenefit(e);var s=t.CONSTANTS.DRUGS.indexOf(i)>-1&&+t.planSelected.drugDed;return"Before spending $"+(s?t.planSelected.drugDed:t.planSelected.medDed)+" on "+(s?"drugs":"healthcare")+", you pay "+t.parseBenefit(e.split("/")[0])+". Afterwards, you pay "+t.parseBenefit(e.split("/")[1])+"."}},t.doctors={total:urlParams.profile.providers?urlParams.profile.providers.length:0},t.showNetworkSize=!1;var d=t.$watch("plans",function(e){e&&(t.doctors.covered=_.chain(e).pluck("providers").reduce(function(t,e){return t.concat(e)},[]).uniq().value().length,d())});t.goBack=function(t){var e=location.search.substr(1)+t;window.location="/info.html?"+e},t.selectPlan=function(t){window.tagEvent("change plan",{plan:t.name}),a.hash(t.id)},t.enroll=function(t,e){e.stopPropagation(),r.savePlan(t);var i=location.search.substr(1);i+="&plan="+t.id,window.location="/enroll.html?"+i},t.selectedSimilar="Handpicked",t.$watch("selectedSimilar",function(){s(refreshOwlCarousel,0)}),t.scrollSuitable=function(){$("button.navbar-toggle").is(":visible")&&$("button.navbar-toggle").click();var t=$(window).width()>991?55:55+$("#enroll-banner").height();$("#suggestions").animatescroll({padding:t})},t.scrollAll=function(){$("button.navbar-toggle").is(":visible")&&$("button.navbar-toggle").click();var t=$(window).width()>991?55:55+$("#enroll-banner").height();$("#allPlans").animatescroll({padding:t})},t.planCompare=null,t.triggerPlanCompare=function(e){t.planCompare=e,window.tagEvent("compare",{current:t.planSelected.name,other:t.planCompare.name}),$("#compare").modal("show")},t.triggerSendPage=function(){$("button.navbar-toggle").is(":visible")&&$("button.navbar-toggle").click().blur(),$("#modal-title").html("Email Me This Page"),$("#modal-content").html("Thanks for trying to find the best insurance for you and your honeys! <span class = 'glyphicon glyphicon-heart red'></span> To save your search, please type in your email and we'll send you a link to this page."),$("#modal-link").show(),$("#email").modal("show")},$("#modal-submit").click(function(){var e=$("#modal-input").val();r.isValidEmail(e)&&-1==e.indexOf(",")&&("Email Me This Page"==$("#modal-title").html()?r.emailPlan(e,{name:t.planSelected.name,premium:t.planSelected.premium,issuer:t.planSelected.issuer,moop:t.planSelected.moop,medDed:t.planSelected.medDed},t.shortUrl):window.updateUser("notify 2016",e),$("#email").modal("hide"))}),t.shortUrl="";var p={};t.$watch(function(){return window.location.href},function(e){p[e]?t.shortUrl=p[e]:r.getShortUrl().then(function(i){p[e]=i,t.shortUrl=i,tagHighQuality(i)})})}]).directive("explanation",["$http","$timeout",function(t,e){return{restrict:"A",link:function(t,e,i){var s=function(t){return t.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})};$("body").on("click","#seeBenefits",function(){var t=$(window).width()>991?30:56;$("#sectionBenefits").animatescroll({padding:t})}),$("body").on("click","#seeAccident",function(){var t=$(window).width()>991?55:110;$("#sectionAccident").animatescroll({padding:t})}),$("body").on("click","#seeNetwork",function(){var t=$(window).width()>991?55:110;$("#sectionNetwork").animatescroll({padding:t})}),t.$watch("planSelected",function(i){if(i){var n=[];n.push('<span class = "text-bold orange">$'+Math.round(i.premium)+"/mo</span> is what you pay for this insurance plan.");var r=i.healthcost.drugcost+i.healthcost.medcost;if(n.push('<span class = "text-bold orange">$'+Math.round(r/12)+"/mo</span> or $"+Math.round(r)+"/yr is the expected amount you will spend on healthcare besides insurance costs. This is based on your expected 2016 healthcare spendings."),n.push('<span class = "text-bold orange">$'+i.medDed+'</span> (Deductible) is generally what you need to spend on healthcare first before the insurance company begins to pay. <a id="seeBenefits">See benefits</a>'),n.push('<span class = "text-bold orange">$'+i.moop+'</span> (Max Out Of Pocket) is the most you ever have to pay for healthcare besides insurance costs. <a id="seeAccident">See accident coverage</a>'),n.push('<span class = "text-bold orange">'+i.type+"</span> means "+t.CONSTANTS.DEFINITIONS[i.type].replace("You","you")+(t.showNetworkSize?' <a id="seeNetwork">See doctor network</a>':"")),t.doctors.total>0&&i.providers)if(0==t.doctors.covered)n.push('<span class = "text-bold orange">None</span> of the plans cover your doctors.');else if(0==i.providers.length)n.push('<span class = "text-bold orange">None</span> of your doctors are covered by this plan.');else if(i.providers.length==t.doctors.total)n.push('<span class = "text-bold orange">All</span> of your doctors are covered by this plan.');else{var a='<span class = "text-bold orange">'+i.providers.length+"</span> of your doctors are covered by this plan: ";1==i.providers.length&&a.replace("your doctors are","your doctors is"),_.map(i.providers,function(e){a+=s(t.doctorsLookup[e])+", "}),a=a.slice(0,-2),n.push(a)}_.map(n,function(t){$(e).append("<li>"+t+"</li>")})}})}}}]).directive("network",["$http","$timeout",function(t,e){return{restrict:"A",link:function(t,e,i){var s=function(t,e,i,s,n){var r='<li class = "col-sm-3 col-xs-6"><div class = "card-link RECOMMENDED"><div class  ="container-circle row-top-15"><div class = "circle" style = "height: BUBBLE_SIZEpx; width: BUBBLE_SIZEpx;" ></div></div><p class = "row-top-15 detail">PROVIDER_NUM doctors</p><p class = "network-name" >ISSUER</p></div></li>',a=e>1e3?Math.round(e/1e3)+"K":e,o=i==s?70:(e-s)/(i-s)*30+40;return $(r.replace("ISSUER",t).replace("PROVIDER_NUM",a).replace("RECOMMENDED",n?"card-recommended":"").replace(/BUBBLE_SIZE/g,o))};t.$watch("planSelected",function(i){if(i){var n=_.chain(t.plans).filter(function(t){return t.network}).map(function(t){return t.issuer+"----"+t.network}).uniq().sortBy(function(t){return parseInt(t.split("----")[1])}).value();n.reverse(),$(e).contents().remove();var r=n.indexOf(i.issuer+"----"+i.network);if(-1==r)return void(t.showNetworkSize=!1);t.showNetworkSize=!0;var a={0:"first",1:"second ",2:"third "};t.networkIndex=r in a?a[r]:r+1+"th ",n=_.map(n,function(t){return[t.split("----")[0],parseInt(t.split("----")[1])]});var o=n[0][1];if(4>r){var l=_.min([3,n.length-1]),h=n[l][1];_.map(n.slice(0,l+1),function(t,i){var a=_.filter(n.slice(0,i),function(e){return e[0]==t[0]}).length;$(e).append(s(t[0]+(a?" Network "+(a+1):""),t[1],o,h,r==i))})}else{var h=n[r][1];_.map(n.slice(0,2),function(t,i){var a=t[0];1==i&&a==n[0][0]&&(a+=" Network 2"),$(e).append(s(a,t[1],o,h,r==i))}),$(e).append($('<li class = "col-sm-3 col-xs-6"><div class = "card-link center-vertical" ><h1 style = "margin-top:25px; height: 155px;">...</h1></div></li>'));var u=_.filter(n.slice(0,2),function(t){return t[0]==n[r][0]}).length;$(e).append(s(n[r][0]+(u?" Network "+(u+1):""),n[r][1],o,h,!0))}}})}}}]).directive("mainContent",["$http","$timeout",function(t,e){return{restrict:"A",link:function(t,i,s){var n=function(){var t,e,i,s=function(){return new Waypoint.Sticky({element:document.getElementById("enroll-panel"),wrapper:!1,handler:function(t){},offset:55})},n=function(){return new Waypoint({element:document.getElementById("suggestions"),wrapper:!1,handler:function(t){"down"==t?$(window).scrollTop()>500&&($("#enroll-panel").removeClass("stuck"),$("#enroll-panel").addClass("bottom"),$("#enroll-panel").css({top:$("#suggestions").offset().top-$("#enroll-panel").outerHeight()-250})):($("#enroll-panel").removeClass("bottom"),$("#enroll-panel").addClass("stuck"),$("#enroll-panel").css({top:""}))},offset:function(){return 80+$("#enroll-panel").outerHeight()}})},r=function(){return new Waypoint({element:document.getElementById("enroll-panel"),wrapper:!1,handler:function(t){"down"==t&&$(window).scrollTop()>500?$("#enroll-banner").addClass("stuck"):$("#enroll-banner").removeClass("stuck")},offset:function(){return-this.element.clientHeight+55}})},a=function(){$(window).width()>991?(!t&&(t=s()),!e&&(e=n()),i&&(i.destroy(),i=null)):($("#enroll-panel").removeClass("bottom"),$("#enroll-panel").removeClass("stuck"),$("#enroll-panel").css({top:""}),e&&(e.destroy(),e=null),t&&(t.destroy(),t=null),!i&&(i=r()))};a(),$(window).resize(function(){a()}),refreshOwlCarousel()};t.$watch(function(){return $(i).is(":visible")},function(t){t&&e(n,400)})}}}]);